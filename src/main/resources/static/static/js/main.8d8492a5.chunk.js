(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e){e.exports={nodes:[{name:"Assignee",attributes:"assigneeId, assname, pname, sname, own, cusip, assigneeCname",model:"relational",id:0},{name:"Category",attributes:"catId, subcat, subcatcname, catnameshort, catnamelong",model:"relational",id:1},{name:"Class",attributes:"classId, cname, classCat, classSubcat",model:"relational",id:2},{name:"Patent",attributes:"patentId, gyear, gdate, appyear, patentCountry, patentPostate, patentAssignee, asscode, claims, patentNclass, patentCat, patentSubcat, cmade, creceive, ratiocit, general, original, fwdaplag, bckgtlag, selfctub, selfctlb , secdupbd, secdlwbd",model:"graph",id:3},{name:"Inventor",attributes:"inventorPatent, lastnam, firstnam, midnam, modifnam, street, city, inventorPostate, inventorCountry, zip, invseq",model:"relational",id:4},{name:"String",attributes:"-",model:"primitive",id:5},{name:"Int",attributes:"-",model:"primitive",id:6},{name:"Boolean",attributes:"-",model:"primitive",id:7}],links:[{source:0,target:5,name:"assname, pname, sname, cusip, assigneeCname",count:1},{source:0,target:6,name:"assigneeId, own",count:1},{source:1,target:5,name:"catId, subcat",count:1},{source:1,target:6,name:"subcatcname, catnameshort, catnamelong",count:1},{source:2,target:5,name:"classId",count:1},{source:2,target:6,name:"cname",count:1},{source:2,target:1,name:"classCat, classSubcat",count:1},{source:3,target:5,name:"patentId, gyear, gdate, appyear, asscode, claims, cmade, creceive, ratiocit, general, original, fwdaplag, bckgtlag, selfctub, selfctlb , secdupbd, secdlwbd",count:1},{source:3,target:6,name:"patentCountry, patentPostate",count:1},{source:3,target:0,name:"patentAssignee",count:1},{source:3,target:2,name:"patentNclass",count:1},{source:3,target:1,name:"patentCat, patentSubcat",count:1},{source:4,target:5,name:"invseq",count:1},{source:4,target:6,name:"lastnam, firstnam, midnam, modifnam, street, city, inventorPostate, inventorCountry, zip",count:1},{source:4,target:3,name:"inventorPatent",count:1},{source:3,target:3,name:"cited",count:1},{source:2,target:2,name:"classCat', classSubcat'",count:1},{source:3,target:0,name:"patentAssignee'",count:1},{source:3,target:2,name:"patentNclass'",count:1},{source:3,target:1,name:"patentCat', patentSubcat'",count:1},{source:3,target:4,name:"inventorPatent'",count:1},{source:3,target:7,name:"cited(patent,-)",count:1}]}},116:function(e){e.exports={nodes:[{name:"Film",attributes:"title, year, rated, released, runtime, genre, director, writer, actors, plot, language, country, awards, poster, metascore, imdbRating, imdbVotes, imdbID, type, response, notableWork, budget, cinematography, country, director, editing, gross, musicComposer, producer, ...",model:"json",id:0},{name:"String",attributes:"-",model:"primitive",id:1},{name:"Boolean",attributes:"-",model:"primitive",id:2}],links:[{source:0,target:1,name:"title, year, rated, released, runtime, genre, director, writer, actors, plot, language, country, awards, poster, metascore, imdbRating, imdbVotes, imdbID, type, response",count:1}]}},117:function(e){e.exports={nodes:[{name:"University",attributes:"unitid,opeid,opeid6,instnm,uniCity,stabbr,uniZip,accredAgency,insturl,npcurl,sch_deg,hcm2,main,numbranch,preddeg,highdeg,control,st_fips,region,locale,locale2,latitude, longitude",model:"relational",id:0},{name:"String",attributes:"productId, productName, productPrice",model:"primitive",id:1},{name:"FamousLocation",attributes:"-",model:"rdf",id:2},{name:"Integer",attributes:"-",model:"primitive",id:3}],links:[{source:0,target:1,name:"opeid,opeid6,instnm,uniCity,stabbr,uniZip,accredAgency,insturl,npcurl,sch_deg,hcm2,main,numbranch,preddeg,highdeg,control,st_fips,region,locale,locale2,latitude, longitude",count:1},{source:0,target:3,name:"unitid",count:1},{source:2,target:1,name:"any function",count:1}]}},118:function(e){e.exports={nodes:[{name:"Person",attributes:"-",model:"graph",id:0},{name:"String",attributes:"-",model:"primitive",id:1}],links:[{source:0,target:1,name:"any function",count:1}]}},119:function(e){e.exports={nodes:[{name:"Person",attributes:"personsId, firstName, lastName, gender, birthday, personCreationDate, personLocationIP, personBrowserUsed, place",model:"graph, relational",id:0,color:0},{name:"Integer",attributes:"-",model:"primitive",id:1,color:1},{name:"UnibenchProduct",attributes:"unibenchProductAsin, unibenchProductTitle, unibenchProductPrice, unibenchProductimgUrl, unibenchProductId, unibenchProductBrand",model:"json",id:2,color:2},{name:"UnibenchOrder",attributes:"orderid, personid, orderdate, totalprice, orderline",model:"json",id:3,color:3},{name:"String",attributes:"-",model:"primitive",id:4,color:4},{name:"Boolean",attributes:"-",model:"primitive",id:5,color:5},{name:"Feedback",attributes:"asin, personId, feedback",model:"key-value",id:6,color:6},{name:"Post",attributes:"postId, postCreationDate, postLocationIP, postBrowserUsed, language, content, postLength",model:"graph, relational",id:7,color:7},{name:"Vendor",attributes:"vendor, vendorCountry, vendorIndustry",model:"relational",id:8,color:8},{name:"Invoice",attributes:"UnibenchOrder",model:"xml",id:9,color:9},{name:"Double",attributes:"-",model:"primitive",id:10,color:10},{name:"UnibenchOrderline",attributes:"productId, asin, title, price, brand",model:"xml",id:11,color:11}],links:[{source:0,target:0,name:"knows",count:1},{source:0,target:4,name:"firstName, lastName, gender, birthday, personCreationDate, personLocationIP, personBrowserUsed",count:1},{source:0,target:1,name:"personsId, place",count:1},{source:2,target:1,name:"unibenchProductId, productBrand",count:1},{source:2,target:4,name:"productAsin, productTitle, imgUrl",count:1},{source:2,target:10,name:"productPrice",count:1},{source:3,target:4,name:"orderid, personid, orderdate",count:1},{source:3,target:10,name:"totalprice",count:1},{source:3,target:2,name:"orderline",count:1},{source:6,target:4,name:"asin, feedback",count:1},{source:6,target:1,name:"personId",count:1},{source:7,target:4,name:"postCreationDate, postLocationIP, postBrowserUsed, language, content",count:1},{source:7,target:1,name:"postId, postLength",count:1},{source:8,target:4,name:"vendor, vendorCountry, vendorIndustry",count:1},{source:9,target:3,name:"unibenchOrder",count:1},{source:7,target:2,name:"has",count:1},{source:0,target:2,name:"hasInterest",count:1},{source:0,target:7,name:"created",count:1},{source:3,target:5,name:"contains(product, -)",count:1},{source:11,target:4,name:"productId, asin, title, brand",count:1},{source:11,target:10,name:"price",count:1}]}},120:function(e){e.exports={nodes:[{name:"Set of Assignees",attributes:"assigneeId, assname, pname, sname, own, cusip, assigneeCname",model:"relational",id:0},{name:"Set of Categories",attributes:"catId, subcat, subcatcname, catnameshort, catnamelong",model:"relational",id:1},{name:"Set of Classes",attributes:"classId, cname, classCat, classSubcat",model:"relational",id:2},{name:"Graph of Patents",attributes:"patentId, gyear, gdate, appyear, patentCountry, patentPostate, patentAssignee, asscode, claims, patentNclass, patentCat, patentSubcat, cmade, creceive, ratiocit, general, original, fwdaplag, bckgtlag, selfctub, selfctlb , secdupbd, secdlwbd",model:"graph",id:3},{name:"Set of Inventors",attributes:"inventorPatent, lastnam, firstnam, midnam, modifnam, street, city, inventorPostate, inventorCountry, zip, invseq",model:"relational",id:4},{name:"Set of Strings",attributes:"-",model:"primitive",id:5},{name:"Set of Integers",attributes:"-",model:"primitive",id:6},{name:"{ true, false }",attributes:"-",model:"primitive",id:7}],links:[{source:0,target:5,name:"assname, pname, sname, cusip, assigneeCname",count:1},{source:0,target:6,name:"assigneeId, own",count:1},{source:1,target:5,name:"catId, subcat",count:1},{source:1,target:6,name:"subcatcname, catnameshort, catnamelong",count:1},{source:2,target:5,name:"classId",count:1},{source:2,target:6,name:"cname",count:1},{source:2,target:1,name:"classCat, classSubcat",count:1},{source:3,target:5,name:"patentId, gyear, gdate, appyear, asscode, claims, cmade, creceive, ratiocit, general, original, fwdaplag, bckgtlag, selfctub, selfctlb , secdupbd, secdlwbd",count:1},{source:3,target:6,name:"patentCountry, patentPostate",count:1},{source:3,target:0,name:"patentAssignee",count:1},{source:3,target:2,name:"patentNclass",count:1},{source:3,target:1,name:"patentCat, patentSubcat",count:1},{source:4,target:5,name:"invseq",count:1},{source:4,target:6,name:"lastnam, firstnam, midnam, modifnam, street, city, inventorPostate, inventorCountry, zip",count:1},{source:4,target:3,name:"inventorPatent",count:1},{source:3,target:3,name:"cited",count:1},{source:2,target:2,name:"classCat', classSubcat'",count:1},{source:3,target:0,name:"patentAssignee'",count:1},{source:3,target:2,name:"patentNclass'",count:1},{source:3,target:1,name:"patentCat', patentSubcat'",count:1},{source:3,target:4,name:"inventorPatent'",count:1},{source:3,target:7,name:"cited(patent,-)",count:1}]}},121:function(e){e.exports={nodes:[{name:"JSON Film",attributes:"-",model:"json",id:0},{name:"Graph Film",attributes:"notableWork, budget, cinematography, country, director, editing, gross, musicComposer, producer, ...",model:"RDF graph",id:1},{name:"Set of Strings",attributes:"-",model:"primitive",id:2},{name:"{ true, false }",attributes:"-",model:"primitive",id:3}],links:[{source:0,target:2,name:"title, year, rated, released, runtime, genre, director, writer, actors, plot, language, country, awards, poster, metascore, imdbRating, imdbVotes, imdbID, type, response",count:1}]}},122:function(e){e.exports={nodes:[{name:"Relational University",attributes:"unitid,opeid,opeid6,instnm,uniCity,stabbr,uniZip,accredAgency,insturl,npcurl,sch_deg,hcm2,main,numbranch,preddeg,highdeg,control,st_fips,region,locale,locale2,latitude, longitude",model:"relational",id:0},{name:"Set of Strings",attributes:"-",model:"primitive",id:1},{name:"RDF FamousLocations",attributes:"-",model:"rdf",id:2},{name:"Set of Integers",attributes:"-",model:"primitive",id:3}],links:[{source:0,target:1,name:"opeid, opeid6, instnm, uniCity, stabbr, uniZip, accredAgency, insturl, npcurl, sch_deg, hcm2, main, numbranch, preddeg, highdeg, control, st_fips, region, locale, locale2, latitude, longitude",count:1},{source:0,target:3,name:"unitid",count:1},{source:2,target:1,name:"any function",count:1}]}},123:function(e){e.exports={nodes:[{name:"RDF Person",attributes:"-",model:"graph",id:0},{name:"Set of Strings",attributes:"-",model:"primitive",id:1}],links:[{source:0,target:1,name:"any function",count:1}]}},124:function(e){e.exports={nodes:[{name:"Relational UnibenchOrderline",attributes:"productId, asin, title, price, brand",model:"xml",id:0,color:11},{name:"Set of Integers",attributes:"-",model:"primitive",id:1,color:1},{name:"Set of Strings",attributes:"-",model:"primitive",id:2,color:4},{name:"{ true, false }",attributes:"-",model:"primitive",id:3,color:5},{name:"Graph Person - knows -> Person",attributes:"knows",model:"graph",id:4,color:0},{name:"JSON UnibenchOrder",attributes:"orderid, personid, orderdate, totalprice, orderline",model:"json",id:5,color:3},{name:"Relational Person",attributes:"personsId, firstName, lastName, gender, birthday, personCreationDate, personLocationIP, personBrowserUsed, place",model:"relational",id:6,color:0},{name:"Graph Post - has -> Product",attributes:"has",model:"graph",id:7,color:7},{name:"Graph Person - hasInterest -> Product",attributes:"hasInterest",model:"graph",id:8,color:0},{name:"Graph Person - created -> Post",attributes:"created",model:"graph",id:9,color:0},{name:"Relational Vendor",attributes:"vendor, vendorCountry, vendorIndustry",model:"relational",id:10,color:8},{name:"XML Invoice",attributes:"UnibenchOrder",model:"xml",id:11,color:9},{name:"JSON UnibenchProduct",attributes:"unibenchProductAsin, unibenchProductTitle, unibenchProductPrice, unibenchProductimgUrl, unibenchProductId, unibenchProductBrand",model:"json",id:12,color:2},{name:"Set of Doubles",attributes:"-",model:"primitive",id:13,color:10},{name:"Relational Post",attributes:"postId, postCreationDate, postLocationIP, postBrowserUsed, language, content, postLength",model:"relational",id:14,color:7},{name:"Relational Feedback",attributes:"asin, personId, feedback",model:"relational",id:15,color:6}],links:[{source:4,target:6,name:"person knows -",count:1},{source:6,target:2,name:"firstName, lastName, gender, birthday, personCreationDate, personLocationIP, personBrowserUsed",count:1},{source:6,target:1,name:"personsId, place",count:1},{source:12,target:1,name:"unibenchProductId, unibenchProductBrand",count:1},{source:12,target:2,name:"unibenchProductAsin, unibenchProductTitle, unibenchProductimgUrl",count:1},{source:12,target:13,name:"unibenchProductPrice",count:1},{source:5,target:3,name:"contains(product, -)",count:1},{source:5,target:2,name:"orderid, personid, orderdate",count:1},{source:5,target:13,name:"totalprice",count:1},{source:5,target:12,name:"orderline",count:1},{source:15,target:4,name:"asin, feedback",count:1},{source:15,target:1,name:"personId",count:1},{source:14,target:2,name:"postCreationDate, postLocationIP, postBrowserUsed, language, content",count:1},{source:14,target:1,name:"postId, postLength",count:1},{source:10,target:2,name:"vendor, vendorCountry, vendorIndustry",count:1},{source:11,target:5,name:"unibenchOrder",count:1},{source:7,target:12,name:"post has -",count:1},{source:8,target:12,name:"person hasInterest -",count:1},{source:7,target:14,name:"- has product",count:1},{source:8,target:6,name:"- hasInterest product",count:1},{source:9,target:14,name:"person created -",count:1},{source:9,target:6,name:"- created post",count:1},{source:0,target:1,name:"productId, asin, title, brand",count:1},{source:0,target:13,name:"price",count:1}]}},125:function(e){e.exports={examples:[{header:"Rel",examples:["QUERY (\\x xs -> if length xs > 20 then xs else case inventorPatent x patents of Just patent -> cons (lastnam x, firstnam x, patentId(patent)) xs; Nothing -> xs)\nFROM inventors\nTO relational",'QUERY (\\x xs -> if xs == nil then cons ("size of inventors table", 1) xs else let (a,b) = (xs !! 0) in cons (a, b + 1) nil)\nFROM inventors\nTO relational']},{header:"Graph",examples:["QUERY (\\x -> if (patentId x == 3858241 || patentId x == 3398406 || patentId x == 3557384 || patentId x == 3634889) then cons ((patentId x, patentCountry x)) else nil)\nFROM patentGraph\nTO algebraic graph","QUERY (\\x -> case gyear x of Just year -> if year < 1964 then cons ((patentId x, patentCountry x)) else nil; Nothing -> cons ((patentId x, patentCountry x)))\nFROM patentGraph\nTO algebraic graph","LET t BE\nQUERY (\\x -> if patentId x ==  3859982 then cons x else nil)\nFROM patentGraph\nTO algebraic graph\nIN\nQUERY (\\x -> findTargetNeighbors x patentGraph)\nFROM t\nAS algebraic graph\nTO algebraic graph"]},{header:"Rel + Graph",examples:['QUERY (\\x xs -> if lastnam x == "Williams" then Overlay (Vertex (inventorPatent x patents))  xs else xs)\nFROM inventors\nTO algebraic graph']},{header:"Currently not working",examples:["QUERY (\\x -> if reachable x (patents !? 3858249) patentGraph then cons x else nil)\nFROM patentGraph\nTO algebraic graph","LET t BE\nQUERY (\\x -> if patentId x == 3858249 then cons x else nil)\nFROM patentGraph\nTO relational\nIN\nQUERY (\\x -> if reachable x (t !! 0) patentGraph then cons x else nil)\nFROM patentGraph\nTO algebraic graph"]}]}},126:function(e){e.exports={examples:[{header:"JSON",examples:["QUERY (\\x xs -> if length xs < 20 then cons x xs else xs)\nFROM films\nTO json",'QUERY (\\x xs -> if isInfixOf "Howard Hall" (actors x) then cons x xs else xs)\nFROM films\nTO json','QUERY (\\x xs -> if HelsinkiMultiModelRepo.Film.SchemaCategory.title x == "Romeo and Juliet" then cons x xs else xs)\nFROM films\nTO json']},{header:"RDF",examples:["QUERY (\\x newrdf -> if length (triplesOf newrdf) < 20 then cons newrdf x else newrdf)\nFROM filmGraph\nTO rdf"]},{header:"JSON + RDF",examples:[]}]}},127:function(e){e.exports={examples:[{header:"Rel",examples:["QUERY (\\x xs -> if length xs > 20 then xs else  cons x xs)\nFROM universities\nTO relational"]},{header:"RDF",examples:["QUERY (\\current total -> if length (triplesOf total) < 20 then cons total current else total)\nFROM famousLocations\nTO rdf"]},{header:"Rel + RDF",examples:["QUERY (\\x xs -> if length xs > 20 then xs else cons (escapeTriple x) xs)\nFROM famousLocations\nTO relational",'QUERY (\\x xs -> if isInfixOf "Football" (show x) then cons (escapeTriple x) xs else xs)\nFROM famousLocations\nTO relational']}]}},128:function(e){e.exports={examples:[{header:"JSON",examples:[]},{header:"RDF",examples:['QUERY (\\triple total -> if tripleContainsString triple (Just "Renaud_de_Cormont") Nothing Nothing then cons total triple else total)\nFROM personGraph\nTO rdf',"QUERY (\\x newrdf -> if length (triplesOf newrdf) < 5 then cons newrdf x else newrdf)\nFROM personGraph\nTO rdf"]},{header:"JSON + RDF",examples:[]}]}},129:function(e){e.exports={examples:[{header:"Rel",examples:['QUERY (\\x xs -> if length xs > 20 then xs else if (personBrowserUsed x == "Safari" && gender x == "female" && lastName x == "Li") then cons x xs else xs)\nFROM persons\nTO relational','QUERY (\\x xs -> if vendorCountry x == "Wales" then cons x xs else xs)\nFROM vendors\nTO relational','QUERY (\\x xs -> if xs == nil then cons ("size", 1) xs else let (a,b) = (xs !! 0) in cons (a, b + 1) nil)\nFROM persons\nTO relational']},{header:"XML",examples:["QUERY (\\x xs -> if totalprice(order x ) > 2100.00 then cons (order x) xs else xs)\nFROM invoices\nTO xml"]},{header:"Graph",examples:['QUERY (\\vertex newGraph -> let person = vertexValue vertex in if firstName person == "Li" && lastName person == "Li" then cons vertex newGraph else newGraph)\nFROM personKnowsPersonGraph\nTO nimblegraph',"LET t BE\nQUERY (\\vertex newGraph -> let person = vertexValue vertex in if personsId person == 26388279076888 then cons vertex newGraph else newGraph)\nFROM personKnowsPersonGraph\nTO nimblegraph\nIN\nQUERY (\\vertex newGraph -> inComingNeighbors vertex personKnowsPersonGraph)\nFROM t\nAS nimblegraph\nTO nimblegraph",'QUERY (\\vertex newGraph -> case (vertexValue vertex) of Right(person) -> if firstName person == "Ning" then cons vertex newGraph else newGraph; Left(post) -> if postId post == 1649267452025 then cons vertex newGraph else newGraph)\nFROM personCreatedPostGraph\nTO nimblegraph','LET t BE\nQUERY (\\v g -> case (vertexValue v) of Right(person) -> g; Left(post) -> if isInfixOf "tennis" (content post) then cons v g else g)\nFROM personCreatedPostGraph\nTO nimblegraph\nIN\nQUERY (\\v g -> nimbleGraphUnion (outGoingNeighbors v personCreatedPostGraph) g)\nFROM t\nAS nimblegraph\nTO nimblegraph',"QUERY (\\vertex newGraph -> case (vertexValue vertex) of Left(person) -> newGraph; Right(product) -> if unibenchProductId product == 5604 then nimbleGraphUnion (inComingNeighbors vertex personToProductGraph) newGraph else newGraph)\nFROM personToProductGraph\nTO nimblegraph","QUERY (\\vertex newGraph -> case (vertexValue vertex) of Left(post) -> if postLength post > (Just 1000) then cons vertex newGraph else newGraph; Right(product) -> newGraph)\nFROM postHasProductGraph\nTO nimblegraph","LET t BE\nQUERY (\\v g -> case (vertexValue v) of Left(post) -> g; Right(product) -> if unibenchProductPrice product > (Just 500.0) then cons v g else g)\nFROM postHasProductGraph\nTO nimblegraph\nIN\nQUERY (\\v g -> nimbleGraphUnion g (inComingNeighbors v postHasProductGraph))\nFROM t\nAS nimblegraph\nTO nimblegraph"]},{header:"JSON",examples:["QUERY (\\x xs -> if totalprice(x) > 3500.00 then cons x xs else xs)\nFROM unibenchOrders\nTO json","QUERY (\\x xs ->if length xs > 0 then if unibenchProductPrice(head xs) < unibenchProductPrice x then cons x nil else xs else cons x nil)\nFROM unibenchProducts\nTO relational"]},{header:"Rel+JSON",examples:['LET t BE\nQUERY (\\x xs -> if orderid x == "aeafd60c-8e60-4daf-9136-d3714911bde7" then cons x xs else xs)\nFROM unibenchOrders\nTO relational\nIN\nQUERY (\\x xs -> cons (orderedBy x persons) xs)\nFROM t\nAS relational\nTO relational']},{header:"XML+JSON",examples:[]},{header:"Graph+JSON",examples:["QUERY (\\x xs -> if totalprice(x) > 3500.00 then Connect (Vertex (orderid(x), orderdate(x))) xs else xs)\nFROM unibenchOrders\nTO algebraic graph"]},{header:"Rel+XML",examples:[]},{header:"Rel+Graph",examples:[]},{header:"XML+Graph",examples:[]},{header:"Rel+XML+JSON",examples:["QUERY (\\x xs -> if length xs > 40 then xs else orderline(order x) ++ xs)\nFROM invoices\nTO relational"]},{header:"Rel+Graph+JSON",examples:[]},{header:"XML+Graph+JSON",examples:[]},{header:"Rel+XML+Graph",examples:[]},{header:"Rel+XML+Graph+JSON",examples:[]}]}},135:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyRTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyRjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJDOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJEOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FYrpWAAABrNJREFUeNrkW2lsVFUUvjMWirYUkS5BXApUa2vd6gL+wAWjoP5RiW2EUBajAiqSuPADQ0w1UUQTrcFAUUSJEKriEuMWFKuJIElFSS24YNpQK6WoBbuAktbva880M8O8vnfevJm+CSf5cme599xzvnfffffce17AJFjycnLzUVwDXAgUAucBY4BMIEOqdQIdwJ/Az4J64OvWtoONibQvkACHgyiuBe4CbgLOjVNlE/AZsAmoBSE9viQAjueieBCYC5yVoAvWDKwHqkBEmy8IgON09lHgXmCESY4cBaqBlSCieUgIgOPDUCwBngBOM0MjXdL/CyDiv6QRAOcvR7EBKDL+kD3AbJBQl1AC4DjrLwaeBYYbf8m/ciu+BCJ6PScAzp+K4nXgTuNveQuYAxK6PSMAzo9C8TFwtUkN2Q7cDBIOx02AOP8FUGpSSzgf3GBHQsDGec7unwOTTWrKDiGhS02ATHjvALeb1JZ3gRlWE+MpVq0yMzIekRk/1YWP6o7Ors5vHI8AXH1Odl8BaTbKrwd4j10MTAduS8JqkKvA94BPgN0A56htNm2OMyDDKNhuSwCcT5dIrMBG6S4oLI1qezqKBcBjwGiPHW8HVgCr0W97VL/fobjMpv2vQAnaHgv/MdYVXurAeSNPhggRw56BQatRVgL3A0H5+xDwI8Dw9g/5Hlq+clmdDYwF8iV0zpb/GP2tApZHOx4m2xwQUCC+VVqOABg+AUUDkO6AgHkwaL2DJXORxPVNylUnw+gpXObaLXFRlxHoaw7U8uoXQ99vViNgqUPnKQfsKojhdW7GuxDW5JUtIuni432hH4JhLJ7Dq6qwcZiPZnpNXDJPfI0kQEJbjVM5PiIgW3nhlkQQILH9LGWnV/iIAK0ts8TngREwDchVKrnKRwRobckVnwcIKFcq4ONrkY8IWBT2SHUq5eEE3Khs/CRm6Z1+8V5sqVQ26/M5gHuhSJ79TqUFmIhOj/ppwQ8/Rshqb5yiWXFQFhsaWeU352UU0KaXlc2mBI1+Y3OzjyO/Gm2kSAIKFQ2awfQ+v3oP23gL/K5oUhh0GPiEZG8KxP97FHULgsqwtTUFCDioqHsGCRipaHA8BQjQrAcyg4roj5KVAgSMUtRNDyqVj0wBAlQ2koBuRf3xKUBAvqJuN1eCrYpAiHNAltNjpyFYDfL47oix38wdmDA5AvYr+kjzWRgcLVcqnKfsJwGNyk5u9TEBtyjrNwaVgRClTPKA/Db8aVOZslkDG2nD2vEuOkqGlLmYpHcGJLlJu8LjtvJFgx06Jvnq8xC33gUBeUE4waWjduua5wdVPrr6VS6cr6PvoXv5Ixed3g3mH/fB1V9OW1w07fM5IEouUEZR4bIWWJzsTRJ55r8I3ONSRRFs3hsIU8hkgkkulf0CPAx8qElQcuk4beYp9Epgoks138LOvqSPgfyAzIwMZlnFSobgIegc4H3gH6AkxmKDub9Mjb0DeoYDrZ1dne0eO14AvfPx8RXgAYaycahbBvt+GLgFpIM0md3PjqrMTMxpYKxB6p1v+s/n7bbSuMCqldmZyc+fRh9ND+IsAxrmG3C3qtj0J1uP84hLrnwnwJbjEQRIxzw0XB2jER93C9Bog9TjsRgzLpzuJr0BzHV6e8gwf9XoziqdCv1YE/oSTQBHwfem/3w+5syPxuukLtfdO0zk+WIs+YuPKLQ7ohzyWTIix3joPPMTLg1d/Yg5gIL7ogf32U/4WGGhYDr+34J6bUALPpPA62w6XYMOP9BaCv3HoD/PeJubODN6U/eEq4cKTIurttpBAZ4L+87TmKdtOt0ah8FbPXS+WnyLEKskqUy5FaweM5dA2e6w+pNkZuajhfMD3/zYBfDKb3Y6+cWwgytOL7bh98nQ73BEgHReIvd4Roy/a6Cs3CRYJOnq7zjV8HWcybC33mpLLKZIA84FPRYhcSokUNL2Civnjd0MjoZbUCy0+PtNkDDD5wQsFB8sxWm2+GJZd8eSt4HnZXnZ66Nb4CHYYxuxat4XmI1inbHeczskq77DMrK4z8AgK3+Q/L5EEMBn/PzQos0zAsQgvg5XY3TpNKOTSAD3NsrQX63TBqq9PVHM9NgvfXi/06ZSjfNqAoQEHj9Pled+pw8cpw2co6aKbSoJxDlJnYniKdP/sqSVrrEw7IBL/TnG+rSXEy7fYVoG/S1uffDkzVEYypB1qewJRCdb5rp9yxN6mQDZFmOS2wisCIXo8Yin7w7LiKiQEcFYfhOMnBmnzo1CLIO09Qyt47niJxDQ29trTmY56Qn4X4ABAFR7IoDmVT5NAAAAAElFTkSuQmCC"},136:function(e,t,a){e.exports=a.p+"static/media/UDBMSTransparentLogo.589c705e.png"},145:function(e,t,a){e.exports=a(232)},150:function(e,t,a){},153:function(e,t,a){},222:function(e,t){e.exports='<div class=\'mainContent\'>\n    <h1>MultiCategory Demo System</h1>\n\n    <p>You can enter a query to the input field. There is a list of example queries behind the "Select example query"\n        dropdown menu.\n        Please note the following restrictions when entering a query.</p>\n\n    <ul>\n        <li>Each query must contain parts QUERY, FROM, AS, TO and RETURN in this order.</li>\n        <li>Typed collections have names <i>customers</i> (graph data), <i>orders</i> (xml structured data) and\n            <i>locations</i> (relational data).</li>\n        <li>LET BE IN -clause is optional.</li>\n        <li>At the moment queries support three data models: relational, xml and graph. After AS and TO user must write\n            exactly one of these.</li>\n        <li>If user is querying data to graph model, then the function in QUERY line must have exactly one variable\n            (i.e. \\x\n            -> ...)</li>\n        <li>If user is querying any other model, then the function in QUERY line must have exactly two variables (i.e.\n            \\x xs\n            -> ...) where the second variable refers\n            to the structure where the variable x is inserted.</li>\n    </ul>\n\n    <p> You can use the schema category to see attributes\' names, data model and other information about the data.</p>\n\n    <p>You can find more information about the theoretical background of the system <a\n            href="https://www.overleaf.com/read/kqvkvrhcnmxv">here</a>.\n        Have fun and thanks for the interest!</p>\n</div>'},223:function(e,t){e.exports="<div class='categoricalViewToQuery'>\n<h1>Categorical view to the query</h1>\n<p>This menu toggles the categorical view to the query. This property does not yet work as well as possible because of the huge variety of different kind of queries.</p>\n<p>For obtaining better understanding of the category theoretical structure behind the queries, MultiCategory provides an automatic visualizer for queries. \nThis feature visualizes queries as graphs with respect to the schema category. \nEach query can be considered as a subgraph of the schema category so that each block starting with QUERY-clause starts a path in the schema category. \nThis means that each node of the resulting graph is a datatype and each edge is a Haskell function between two datatypes. \nEventually the composition of the functions represents the whole query. \nThe definition of a category ensures, that the composition is always well-defined and it exists.</p>\n</div>"},224:function(e,t){e.exports="<div class='examples'>\n    <h1>Examples</h1>\n    <p>For each data set we have defined various example queries that are the easiest way to try the system. All of them should work except that some of them are computationally heavy (graph queries) and might not finish in reasonable time. \n    Anyway, even partial results to these queries are avaible in backend since Haskell executes them lazily.</p>\n</div>"},225:function(e,t){e.exports="<div class='result'>\n    <h1>Result</h1>\n    <p>This menu toggles the result to the query.</p>\n</div>"},226:function(e,t){e.exports="<div class='schemaCategoryInfo'>\n<h1>Schema category</h1>\n<p>For a fixed data set schema category consists of objects and morphisms. Objects are various Haskell data types and collections. Morphisms are Haskell functions between those datatypes.</p>\n</div>"},227:function(e,t){e.exports="<div class='uploadData'>\n    <h1>Upload data</h1>\n    <p>This menu allows the user to upload their own data to the system assuming that the data follows the schema category.</p>\n</div>"},228:function(e,t){e.exports="<div class='examples'>\n    <h1>Instance category</h1>\n    <p>Here user can view the instance category that is associated with the selected data set.</p>\n</div>"},229:function(e,t){e.exports="<div class='examples'>\n    <h1>Node and edge contents</h1>\n    <p>Here user can view the contents that are associated to certain nodes nodes and edges of graphs.</p>\n</div>"},230:function(e,t){e.exports="<div class='examples'>\n    <h1>Translated fold function</h1>\n    <p>Here user can view the translated fold function. The fold function is tokenized, parsed and translated in Java backend. \n    If the query execution succeeds the translated fold function is returned from the backend along the result and showed here.</p>\n</div>"},232:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(31),s=a.n(o),i=(a(150),a(29)),l=a.n(i),c=a(45),d=a(6),u=a(7),p=a(9),h=a(8),m=a(10),g=a(46),f=(a(153),{backgroundColorStyle:{backgroundColor:"#f1f1f2"},headerBackGroundColorStyle:{backgroundColor:"#A1D6E2",borderRadius:"5px",marginBottom:"12px",marginRight:"0px",marginLeft:"0px"},fileInputStyle:{border:0,clip:"rect(0, 0, 0, 0)",height:"1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},fileInputLabelStyle:{backgroundColor:"#343a40",color:"#fff",marginRight:"4px",marginTop:"5px",height:"36px",borderRadius:"5px",display:"inline-block",paddingLeft:"1rem",paddingRight:"1rem",lineHeight:"33px"},componentMarginalStyle:{height:"0px",width:"100%",clear:"both"},basicComponentsStyle:{backgroundColor:"#ffffff",borderStyle:"solid",borderRadius:"5px",borderColor:"#d9d9d9",borderWidth:"1px",marginTop:"12px",marginBottom:"12px",marginRight:"0px",marginLeft:"0px",align:"middle",paddingTop:"5px",paddingBottom:"5px"},queryBox:{backgroundColor:"#ffffff",borderStyle:"solid",borderRadius:"5px",borderColor:"#d9d9d9",borderWidth:"1px",width:"100%"},queryButtonStyle:{marginLeft:"5px",marginBottom:"5px"},queryTextStyle:{marginLeft:"10px",marginTop:"5px",fontFamily:"Lucida Console, Monaco, monospace"},popup:{position:"fixed",width:"100%",height:"100%",top:"0",left:"0",right:"0",bottom:"0",margin:"auto",backgroundColor:"rgba(0,0,0, 0.5)"},popupInner:{position:"absolute",left:"25%",top:"25%",right:"25%",margin:"auto",borderRadius:"20px",background:"white",display:"inlineBlock"},infoTextStyle:{paddingRight:"15px",paddingBottom:"15px",paddingLeft:"15px",paddingTop:"15px",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif"},navPanelStyle:{borderStyle:"solid",borderRadius:"5px",borderColor:"#d9d9d9",borderWidth:"1px",borderTop:"0px",borderBottom:"0px",align:"middle",paddingTop:"5px",paddingBottom:"5px"},progressBar:{width:"100%",height:"16px",backgroundColor:"#f1f1f1",borderRadius:"5px"},progress:{backgroundColor:"#616161",height:"100%",margin:"0",borderRadius:"5px"},commonCol:{marginBottom:"5px",marginLeft:"5px",marginRigth:"5px"}}),b=a(49),y=a(112),x={data:[{key:void 0,value:void 0}]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_NODE_EDGE_DATA":return{data:t.data,header:t.header};case"DELETE_NODE_EDGE_DATA":return x;default:return e}},v=[{sql:void 0,document:void 0,graph:void 0}],O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DATA":return{data:t.data,model:t.model,key:t.key};case"DELETE_DATA":return v;default:return e}},w={schema:{},key:""},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SCHEMA_DATA":return{schema:t.data,key:t.key};case"DELETE_SCHEMA_DATA":return w;default:return e}},C={textFieldVisible:!1,nodeModel:{},sourceNode:{}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NODE_MODEL":return{textFieldVisible:t.textFieldVisible,nodeModel:t.nodeModel,sourceNode:t.sourceNode};case"DELETE_NODE_MODEL":return C;default:return e}},N={message:"",variant:""},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTIFICATION":return{message:t.message,variant:t.variant};case"DELETE_NOTIFICATION":return N;default:return e}},j={acceptEdgeDrawing:!1,startingEdge:{},targetEdge:{}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACCEPT_EDGE_DRAWING":return Object.assign({},e,{acceptEdgeDrawing:t.acceptEdgeDrawing});case"ADD_STARTING_EDGE":return Object.assign({},e,{startingEdge:t.startingEdge});case"ADD_TARGET_EDGE":return Object.assign({},e,{targetEdge:t.targetEdge});case"DELETE_ALL_EDGE_DRAWING_DATA":return j;default:return e}},T=a(113),I=Object(b.combineReducers)({nodeData:E,queriedDemoData:O,schemaData:k,nodeModelData:R,notification:S,edgeDrawing:D}),F=Object(b.createStore)(I,Object(T.composeWithDevTools)(Object(b.applyMiddleware)(y.a))),A=a(17),M=a(11),P=a(13),L=a(92),U=a(22),Q=a(23),B=a(134),G=a(64),Y=a(115),q=a(116),J=a(117),H=a(118),V=a(119),z=a(65),W=a(120),_=a(121),K=a(122),X=a(123),Z=a(124),$=a(66),ee=a(125),te=a(126),ae=a(127),ne=a(128),re=a(129),oe=a(42),se=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(A.a,{style:{margin:"5px"},fluid:"true"},r.a.createElement(M.a,null,r.a.createElement(P.a,{xl:6},r.a.createElement("h4",null,"Select data set")),r.a.createElement(P.a,{xl:6},r.a.createElement(Q.a,{style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:1e4,right:"0px"}},r.a.createElement(B.a,{drop:"left",variant:"dark",title:"Datasets",id:"dropdown-button-drop-left",key:"left"},r.a.createElement(Q.a.Item,{href:"#/simple",onClick:this.props.handleDataSetChange.bind(this,{header:"E-commerce data set",examples:$,schemaData:G,instanceData:z,metaData:oe.simpleDemoData,nameForCategoricalQueryView:"simpleDemo"})},"E-commerce data set"),r.a.createElement(Q.a.Item,{href:"#/unibench",onClick:this.props.handleDataSetChange.bind(this,{header:"Unibench data set",examples:re,schemaData:V,instanceData:Z,metaData:oe.unibench,nameForCategoricalQueryView:"unibench"})},"Unibench data set"),r.a.createElement(Q.a.Item,{href:"#/patent",onClick:this.props.handleDataSetChange.bind(this,{header:"Helsinki Multi-Model Repository: Patent data set",examples:ee,schemaData:Y,instanceData:W,metaData:oe.patent,nameForCategoricalQueryView:"patent"})},"Patent data set"),r.a.createElement(Q.a.Item,{href:"#/film",onClick:this.props.handleDataSetChange.bind(this,{header:"Helsinki Multi-Model Repository: Film data set",examples:te,schemaData:q,instanceData:_,metaData:oe.film,nameForCategoricalQueryView:"film"})},"Film data set"),r.a.createElement(Q.a.Item,{href:"#/university",onClick:this.props.handleDataSetChange.bind(this,{header:"Helsinki Multi-Model Repository: Universities data set",examples:ae,schemaData:J,instanceData:K,metaData:oe.university,nameForCategoricalQueryView:"university"})},"University data set"),r.a.createElement(Q.a.Item,{href:"#/person",onClick:this.props.handleDataSetChange.bind(this,{header:"Helsinki Multi-Model Repository: Persons data set",examples:ne,schemaData:H,instanceData:X,metaData:oe.person,nameForCategoricalQueryView:"person"})},"Person data set"))))))}}]),t}(n.Component),ie=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(M.a,{style:f.basicComponentsStyle},r.a.createElement(P.a,{xl:1},r.a.createElement("h4",{align:"right"},"Input")),r.a.createElement(P.a,{xl:8,style:{align:"left"}},r.a.createElement(L.a,{onSubmit:this.props.handleQuery,inline:!0},r.a.createElement(L.a.Control,{as:"textarea",rows:"2",placeholder:"Enter query or choose defined query",value:this.props.query,onChange:this.props.handleQueryChange,style:{width:"90%",marginRight:"5px"}}),r.a.createElement(U.a,{type:"submit",variant:"dark"}," ",r.a.createElement("i",{className:"fas fa-play",style:{fontSize:"24px",marginTop:"4px"}})," "))),r.a.createElement(P.a,{xl:2},r.a.createElement(se,{handleDataSetChange:this.props.handleDataSetChange})),r.a.createElement(P.a,{xl:1},r.a.createElement("i",{className:"fa fa-info-circle",style:{fontSize:"28px",margin:"20px"},"aria-hidden":"true",onClick:function(){return e.props.togglePopup("main")}})))}}]),t}(n.Component),le=a(40),ce=a(135),de=a.n(ce),ue=a(136),pe=a.n(ue),he=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(le.a,{style:f.headerBackGroundColorStyle,variant:"light",expand:"lg"},r.a.createElement(le.a.Brand,{href:"#home"},r.a.createElement("h3",null,"MultiCategory: Category Theory in Multi-model Databases")),r.a.createElement(le.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(le.a.Collapse,{className:"justify-content-end"},r.a.createElement("a",{href:"https://www.helsinki.fi/en/researchgroups/unified-database-management-systems-udbms"}," UDBMS \xa0 ",r.a.createElement("img",{width:"40",height:"40",src:pe.a,alt:"udbmsLogo"})," "),r.a.createElement("div",null,"\xa0 \xa0"),r.a.createElement("a",{href:"https://github.com/valterUo/demo-system-backend-Haskell"},r.a.createElement("img",{width:"30",height:"30",src:de.a,alt:"githublogo"}))))}}]),t}(n.Component),me=a(142),ge=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleStoreChange=function(){a.state.message!==F.getState().notification.message&&a.setState({message:F.getState().notification.message,variant:F.getState().notification.variant})},a.state={message:"",variant:""},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return F.subscribe(this.handleStoreChange),""!==this.state.message?r.a.createElement(me.a,{key:this.state.message,variant:this.state.variant},this.state.message):null}}]),t}(n.Component),fe={notify:function(e,t){F.dispatch({type:"ADD_NOTIFICATION",message:e,variant:t}),setTimeout(function(){F.dispatch({type:"DELETE_NOTIFICATION"})},5e3)}},be=a(141),ye=a(137),xe=a(1),Ee=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).createRelationalComponent=a.createRelationalComponent.bind(Object(g.a)(Object(g.a)(a))),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.createRelationalComponent()}},{key:"componentDidUpdate",value:function(){this.createRelationalComponent()}},{key:"createRelationalComponent",value:function(){var e=this.table,t=this.props.data,a=t[0],n=t.filter(function(e){return e!==a});Object(xe.f)(e).selectAll("table").data([1]).enter().append("table").attr("class","table").append("thead").append("tr").selectAll("th").data(a).enter().append("th").text(function(e){return e}),Object(xe.f)(e).selectAll("table").selectAll("tbody").data([1]).enter().append("tbody").attr("display","block").selectAll("tr").data(n).enter().append("tr").selectAll("td").data(function(e){return a.map(function(t,a){return{column:t,value:e[a]}})}).enter().append("td").text(function(e){return e.value})}},{key:"render",value:function(){var e=this,t=.67*this.props.width,a=.6*this.props.height;return r.a.createElement("div",{style:{overflow:"scroll",width:t,height:a}},r.a.createElement("div",{ref:function(t){return e.table=t}}))}}]),t}(n.Component),ve=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;if(void 0===this.props.data)return null;var t=this.props.data;return r.a.createElement(be.a,{defaultActiveKey:JSON.stringify(t[0][0]),id:"uncontrolled-tab-relational-result"},t.map(function(t){return r.a.createElement(ye.a,{key:JSON.stringify(t[0]),eventKey:JSON.stringify(t[0]),title:"Result"},r.a.createElement(Ee,{width:e.props.width,height:e.props.height,key:JSON.stringify(t[0]),data:t}))}))}}]),t}(n.Component),Oe=a(77),we=(a(57),a(235)),ke=a(51),Ce=Object(Oe.a)(we.a),Re=function(e){e.attr("transform",function(e){return"translate("+e.x+","+e.y+")"})},Ne=function(e){var t=3.1415;e.select("circle").attr("r",10).style("fill",function(e){if(Object.keys(e).includes("color"))return Ce(e.color);if(Object.keys(e).includes("id"))return Ce(e.id);var t=Object.keys(e)[0];return Ce(e[t])}).style("stroke","black").style("stroke-width","1"),e.select("text").attr("dy",".4em").attr("dx",".8em").style("transform","translateX(-50%,-50%"),e.select("g").select(".addEdge").attr("d",Object(ke.a)().innerRadius(10).outerRadius(45).startAngle(0).endAngle(t/2)).attr("stroke","black").style("stroke-width","1").attr("fill","#69b3a2"),e.select(".addEdgeLabel").attr("transform","translate(10, -30)"),e.select("g").select(".removeNode").attr("d",Object(ke.a)().innerRadius(10).outerRadius(45).startAngle(t/2).endAngle(t)).attr("stroke","black").style("stroke-width","1").attr("fill","#69b3a2"),e.select(".removeNodeLabel").attr("transform","translate(7, 5)"),e.select("g").select(".removeEdges").attr("d",Object(ke.a)().innerRadius(10).outerRadius(45).startAngle(t).endAngle(1.5*t)).attr("stroke","black").style("stroke-width","1").attr("fill","#69b3a2"),e.select(".removeEdgesLabel").attr("transform","translate(-27, 11)"),e.select("g").select(".addNodeStartingFromThisNode").attr("d",Object(ke.a)().innerRadius(10).outerRadius(45).startAngle(1.5*t).endAngle(2*t)).attr("stroke","black").style("stroke-width","1").attr("fill","#69b3a2"),e.select(".addNodeStartingFromThisNodeLabel").attr("transform","translate(-30, -30)")},Se=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).nodeRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.d3Node=Object(xe.f)(this.nodeRef.current).datum(this.props.data).call(Ne)}},{key:"componentDidUpdate",value:function(){this.d3Node.datum(this.props.data).call(Re)}},{key:"handle",value:function(e){var t=this.props.data,a=[];for(var n in t){if("index"===n)break;var r=t[n];a.push({key:n,value:r})}JSON.stringify(F.getState().nodeData.data)!==JSON.stringify(a)&&F.dispatch({type:"SHOW_NODE_EDGE_DATA",data:a,header:"Node"}),this.d3Node.select("circle").style("fill","#FCBC34")}},{key:"handleColorChangeBack",value:function(e){this.d3Node.select("circle").style("fill",function(e){if(Object.keys(e).includes("color"))return Ce(e.color);if(Object.keys(e).includes("id"))return Ce(e.id);var t=Object.keys(e)[0];return Ce(e[t])})}},{key:"showNodeHandlingButtons",value:function(){var e=this;this.props.editableGraph&&("hidden"===this.d3Node.select(".nodeHandlingButtons").attr("visibility")?this.d3Node.select(".nodeHandlingButtons").attr("visibility","visible").transition().duration(500).attr("opacity",1):(this.d3Node.select(".nodeHandlingButtons").transition().duration(500).attr("opacity",0),setTimeout(function(){e.d3Node.select(".nodeHandlingButtons").attr("visibility","hidden")},501),F.dispatch({type:"DELETE_NODE_MODEL"})))}},{key:"changeNodeHandlingButtonColorEnter",value:function(e){this.d3Node.select("."+e).select("path").style("fill","#FCBC34")}},{key:"changeNodeHandlingButtonColorExit",value:function(e){this.d3Node.select("."+e).select("path").style("fill","#69b3a2")}},{key:"handleAddEdge",value:function(){console.log(this.props.data),F.dispatch({type:"ACCEPT_EDGE_DRAWING",acceptEdgeDrawing:!0}),F.dispatch({type:"ADD_STARTING_EDGE",startingEdge:this.props.data}),this.showNodeHandlingButtons()}},{key:"handleRemoveNode",value:function(){var e=this,t=F.getState().schemaData.schema,a=t.nodes.filter(function(t){return JSON.stringify(t)!==JSON.stringify(e.props.data)}),n=t.links.filter(function(t){return JSON.stringify(t.source)!==JSON.stringify(e.props.data)&&JSON.stringify(t.target)!==JSON.stringify(e.props.data)});F.dispatch({type:"ADD_SCHEMA_DATA",data:{nodes:a,links:n},key:"removedNodeKey"+a.length}),this.showNodeHandlingButtons()}},{key:"handleRemoveEdges",value:function(){var e=this,t=F.getState().schemaData.schema,a=t.links.filter(function(t){return JSON.stringify(t.source)!==JSON.stringify(e.props.data)&&JSON.stringify(t.target)!==JSON.stringify(e.props.data)});F.dispatch({type:"ADD_SCHEMA_DATA",data:{nodes:t.nodes,links:a},key:"removedEdgesKey"+a.length}),this.showNodeHandlingButtons()}},{key:"handleAddNodeStartingFromThisNode",value:function(){var e={};for(var t in this.props.data){if("index"===t)break;e[t]=""}F.dispatch({type:"ADD_NODE_MODEL",textFieldVisible:!0,nodeModel:e,sourceNode:this.props.data})}},{key:"render",value:function(){var e=this;return r.a.createElement("g",{ref:this.nodeRef,className:this.props.nodeName},r.a.createElement("circle",{onMouseEnter:this.handle.bind(this),onMouseLeave:this.handleColorChangeBack.bind(this),onClick:this.showNodeHandlingButtons.bind(this)}),r.a.createElement("text",null,this.props.data.name),r.a.createElement("g",{className:"nodeHandlingButtons",display:"block",visibility:"hidden",opacity:"0"},r.a.createElement("g",{className:"addEdgeElement",onClick:this.handleAddEdge.bind(this),onMouseEnter:function(){return e.changeNodeHandlingButtonColorEnter("addEdgeElement")},onMouseLeave:function(){return e.changeNodeHandlingButtonColorExit("addEdgeElement")}},r.a.createElement("path",{className:"addEdge"}),r.a.createElement("foreignObject",{className:"addEdgeLabel",width:"30",height:"30"},r.a.createElement("i",{className:"fas fa-external-link-alt",style:{fontSize:"18px"}}))),r.a.createElement("g",{className:"removeNodeElement",onClick:this.handleRemoveNode.bind(this),onMouseEnter:function(){return e.changeNodeHandlingButtonColorEnter("removeNodeElement")},onMouseLeave:function(){return e.changeNodeHandlingButtonColorExit("removeNodeElement")}},r.a.createElement("path",{className:"removeNode"}),r.a.createElement("foreignObject",{className:"removeNodeLabel",width:"30",height:"30"},r.a.createElement("i",{className:"material-icons",style:{fontSize:"28px"}},"delete_forever"))),r.a.createElement("g",{className:"removeEdgesElement",onClick:this.handleRemoveEdges.bind(this),onMouseEnter:function(){return e.changeNodeHandlingButtonColorEnter("removeEdgesElement")},onMouseLeave:function(){return e.changeNodeHandlingButtonColorExit("removeEdgesElement")}},r.a.createElement("path",{className:"removeEdges"}),r.a.createElement("foreignObject",{className:"removeEdgesLabel",width:"30",height:"30"},r.a.createElement("i",{className:"fas fa-unlink",style:{fontSize:"18px"}}))),r.a.createElement("g",{className:"addNodeStartingFromThisNodeElement",onClick:this.handleAddNodeStartingFromThisNode.bind(this),onMouseEnter:function(){return e.changeNodeHandlingButtonColorEnter("addNodeStartingFromThisNodeElement")},onMouseLeave:function(){return e.changeNodeHandlingButtonColorExit("addNodeStartingFromThisNodeElement")}},r.a.createElement("path",{className:"addNodeStartingFromThisNode"}),r.a.createElement("foreignObject",{className:"addNodeStartingFromThisNodeLabel",width:"26",height:"23"},r.a.createElement("i",{className:"fas fa-plus-circle",style:{fontSize:"22px"}})))))}}]),t}(n.Component),je=function(e){e.select("path").attr("stroke-width",2).style("stroke","grey").attr("fill","none").attr("marker-end","url(#triangle)"),e.select("text").attr("dy",".35em").style("transform","translateX(-50%,-50%").attr("text-anchor","middle")},De=function(e){e.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})},Te=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).edgeRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.d3Link=Object(xe.f)(this.edgeRef.current).datum(this.props.data).call(je)}},{key:"componentDidUpdate",value:function(){this.d3Link.datum(this.props.data).call(De)}},{key:"handle",value:function(e){console.log(this.props+" been clicked")}},{key:"render",value:function(){return void 0!==this.props.data.name?r.a.createElement("g",{ref:this.edgeRef,className:this.props.linkName},r.a.createElement("path",{onClick:this.handle.bind(this)}),r.a.createElement("text",null,this.props.data.name)):r.a.createElement("g",{ref:this.edgeRef,className:this.props.linkName},r.a.createElement("path",{onClick:this.handle.bind(this)}))}}]),t}(n.Component),Ie=a(37),Fe=a(15),Ae=a(61),Me=[];var Pe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleStoreChange=function(){F.getState().edgeDrawing.acceptEdgeDrawing!==a.state.acceptEdgeDrawing&&a.setState({acceptEdgeDrawing:F.getState().edgeDrawing.acceptEdgeDrawing})},a.state={acceptEdgeDrawing:!1},a.graphRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=.67*this.props.width,a=.6*this.props.height,n=this.props.nodeName,r=this.props.linkName,o=function(e){e.attr("transform",function(e){return"translate("+e.x+","+e.y+")"})},s=function(e){e.select("path").attr("d",function(e){var t=e.source.x,a=e.source.y,n=e.target.x,r=e.target.y,o=0,s=0,i=0,l=0;return t===n&&a===r&&(i=45,l=1,o=30,s=20,n+=1,r+=1),"M"+t+","+a+"A"+o+","+s+" "+i+","+l+", 1 "+n+","+r}),e.select("text").attr("x",function(e){return(e.source.x+e.target.x)/2}).attr("y",function(e){return(e.source.y+e.target.y)/2})},i=function(e){e.selectAll("."+n).call(o),e.selectAll("."+r).call(s)};this.d3Graph=Object(xe.f)(this.graphRef.current);var l=Object(Fe.e)().nodes(this.props.data.nodes).force("charge",Object(Fe.d)().strength(-150)).force("link",Object(Fe.c)(this.props.data.links).distance(100)).force("center",Object(Fe.a)().x(t/2).y(a/2)).force("collide",Object(Fe.b)([10]).iterations([10])).force("xAxis",Object(Fe.f)(t/2).strength(.05)).force("yAxis",Object(Fe.g)(a/2).strength(.05));Object(xe.g)("g."+n).call(Object(Ie.a)().on("start",function(e){xe.b.active||l.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y}).on("drag",function(e){e.fx=xe.b.x,e.fy=xe.b.y}).on("end",function(e){xe.b.active||l.alphaTarget(0),e.fx=null,e.fy=null})),l.on("tick",function(){e.d3Graph.call(i)}),this.d3Graph.call(Object(Ae.a)().extent([[0,0],[.67*this.props.width,.6*this.props.height]]).scaleExtent([.5,2.5])).on("zoom",function(){var e=Object(xe.f)(this);e.call(Ae.a).on("dblclick.zoom",null).on("dragstart.zoom",null).on("mousedown.zoom",null),e.attr("transform",xe.b.transform),e.attr("transform-origin","0 0")})}},{key:"componentDidUpdate",value:function(){var e=this.state.acceptEdgeDrawing;this.d3Graph.on("mousemove",function(){if(!0===e){var t=Object(xe.d)(this),a=Object(xe.f)(this);!function(e,t,a){t.length>0&&(t.push(e),function(e,t){t.selectAll("#dynamicPath").remove(),t.selectAll("#dynamicLine").data([e]).append("path").attr("id","dynamicPath").attr("class","lineClass").attr("stroke-width","1.5px").attr("stroke","#000").attr("fill","none").attr("d",Object(ke.b)().x(function(e){return e[0]}).y(function(e){return e[1]}))}(t,a),t.length>=2&&t.pop())}(t,Me,a)}}).on("click",function(){if(!0===e){var t=Object(xe.d)(this);0===Me.length?Me.push(t):1===Me.length&&(Me=[])}}),this.d3Graph.call(Object(Ae.a)().extent([[0,0],[.67*this.props.width,.6*this.props.height]]).scaleExtent([.5,2.5]).on("zoom",function(){var e=Object(xe.f)(this);e.call(Ae.a).on("dblclick.zoom",null).on("dragstart.zoom",null).on("mousedown.zoom",null),e.attr("transform",xe.b.transform),e.attr("transform-origin","0 0")}))}},{key:"render",value:function(){var e=this,t=.67*this.props.width,a=.6*this.props.height,n=this.props.data.nodes.map(function(t,a){return r.a.createElement(Se,{data:t,name:t.name,key:void 0===t.id?a:t.id,nodeName:e.props.nodeName,editableGraph:e.props.editableGraph})}),o=this.props.data.links.map(function(t,a){return r.a.createElement(Te,{key:void 0===t.id?a:t.id,data:t,linkName:e.props.linkName})});return r.a.createElement("div",null,r.a.createElement("svg",{key:this.props.nameClass+"Key",className:this.props.nameClass,ref:this.graphRef,width:t,height:a},r.a.createElement("defs",null,r.a.createElement("marker",{id:"triangle",refX:"21",refY:"6",markerWidth:"100",markerHeight:"100",orient:"auto",markerUnits:"userSpaceOnUse"},r.a.createElement("path",{d:"M 0 0 12 6 0 12 3 6",fill:"grey"}))),r.a.createElement("g",null,o),r.a.createElement("g",null,n),r.a.createElement("g",{id:"dynamicLine"})))}}]),t}(n.Component),Le=a(138),Ue=a.n(Le),Qe={shape:"circle",shapeProps:{stroke:"black",strokeWidth:"1",r:10}},Be=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=.9*this.props.width,t=.6*this.props.height;return r.a.createElement("div",{id:"treeWrapper",style:{width:e,height:t}},r.a.createElement(Ue.a,{data:this.props.treeResult,orientation:"vertical",nodeSvgShape:Qe,translate:{x:e/2,y:t/5}}))}}]),t}(r.a.Component),Ge=Object(Oe.a)(we.a),Ye=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).nodeRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.d3Node=Object(xe.f)(this.nodeRef.current).datum(this.props.data).call(this.enterNode)}},{key:"componentDidUpdate",value:function(){this.d3Node.datum(this.props.data).call(this.updateNode)}},{key:"updateNode",value:function(e){e.attr("transform",function(e){return"translate("+e.x+","+e.y+")"})}},{key:"enterNode",value:function(e){var t=10;e.select("text").text().includes("fold")&&(t=15),e.select("circle").attr("r",t).style("fill",function(e){var t=Object.keys(e)[0];return Ge(e[t])}).style("stroke","black").style("stroke-width","1"),e.select("text").attr("dy",".4em").attr("dx",".8em").style("transform","translateX(-50%,-50%")}},{key:"handleOnMouseEnter",value:function(e){var t=this.props.data,a=[];for(var n in t){if("index"===n)break;var r=t[n];a.push({key:n,value:r})}JSON.stringify(F.getState().nodeData.data)!==JSON.stringify(a)&&F.dispatch({type:"SHOW_NODE_EDGE_DATA",data:a,header:"Node"}),this.d3Node.select("circle").style("fill","#FCBC34")}},{key:"handleColorChangeBack",value:function(e){this.d3Node.select("circle").style("fill",function(e){var t=Object.keys(e)[0];return Ge(e[t])})}},{key:"expandLambdaFunction",value:function(e){console.log(this.props.data.id),this.props.handleDataChange(this.props.data.id)}},{key:"render",value:function(){return r.a.createElement("g",{ref:this.nodeRef,className:this.props.nodeName},r.a.createElement("circle",{onMouseEnter:this.handleOnMouseEnter.bind(this),onMouseLeave:this.handleColorChangeBack.bind(this),onClick:this.expandLambdaFunction.bind(this)}),r.a.createElement("text",null,this.props.data.name))}}]),t}(n.Component),qe=function(e){e.select("text").attr("dy",".5em").style("transform","translateX(-50%,-50%").attr("text-anchor","middle"),e.select("path").attr("stroke-width",2).style("stroke","gray").attr("fill","none").attr("marker-end","url(#triangle)")},Je=function(e){e.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})},He=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).edgeRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.d3Link=Object(xe.f)(this.edgeRef.current).datum(this.props.data).call(qe)}},{key:"componentDidUpdate",value:function(){this.d3Link.datum(this.props.data).call(Je)}},{key:"handle",value:function(e){console.log(this.props+" been clicked")}},{key:"render",value:function(){return void 0!==this.props.data.name?r.a.createElement("g",{ref:this.edgeRef,className:this.props.linkName},r.a.createElement("path",{onClick:this.handle.bind(this)}),r.a.createElement("text",null,r.a.createElement("tspan",{style:{"font-weight":"bold"}},this.props.data.name))):r.a.createElement("g",{ref:this.edgeRef,className:this.props.linkName},r.a.createElement("path",{onClick:this.handle.bind(this)}))}}]),t}(n.Component),Ve=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).graphRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.data.nodes);var t=.67*this.props.width,a=.6*this.props.height,n=this.props.nodeName,r=this.props.linkName,o=function(e){e.attr("transform",function(e){return"translate("+e.x+","+e.y+")"})},s=function(e){e.select("path").attr("d",function(e){var t=e.source.x,a=e.source.y,n=e.target.x,r=e.target.y,o=0,s=0,i=0,l=0;return t===n&&a===r&&(i=45,l=1,o=30,s=20,n+=1,r+=1),"M"+t+","+a+"A"+o+","+s+" "+i+","+l+", 1 "+n+","+r}),e.select("text").attr("x",function(e){return(e.source.x+e.target.x)/2}).attr("y",function(e){return(e.source.y+e.target.y)/2})},i=function(e){e.selectAll("."+n).call(o),e.selectAll("."+r).call(s)};this.d3Graph=Object(xe.f)(this.graphRef.current);var l=Object(Fe.e)().nodes(this.props.data.nodes).force("charge",Object(Fe.d)().strength(-150)).force("link",Object(Fe.c)(this.props.data.links).distance(100)).force("center",Object(Fe.a)().x(t/2).y(a/2)).force("collide",Object(Fe.b)([10]).iterations([10])).force("xAxis",Object(Fe.f)(t/2).strength(.05)).force("yAxis",Object(Fe.g)(a/2).strength(.05));Object(xe.g)("g."+n).call(Object(Ie.a)().on("start",function(e){xe.b.active||l.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y}).on("drag",function(e){e.fx=xe.b.x,e.fy=xe.b.y}).on("end",function(e){xe.b.active||l.alphaTarget(0),e.fx=null,e.fy=null})),l.on("tick",function(){e.d3Graph.call(i)})}},{key:"render",value:function(){var e=this,t=.67*this.props.width,a=.6*this.props.height,n=this.props.data.nodes.map(function(t,a){return r.a.createElement(Ye,{data:t,name:t.name,key:void 0===t.id?a:t.id,nodeName:e.props.nodeName,handleDataChange:e.props.handleDataChange.bind(e)})}),o=this.props.data.links.map(function(t,a){return r.a.createElement(He,{key:void 0===t.id?a:t.id,data:t,linkName:e.props.linkName})});return r.a.createElement("div",null,r.a.createElement("svg",{key:this.props.nameClass+"Key",className:this.props.nameClass,ref:this.graphRef,width:t,height:a},r.a.createElement("defs",null,r.a.createElement("marker",{id:"triangle",refX:"21",refY:"6",markerWidth:"100",markerHeight:"100",orient:"auto",markerUnits:"userSpaceOnUse"},r.a.createElement("path",{d:"M 0 0 12 6 0 12 3 6",fill:"grey"}))),r.a.createElement("g",null,o),r.a.createElement("g",null,n)))}}]),t}(n.Component),ze=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){console.log(a.props.data),a.setState({mainFoldDiagram:a.props.data.foldDiagram,lambdaFunctions:a.props.data.lambdaFunctions,selectedDataset:a.props.data.foldDiagram,id:a.props.data.foldDiagram.id,renderButton:"hidden"})},a.handleDataChange=function(e){if(console.log(e),0===e)a.setState({selectedDataset:a.state.mainFoldDiagram,renderButton:"hidden",id:a.state.mainFoldDiagram.id});else{var t=void 0;a.state.lambdaFunctions.map(function(a){return console.log(a.id),a.id===e&&(t=a),a}),void 0!==t&&a.setState({selectedDataset:t,id:t.id,renderButton:"visible"})}},a.state={mainFoldDiagram:void 0,lambdaFunctions:[],selectedDataset:void 0,renderButton:!1,id:void 0},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return void 0!==this.state.selectedDataset?(console.log(this.state.selectedDataset),r.a.createElement(M.a,{style:f.basicComponentsStyle},r.a.createElement(A.a,{style:{margin:"5px"},fluid:"true"},r.a.createElement(P.a,{style:{marginBottom:"5px",marginLeft:"5px",marginRigth:"5px"}},r.a.createElement(M.a,{style:{marginTop:"5px"}},r.a.createElement("h4",null,"Categorical view of the query ",this.props.header)),r.a.createElement(P.a,{style:{marginBottom:"5px",marginLeft:"5px",marginRigth:"5px",visibility:this.state.renderButton}}," ",r.a.createElement(U.a,{variant:"dark",onClick:function(){return e.handleDataChange(0)}},"Back")),r.a.createElement(M.a,{ref:this.mainContainer,style:{margin:"10px"}},r.a.createElement(Ve,{key:this.state.id,data:this.state.selectedDataset,width:this.props.width,height:this.props.height,nodeName:"categoricalViewToQueryNode"+this.state.id,linkName:"categoricalViewToQueryLink"+this.state.id,nameClass:"categoricalViewToQueryClass"+this.state.id,handleDataChange:this.handleDataChange.bind(this)})))))):null}}]),t}(n.Component),We=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.resultSet.model,t=this.props.resultSet.resultData,a=this.props.resultSet.key,n=this.props.width,o=this.props.height,s=null;if(void 0!==t&&!0===this.props.showResult)switch(e){case"relational":s=r.a.createElement(P.a,null,r.a.createElement(ve,{width:n,height:o,key:a,data:t}));break;case"algebraic graph":case"nimblegraph":case"rdf":s=r.a.createElement(Pe,{key:a,data:t,width:n,height:o,nodeName:"GraphNodes",linkName:"GraphLinks",nameClass:"GraphClassName",editableGraph:!1});break;case"xml":case"json":s=r.a.createElement(Be,{key:a,treeResult:t,width:n,height:o});break;default:console.log("Error in expressing the result. The result model is not defined.")}return null!==s&&!0===this.props.showResult&&!1===this.props.showCategoricalView?r.a.createElement(M.a,{style:f.basicComponentsStyle},r.a.createElement(A.a,{style:{margin:"5px"},fluid:"true"},r.a.createElement(P.a,{style:{marginBottom:"5px",marginLeft:"5px",marginRigth:"5px"}},r.a.createElement(M.a,{style:{marginTop:"5px"}},r.a.createElement("h4",null,"Result"),r.a.createElement(U.a,{style:{marginLeft:"15px",marginTop:"5px",height:"30px"},size:"sm",variant:"dark",onClick:this.props.initializeResult},"Empty")),r.a.createElement(M.a,{ref:this.mainContainer,style:{margin:"10px"}},s)))):!1===this.props.showResult&&!0===this.props.showCategoricalView?r.a.createElement(ze,{data:t.data,width:n,height:o}):null}}]),t}(n.Component),_e=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{width:this.props.width,height:this.props.height}},r.a.createElement("div",{style:f.popup},r.a.createElement("div",{style:f.popupInner},r.a.createElement("div",{style:f.infoTextStyle},r.a.createElement("div",{dangerouslySetInnerHTML:this.props.content}),r.a.createElement(U.a,{variant:"dark",onClick:this.props.closePopup},"Close")))))}}]),t}(r.a.Component),Ke=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).updateLink=function(e){e.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y})},a.enterLink=function(e){e.select("path").attr("stroke-width",2).style("stroke","grey").attr("fill","none").attr("marker-end","url(#multitriangle"+a.props.linkName+")"),e.select("text").attr("dy",".35em").style("transform","translateX(-50%,-50%").attr("text-anchor","middle")},a.handleMouseEntering=function(){a.props.showEdgeLabels&&a.d3Link.select("text").attr("visibility","visible").attr("dy",".35em").style("transform","translateX(-50%,-50%").attr("text-anchor","middle"),a.d3Link.select("path").attr("stroke-width",5).style("stroke","#666666").attr("fill","none"),F.dispatch({type:"SHOW_NODE_EDGE_DATA",data:[{key:"label",value:a.props.data.name}],header:"Edge"})},a.handleMouseExiting=function(){a.props.showEdgeLabels&&a.d3Link.select("text").attr("visibility","hidden"),a.d3Link.select("path").attr("stroke-width",2).style("stroke","grey").attr("fill","none")},a.edgeRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.d3Link=Object(xe.f)(this.edgeRef.current).datum(this.props.data).call(this.enterLink)}},{key:"componentDidUpdate",value:function(){this.d3Link.datum(this.props.data).call(this.updateLink)}},{key:"handle",value:function(e){console.log(this.props+" been clicked")}},{key:"render",value:function(){var e,t=this;return e=void 0!==this.props.edgekey?this.props.edgekey:this.props.data.name,void 0!==this.props.data.name?r.a.createElement("g",{ref:this.edgeRef,className:this.props.linkName,onMouseEnter:this.handleMouseEntering.bind(this),onMouseLeave:this.handleMouseExiting.bind(this)},r.a.createElement("path",{id:e,onClick:this.handle.bind(this)}),r.a.createElement("text",{visibility:"hidden"},this.props.data.name)):r.a.createElement("g",{ref:this.edgeRef,className:this.props.linkName,onMouseEnter:function(){return t.handleMouseEntering},onMouseLeave:function(){return t.handleMouseExiting}},r.a.createElement("path",{onClick:this.handle.bind(this)}))}}]),t}(n.Component),Xe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).graphRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=.67*this.props.width,a=.6*this.props.height,n=this.props.nodeName,r=this.props.linkName,o=function(e){e.attr("transform",function(e){return"translate("+e.x+","+e.y+")"})},s=function(e){e.select("path").attr("d",function(e){var t=e.source.x,a=e.source.y,n=e.target.x,r=e.target.y,o=n-t,s=r-a,i=0;e.count>1&&(i=(1/e.count-1)*Math.sqrt(o*o+s*s));var l=i,c=i,d=0,u=0,p=1;return t===n&&a===r&&(d=45,u=1,p=0,l=60,c=40,n+=1,r+=1),"M"+t+","+a+"A"+l+","+c+" "+d+","+u+","+p+" "+n+","+r}),e.select("text").attr("x",function(e){return(e.source.x+e.target.x)/2}).attr("y",function(e){return(e.source.y+e.target.y)/2})},i=function(e){e.selectAll("."+n).call(o),e.selectAll("."+r).call(s)};this.d3Graph=Object(xe.f)(this.graphRef.current);var l=Object(Fe.e)().nodes(this.props.data.nodes).force("charge",Object(Fe.d)().strength(-100)).force("link",Object(Fe.c)(this.props.data.links).distance(200)).force("center",Object(Fe.a)().x(t/2).y(a/2)).force("collide",Object(Fe.b)([90]).iterations([30])).force("xAxis",Object(Fe.f)(t/2).strength(.01)).force("yAxis",Object(Fe.g)(a/2).strength(.01));Object(xe.g)("g."+n).call(Object(Ie.a)().on("start",function(e){xe.b.active||l.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y}).on("drag",function(e){e.fx=xe.b.x,e.fy=xe.b.y}).on("end",function(e){xe.b.active||l.alphaTarget(0),e.fx=null,e.fy=null})),l.on("tick",function(){e.d3Graph.call(i)})}},{key:"render",value:function(){var e=this,t=.67*this.props.width,a=.6*this.props.height,n=this.props.data.nodes.map(function(t,a){return r.a.createElement(Se,{data:t,name:t.name,key:t.id,nodeName:e.props.nodeName,editableGraph:e.props.editableGraph})}),o=this.props.data.links.map(function(t,a){return r.a.createElement(Ke,{key:void 0===t.id?t.name:t.id,edgekey:t.id,data:t,linkName:e.props.linkName,showEdgeLabels:e.props.showEdgeLabels})});return r.a.createElement("div",null,r.a.createElement("svg",{key:this.props.nameClass+"Key",className:this.props.nameClass,ref:this.graphRef,width:t,height:a},r.a.createElement("defs",null,r.a.createElement("marker",{id:"multitriangle"+this.props.linkName,refX:"21",refY:"6",markerWidth:"100",markerHeight:"100",orient:"auto",markerUnits:"userSpaceOnUse"},r.a.createElement("path",{d:"M 0 0 12 6 0 12 3 6",fill:"grey"}))),r.a.createElement("g",null,o),r.a.createElement("g",null,n)))}}]),t}(n.Component),Ze=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).mainContainer=r.a.createRef(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.props.showSchemaCategory?r.a.createElement(M.a,{style:f.basicComponentsStyle},r.a.createElement(A.a,{style:{margin:"5px"},fluid:"true"},r.a.createElement(P.a,{style:f.commonCol},r.a.createElement(M.a,{style:{marginTop:"5px"}},r.a.createElement("h4",null,"Schema category of ",this.props.dataSet.header)),r.a.createElement(M.a,{ref:this.mainContainer,style:{margin:"10px"}},r.a.createElement(Xe,{key:this.props.dataSet.schemaKey,data:this.props.dataSet.schemaData,width:this.props.width,height:this.props.height,nodeName:"SchemaCategoryNodes",linkName:"SchemaCategoryEdges",nameClass:"SchemaCategoryClass",editableGraph:!1,showEdgeLabels:!0}))))):null}}]),t}(n.Component),$e=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).mainContainer=r.a.createRef(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.props.showInstanceCategory?r.a.createElement(M.a,{style:f.basicComponentsStyle},r.a.createElement(A.a,{style:{margin:"5px"},fluid:"true"},r.a.createElement(P.a,{style:f.commonCol},r.a.createElement(M.a,{style:{marginTop:"5px"}},r.a.createElement("h4",null,"Instance category of ",this.props.dataSet.header)),r.a.createElement(M.a,{ref:this.mainContainer,style:{margin:"10px"}},r.a.createElement(Xe,{key:this.props.dataSet.instanceKey,data:this.props.dataSet.instanceData,width:this.props.width,height:this.props.height,nodeName:"InstanceCategoryNodes",linkName:"InstanceCategoryEdges",nameClass:"InstanceCategoryClass",editableGraph:!1,showEdgeLabels:!0}))))):null}}]),t}(n.Component),et=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.props.showInstanceCategory||this.props.showSchemaCategory?r.a.createElement(M.a,{style:f.basicComponentsStyle},r.a.createElement(A.a,{style:{margin:"5px"},fluid:"true"},r.a.createElement(Ze,{dataSet:this.props.dataSet,width:this.props.width,height:this.props.height,showSchemaCategory:this.props.showSchemaCategory}),r.a.createElement($e,{dataSet:this.props.dataSet,width:this.props.width,height:this.props.height,showInstanceCategory:this.props.showInstanceCategory}))):null}}]),t}(n.Component),tt=a(16),at=a(39),nt=a(36),rt=a(55),ot=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={hasError:!1},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(M.a,{style:f.basicComponentsStyle}," ",r.a.createElement("div",{className:"col"},r.a.createElement("h4",null," Contents "),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"value:")," error to express the data ")))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(n.Component),st=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=r.a.createElement("div",null),t=this.props.data.data;void 0!==t[0].key&&""!==t[0].key&&(e=t.map(function(e){return r.a.createElement("p",{key:e.key},r.a.createElement("b",null,e.key," : ")," ",e.value)}));var a="Contents";return void 0!==this.props.data.header&&(a=this.props.data.header),r.a.createElement(P.a,null,r.a.createElement(ot,null,r.a.createElement(M.a,{style:f.basicComponentsStyle},r.a.createElement(P.a,null,r.a.createElement("h4",null," ",a," "),r.a.createElement("div",null,e)))))}}]),t}(n.Component),it=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(P.a,null,r.a.createElement(M.a,{style:f.basicComponentsStyle},r.a.createElement(P.a,null,r.a.createElement("h4",null," Query corresponds fold"),r.a.createElement("div",null,this.props.fold))))}}]),t}(n.Component);function lt(e){var t=e.children,a=e.eventKey,n=Object(rt.b)(a);return r.a.createElement(U.a,{style:{width:"138px"},type:"button",variant:"dark",onClick:n},t)}var ct=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=[];return"algebraic graph"===this.props.resultSet.model&&void 0!==this.props.resultSet.resultData&&(t=this.props.resultSet.resultData.nodes.map(function(e,t){for(var a=[],n=0,o=Object.keys(e);n<o.length;n++){var s=o[n];if("index"===s)break;a.push(r.a.createElement("div",{key:e[s]+t+Math.random()},r.a.createElement("b",null,s),":",e[s]))}return a})),r.a.createElement(A.a,null,r.a.createElement(le.a,null,r.a.createElement(P.a,null,r.a.createElement(tt.a,null,r.a.createElement(tt.a.Header,{style:{backgroundColor:"#BDF2FF"}},r.a.createElement(M.a,{style:{margin:"5px"}},r.a.createElement("h4",null,"Results")))),r.a.createElement(at.a.Item,null,r.a.createElement(tt.a,null,r.a.createElement(tt.a.Header,null,r.a.createElement(U.a,{style:{width:"138px"},type:"button",variant:"dark",onClick:this.props.toggleResult},"Result"),r.a.createElement("i",{className:"fa fa-info-circle",style:{fontSize:"20px",float:"right"},"aria-hidden":"true",onClick:function(){return e.props.togglePopup("result")}})))),r.a.createElement(at.a.Item,null,r.a.createElement(tt.a,null,r.a.createElement(tt.a.Header,null,r.a.createElement(U.a,{style:{width:"138px"},type:"button",variant:"dark",onClick:this.props.toggleCategoricalView},"Categorical view of query "),r.a.createElement("i",{className:"fa fa-info-circle",style:{fontSize:"20px",float:"right"},"aria-hidden":"true",onClick:function(){return e.props.togglePopup("categoricalViewToQuery")}})))),r.a.createElement(nt.a,null,r.a.createElement(tt.a,null,r.a.createElement(tt.a.Header,null,r.a.createElement(lt,{eventKey:"f1"},"Contents of a node"),r.a.createElement("i",{className:"fa fa-info-circle",style:{fontSize:"20px",float:"right"},"aria-hidden":"true",onClick:function(){return e.props.togglePopup("nodeEdgeContents")}}))),r.a.createElement(nt.a.Collapse,{eventKey:"f1"},r.a.createElement(M.a,null,r.a.createElement(st,{data:this.props.showedStat})))),r.a.createElement(nt.a,null,r.a.createElement(tt.a,null,r.a.createElement(tt.a.Header,null,r.a.createElement(lt,{eventKey:"f2"},"Fold-function"),r.a.createElement("i",{className:"fa fa-info-circle",style:{fontSize:"20px",float:"right"},"aria-hidden":"true",onClick:function(){return e.props.togglePopup("foldFunction")}}))),r.a.createElement(nt.a.Collapse,{eventKey:"f2"},r.a.createElement(M.a,null,r.a.createElement(it,{fold:this.props.fold})))),r.a.createElement(at.a.Item,{hidden:!("algebraic graph"===this.props.resultSet.model)},r.a.createElement(nt.a,null,r.a.createElement(tt.a,null,r.a.createElement(tt.a.Header,null,r.a.createElement(lt,{eventKey:"e4"},"Nodes"))),r.a.createElement(nt.a.Collapse,{eventKey:"e4"},r.a.createElement(M.a,{style:f.basicComponentsStyle},r.a.createElement(P.a,null,r.a.createElement("h4",null,"Nodes:"),r.a.createElement("div",null,t.map(function(e,t){return r.a.createElement("div",{key:"list"+t},r.a.createElement("h6",null,"Node: "),e)}))))))))))}}]),t}(n.Component),dt=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:f.queryButtonStyle},r.a.createElement(Q.a,null,r.a.createElement(Q.a.Toggle,{variant:"dark",id:"dropdown-basic"},this.props.header),r.a.createElement(Q.a.Menu,null,this.props.examples.map(function(t,a){return r.a.createElement(Q.a.Item,{key:"".concat(a),eventKey:"e1",onClick:function(){return e.props.handleExampleQuery(t)}},"Example ","".concat(a))}))))}}]),t}(n.Component),ut=a(139),pt=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(A.a,{style:{margin:"5px"},fluid:"true"},r.a.createElement(M.a,{style:{marginBottom:"5px",marginLeft:"5px"}},r.a.createElement("div",null,r.a.createElement("h4",null,this.props.header)),r.a.createElement(M.a,{style:{margin:"10px"}},r.a.createElement(ut.a,null,this.props.examples.examples.map(function(t,a){return r.a.createElement(dt,{key:"".concat(a),header:t.header,examples:t.examples,handleExampleQuery:e.props.handleExampleQuery})})))))}}]),t}(n.Component);function ht(e){var t=e.children,a=e.eventKey,n=Object(rt.b)(a);return r.a.createElement(U.a,{style:{width:"138px"},type:"button",variant:"dark",onClick:n},t)}var mt=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(A.a,null,r.a.createElement(le.a,null,r.a.createElement(P.a,null,r.a.createElement(tt.a,null,r.a.createElement(tt.a.Header,{style:{backgroundColor:"#BDF2FF"}},r.a.createElement(M.a,{style:{margin:"5px"}},r.a.createElement("h4",null,"Selected dataset: ",this.props.dataSet.header)))),r.a.createElement(nt.a,null,r.a.createElement(tt.a,null,r.a.createElement(tt.a.Header,null,r.a.createElement(ht,{eventKey:"e1"},"Examples"),r.a.createElement("i",{className:"fa fa-info-circle",style:{fontSize:"20px",float:"right"},"aria-hidden":"true",onClick:function(){return e.props.togglePopup("examples")}}))),r.a.createElement(nt.a.Collapse,{eventKey:"e1"},r.a.createElement(M.a,{style:f.basicComponentsStyle},r.a.createElement(pt,{header:this.props.dataSet.header,examples:this.props.dataSet.examples,handleExampleQuery:this.props.handleExampleQuery})))),r.a.createElement(at.a.Item,null,r.a.createElement(tt.a,null,r.a.createElement(tt.a.Header,null,r.a.createElement(U.a,{type:"button",variant:"dark",onClick:this.props.toggleSchemaCategory},"Schema category"),r.a.createElement("i",{className:"fa fa-info-circle",style:{fontSize:"20px",float:"right"},"aria-hidden":"true",onClick:function(){return e.props.togglePopup("schemaCategory")}})))),r.a.createElement(at.a.Item,null,r.a.createElement(tt.a,null,r.a.createElement(tt.a.Header,null,r.a.createElement(U.a,{type:"button",variant:"dark",onClick:this.props.toggleInstanceCategory},"Instance category"),r.a.createElement("i",{className:"fa fa-info-circle",style:{fontSize:"20px",float:"right"},"aria-hidden":"true",onClick:function(){return e.props.togglePopup("instanceCategory")}})))))))}}]),t}(n.Component),gt=a(60),ft=a.n(gt),bt={executeQuery:function(){var e=Object(c.a)(l.a.mark(function e(t){var a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={originalQuery:t},e.next=3,ft.a.post("http://localhost:8080/executeQuery",a,{headers:{"Content-Type":"application/json"}}).catch(function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),"object"===typeof e.response.data?fe.notify(e.response.data.message,"warning"):fe.notify(e.response.data,"warning")):e.request?(console.log(e.request),fe.notify("Request sent but no response. Possible reason: backend is terminated.","warning")):(console.log("Error",e.message),fe.notify(e.message,"warning"))});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getSelectiveQueryResultById:function(){var e=Object(c.a)(l.a.mark(function e(t){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft.a.get("http://localhost:8080/selectiveQueryResults/"+t).catch(function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),"object"===typeof e.response.data?fe.notify(e.response.data.message,"warning"):fe.notify(e.response.data,"warning")):e.request?(console.log(e.request),fe.notify("Request sent but no response. Possible reason: backend is terminated.","warning")):(console.log("Error",e.message),fe.notify(e.message,"warning"))});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},yt=function(e){e=e.replace(/(\\[0-9])/g,"");try{var t=JSON.parse(JSON.parse(e));return t.nodes=t.nodes.map(function(e){return JSON.parse(e)}),void 0===t.nodes[0].Left&&void 0===t.nodes[0].Right||(t.nodes=t.nodes.map(function(e){return console.log(e),void 0!==e.Left?e.Left:void 0!==e.Right?e.Right:e})),t}catch(a){console.log("Error while parsing the JSON in Graph.")}},xt=function(e){var t={name:"root",attributes:{},children:[]};return e.map(function(e){return t.children.push(function e(t){var a={name:"",attributes:{},children:[]};return Object.keys(t).forEach(function(n){Array.isArray(t[n])?(a.name=n,t[n].map(function(t){return a.children.push(e(t))})):Et(JSON.stringify(t[n]))?(a.name=n,a.children.push(e(t[n]))):a.attributes[n]=t[n]}),a}(e))}),[t]},Et=function(e){if("string"!==typeof e)return!1;try{var t=JSON.parse(e),a=Object.prototype.toString.call(t);return"[object Object]"===a||"[object Array]"===a}catch(n){return!1}},vt=a(87),Ot=function(e){console.log(e);var t=[],a=[];if(e.map(function(e){var n=kt(e);return void 0!==n.table?(t.push(n.table),n.foreignTables.map(function(e){return e.map(function(e){return a.push(e),e}),e}),console.log(a)):t.push(e),e}),a.length>0){var n=wt(t),r=wt(a);if(void 0!==n&&void 0!==r)return[n,r]}var o=wt(t);if(void 0!==o)return[o]},wt=function(e){var t=[],a=!1;try{var n=Object.keys(e[0]);t.push(n),e.map(function(e){var r,o=(r=e,[Object.keys(r),Object.values(r)]);return Rt(o[0],n)||(console.log("Json objects have different attributes!"),a=!0),t.push(o[1]),e})}catch(r){return void fe.notify("Result is empty","warning")}if(!a)return t},kt=function(e){var t=[];return function(e){var t=Object.values(e),a=!1;return t.map(function(e){return"object"===typeof e&&(a=!0),e}),a}(e)?(Object.keys(e).forEach(function(a){if("object"===typeof e[a]){var n=Object(vt.v4)(),r=Ct(e[a],n);t.push(r),e[a]=n}}),{table:e,foreignTables:t}):e},Ct=function(e,t){try{return e.map(function(e){return e.foreignKey=t,e}),e}catch(a){return}},Rt=function e(t,a){if("object"!==typeof t||"object"!==typeof a)return!1;if(t.length!==a.length)return!1;for(var n=0,r=t.length;n<r;n++)if("object"===typeof t[n]&&"object"===typeof a[n]){if(!e(t[n],a[n]))return!1}else if(t[n]!==a[n])return!1;return!0},Nt={getCategoricalViewToQuery:function(){var e=Object(c.a)(l.a.mark(function e(t){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft.a.post("http://localhost:8080/visualizeQuery/"+t).catch(function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),"object"===typeof e.response.data?fe.notify(e.response.data.message,"warning"):fe.notify(e.response.data,"warning")):e.request?(console.log(e.request),fe.notify("Request sent but no response. Possible reason: backend is terminated.","warning")):(console.log("Error",e.message),fe.notify(e.message,"warning"))});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},St=a(222),jt=a(223),Dt=a(224),Tt=a(225),It=a(226),Ft=a(227),At=a(228),Mt=a(229),Pt=a(230),Lt={__html:St},Ut={__html:jt},Qt={__html:Dt},Bt={__html:Tt},Gt={__html:It},Yt={__html:Ft},qt={__html:At},Jt={__html:Mt},Ht={__html:Pt},Vt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleQueryChange=function(e){a.setState({query:e.target.value})},a.toggleCategoricalView=function(){var e=Object(c.a)(l.a.mark(function e(t){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.state.showCategoricalView){e.next=5;break}a.setState({showCategoricalView:!1}),e.next=15;break;case 5:if(void 0===a.state.queryId){e.next=14;break}return n=window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.now()+window.performance.timing.navigationStart:Date.now(),e.next=9,Nt.getCategoricalViewToQuery(a.state.queryId);case 9:r=e.sent,console.log(r),a.setState(function(e){return{showResult:!1,showCategoricalView:!0,resultSet:{key:n,resultData:r,model:"graph"}}}),e.next=15;break;case 14:fe.notify("Execute query first!","warning");case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleStoreChange=function(){a.state.showedStat!==F.getState().nodeData&&a.setState({showedStat:F.getState().nodeData})},a.handleDataSetChange=function(e){var t=window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.now()+window.performance.timing.navigationStart:Date.now();a.setState({dataSet:{header:e.header,examples:e.examples,schemaData:e.schemaData,instanceData:e.instanceData,schemaKey:t+"schema",instanceKey:t+"instance",metaData:e.metaData,nameForCategoricalQueryView:e.nameForCategoricalQueryView}})},a.handleExampleQuery=function(e){a.setState({query:e})},a.initializeQueryResult=function(){a.setState({resultSet:{key:void 0,resultData:void 0,model:void 0}})},a.executeQuery=function(){var e=Object(c.a)(l.a.mark(function e(t){var n,r,o,s,i,c,d;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.now()+window.performance.timing.navigationStart:Date.now(),e.next=4,bt.executeQuery(a.state.query);case 4:if(r=e.sent,console.log(r),void 0===r){e.next=30;break}return o=r.data.id,e.next=10,bt.getSelectiveQueryResultById(o);case 10:s=e.sent,i=s.data[0].model,c=null,e.t0=i,e.next="relational"===e.t0?16:"algebraic graph"===e.t0?21:"nimblegraph"===e.t0?21:"rdf"===e.t0?21:"xml"===e.t0?24:"json"===e.t0?24:28;break;case 16:return d=JSON.parse(JSON.parse(s.data[0].result.replace(/(\\[0-9])/g,""))),console.log(d.result),c=Ot(d.result),console.log(s),e.abrupt("break",29);case 21:return c=yt(s.data[0].result),console.log(s),e.abrupt("break",29);case 24:return d=JSON.parse(JSON.parse(s.data[0].result.replace(/(\\[0-9])/g,""))),c=xt(d.result),console.log(s),e.abrupt("break",29);case 28:fe.notify("Error in expressing the result. The result model is not defined.","warning");case 29:null!==c&&a.setState({fold:r.data.parsedQuery,resultSet:{key:n,resultData:c,model:i},showResult:!0,queryId:o});case 30:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={query:"",showedStat:{data:[{header:void 0,key:void 0,value:void 0}]},width:window.innerWidth,height:window.innerHeight,showPopup:!1,popContent:Lt,fold:void 0,resultSet:{key:void 0,resultData:void 0,model:void 0},dataSet:{header:"E-commerce",examples:$,schemaData:G,instanceData:z,schemaKey:"initialKey",metaData:oe.simpleDemoData},showSchemaCategory:!1,showInstanceCategory:!1,showCategoricalView:!1,showResult:!1,nameForCategoricalQueryView:"E-commerce",queryId:void 0,showFoldFunction:!1,showContents:!1},a.updateWindowDimensions=a.updateWindowDimensions.bind(Object(g.a)(Object(g.a)(a))),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"togglePopup",value:function(e){switch(e){case"main":this.setState({showPopup:!0,popContent:Lt});break;case"categoricalViewToQuery":this.setState({showPopup:!0,popContent:Ut});break;case"examples":this.setState({showPopup:!0,popContent:Qt});break;case"result":this.setState({showPopup:!0,popContent:Bt});break;case"schemaCategory":this.setState({showPopup:!0,popContent:Gt});break;case"uploadData":this.setState({showPopup:!0,popContent:Yt});break;case"instanceCategory":this.setState({showPopup:!0,popContent:qt});break;case"nodeEdgeContents":this.setState({showPopup:!0,popContent:Jt});break;case"foldFunction":this.setState({showPopup:!0,popContent:Ht});break;default:this.setState(function(e){return{showPopup:!e.showPopup}})}}},{key:"toggleSchemaCategory",value:function(e){e.preventDefault(),this.setState(function(e){return{showSchemaCategory:!e.showSchemaCategory}})}},{key:"toggleInstanceCategory",value:function(e){e.preventDefault(),this.setState(function(e){return{showInstanceCategory:!e.showInstanceCategory}})}},{key:"toggleResult",value:function(e){e.preventDefault(),this.setState(function(e){return{showResult:!e.showResult,showCategoricalView:!1}})}},{key:"toggleContents",value:function(e){e.preventDefault(),this.setState(function(e){return{showResult:!e.showContents}})}},{key:"toggleFoldFunction",value:function(e){e.preventDefault(),this.setState(function(e){return{showResult:!e.showFoldFunction}})}},{key:"render",value:function(){return F.subscribe(this.handleStoreChange),r.a.createElement(A.a,{style:{backgroundColor:"#f1f1f2",minHeight:this.state.height},fluid:"true"},r.a.createElement(he,null),r.a.createElement(M.a,null,r.a.createElement(P.a,{xl:3,style:f.navPanelStyle},r.a.createElement(mt,{dataSet:this.state.dataSet,handleExampleQuery:this.handleExampleQuery,toggleSchemaCategory:this.toggleSchemaCategory.bind(this),toggleInstanceCategory:this.toggleInstanceCategory.bind(this),togglePopup:this.togglePopup.bind(this)}),r.a.createElement(ct,{toggleResult:this.toggleResult.bind(this),toggleCategoricalView:this.toggleCategoricalView.bind(this),togglePopup:this.togglePopup.bind(this),resultSet:this.state.resultSet,showedStat:this.state.showedStat,fold:this.state.fold})),r.a.createElement(P.a,{xl:9},r.a.createElement(A.a,{fluid:"true"},r.a.createElement(ie,{togglePopup:this.togglePopup.bind(this),handleQueryChange:this.handleQueryChange,handleQuery:this.executeQuery,query:this.state.query,handleDataSetChange:this.handleDataSetChange}),r.a.createElement(ge,null),r.a.createElement(et,{dataSet:this.state.dataSet,width:this.state.width,height:this.state.height,showSchemaCategory:this.state.showSchemaCategory,showInstanceCategory:this.state.showInstanceCategory}),r.a.createElement(We,{dataSet:this.state.dataSet,resultSet:this.state.resultSet,width:this.state.width,height:this.state.height,query:this.state.query,initializeResult:this.initializeQueryResult.bind(this),showCategoricalView:this.state.showCategoricalView,showResult:this.state.showResult})))),this.state.showPopup?r.a.createElement(_e,{closePopup:this.togglePopup.bind(this),width:this.state.width,height:this.state.height,content:this.state.popContent}):null)}}]),t}(n.Component),zt=a(140),Wt=function(){s.a.render(r.a.createElement(zt.a,{store:F},r.a.createElement(Vt,{store:F})),document.getElementById("root"))};Wt(),F.subscribe(Wt)},42:function(e){e.exports={simpleDemoData:[{name:"customers",loadingFunction:"collectCustomers",requiredFiles:2},{name:"orders",loadingFunction:"readXMLFile",requiredFiles:1},{name:"locations",loadingFunction:"collectLocations",requiredFiles:1}],patent:[{name:"categories",loadingFunction:"collectCategories",requiredFiles:1},{name:"assignees",loadingFunction:"collectAssignees",requiredFiles:1},{name:"classes",loadingFunction:"collectClasses",requiredFiles:1},{name:"patents",loadingFunction:"collectPatents",requiredFiles:1},{name:"patentGraph",loadingFunction:"collectPatentGraph patents",requiredFiles:1},{name:"inventors",loadingFunction:"collectInventors",requiredFiles:1}],film:[{name:"films",loadingFunction:"collectFilms",requiredFiles:1},{name:"filmGraph",loadingFunction:"collectFilmGraph",requiredFiles:1}],unibench:[{name:"persons",loadingFunction:"collectPersons",requiredFiles:1},{name:"posts",loadingFunction:"collectPosts",requiredFiles:1},{name:"unibenchProducts",loadingFunction:"collectUnibenchProducts",requiredFiles:1},{name:"unibenchOrders",loadingFunction:"collectUnibenchOrders",requiredFiles:1},{name:"personKnowsPersonGraph",loadingFunction:"collectPersonKnowsPersonGraph persons",requiredFiles:1},{name:"personCreatedPostGraph",loadingFunction:"collectPersonPostGraph persons posts",requiredFiles:1},{name:"postHasProductGraph",loadingFunction:"collectPostProductGraph posts unibenchProducts",requiredFiles:1},{name:"personToProductGraph",loadingFunction:"collectPersonToProductGraph persons unibenchProducts",requiredFiles:1},{name:"feedbacks",loadingFunction:"collectFeedbacks",requiredFiles:1},{name:"vendors",loadingFunction:"collectVendors",requiredFiles:1},{name:"invoices",loadingFunction:"collectInvoices",requiredFiles:1}],university:[{name:"universities",loadingFunction:"collectUniversities",requiredFiles:1},{name:"famousLocations",loadingFunction:"collectRDF",requiredFiles:1}],person:[{name:"personGraph",loadingFunction:"collectRDF",requiredFiles:1}]}},64:function(e){e.exports={nodes:[{name:"Customer",attributes:"customerId, customerName, creditLimit, location",model:"graph",id:0},{name:"Integer",attributes:"-",model:"primitive",id:1},{name:"Product",attributes:"productId, productName, productPrice",model:"xml",id:2},{name:"Order",attributes:"orderNumber, orderProducts",model:"xml",id:3},{name:"String",attributes:"-",model:"primitive",id:4},{name:"Boolean",attributes:"-",model:"primitive",id:5},{name:"Location",attributes:"locationId, address, cityName, zipCode, countryName",model:"relational",id:6}],links:[{source:0,target:5,name:"knows",count:1},{source:0,target:1,name:"customerId, creditLimit",count:1},{source:0,target:4,name:"customerName",count:1},{source:2,target:1,name:"productPrice",count:1},{source:2,target:4,name:"productId, productName",count:1},{source:3,target:4,name:"orderNumber",count:1},{source:3,target:0,name:"ordered",count:1},{source:3,target:5,name:"contains(product)",count:1},{source:6,target:4,name:"address, cityName, countryName",count:1},{source:6,target:1,name:"locationId, zipCode",count:1},{source:0,target:6,name:"located",count:1}]}},65:function(e){e.exports={nodes:[{name:"Graph Customers",attributes:"customerId, customerName, creditLimit, location, knows",model:"graph",id:0},{name:"Set of Integers",attributes:"-",model:"primitive",id:1},{name:"Set of Products",attributes:"productId, productName, productPrice",model:"xml",id:2},{name:"XML of Orders",attributes:"-",model:"xml",id:3},{name:"Set of Strings",attributes:"-",model:"primitive",id:4},{name:"{ true, false }",attributes:"-",model:"primitive",id:5},{name:"Relational Location",attributes:"locationId, address, cityName, zipCode, countryName",model:"relational",id:6}],links:[{source:0,target:5,name:"knows",count:1},{source:0,target:1,name:"customerId, creditLimit",count:1},{source:0,target:4,name:"customerName",count:1},{source:2,target:1,name:"productPrice",count:1},{source:2,target:4,name:"productId, productName",count:1},{source:3,target:4,name:"orderNumber",count:1},{source:3,target:0,name:"ordered",count:1},{source:3,target:5,name:"contains(set of products)",count:1},{source:6,target:4,name:"address, cityName, countryName",count:1},{source:6,target:1,name:"locationId, zipCode",count:1},{source:0,target:6,name:"located",count:1}]}},66:function(e){e.exports={examples:[{header:"Rel",examples:["QUERY (\\x xs -> cons x xs)\n FROM locations\n TO relational",'QUERY (\\x xs -> if xs == nil then cons ("size", 1) xs else let (a,b) = (xs !! 0) in cons (a, b + 1) nil)\nFROM locations\nTO relational']},{header:"XML",examples:["QUERY (\\x xs -> cons x xs)\nFROM orders\nTO relational","QUERY (\\x xs -> cons x xs)\n FROM orders\n TO xml",'LET t BE\nQUERY (\\x xs -> if orderNumber x == "3qqqeq9" then (orderProducts x) ++ xs else xs)\nFROM orders\nTO relational\nIN\nQUERY (\\x xs -> if productPrice x > 50 then cons x xs else xs)\nFROM t\nAS relational\nTO relational']},{header:"algebraic graph",examples:["QUERY (\\x -> cons x)\n FROM customers\n TO algebraic graph","QUERY (\\x -> if creditLimit x > 3000 then cons x else nil)\nFROM customers\nTO algebraic graph","QUERY (\\x -> if creditLimit x > 3000 then cons x else nil) (\\x y -> cons x y) (\\x y -> overlay x y)\n FROM customers\n TO algebraic graph","LET t BE\nQUERY (\\x -> cons x) (\\x y -> cons x y)  (\\x y -> case x of Vertex c -> if customerId c == 14 then cons x y else nil; otherwise -> cons x y)\nFROM customers\nTO algebraic graph\nIN\nQUERY (\\x -> cons x) (\\x y -> cons x y)  (\\x y -> case x of Vertex c -> if hasVertex c t then cons x y else nil; otherwise -> nil)\nFROM customers\nTO algebraic graph",'LET t BE\n QUERY (\\x -> if customerName x == "Alice" then cons x else nil)\n FROM customers\n TO relational\n IN\n QUERY (\\x -> if any (\\y -> knows x y customers) t then cons x else nil)\n FROM customers\n TO algebraic graph',"LET t BE\nQUERY (\\x -> if customerId x == 6 then cons x else nil)\nFROM customers\nTO relational\nIN\nLET k BE\nQUERY (\\x -> if any (\\y -> knows x y customers) t then cons x else nil)\nFROM customers\nTO relational\nIN\nQUERY (\\x xs -> if creditLimit x > 1000 then cons x xs else xs)\nFROM k\nAS relational\nTO relational","LET t BE\nQUERY (\\x -> if (customerId x ==  3 || customerId x == 4) then cons x else nil)\nFROM customers\nTO algebraic graph\nIN\nQUERY (\\x -> findTargetNeighbors x customers)\nFROM t\nAS algebraic graph\nTO algebraic graph"]},{header:"Rel + XML",examples:['LET t BE\nQUERY (\\x xs ->if (foldr (\\x xs -> if xs == True then True else if productName x == "Book" then True else False) False (orderProducts x)) then cons x xs else xs)\nFROM orders\nTO xml\nIN\nQUERY (\\x xs -> cons (located (ordered x customers) locations) xs)\nFROM t\nAS relational\nTO relational']},{header:"Rel + algebraic graph",examples:["QUERY (\\x -> [(customerName x, countryName(located x locations))])\nFROM customers\nTO relational","QUERY (\\x -> if creditLimit x > 500 then cons (customerName x, cityName (located x locations)) else nil)\nFROM customers\nTO algebraic graph",'LET t BE\nQUERY (\\x -> if customerName x == "John" then cons x else nil)\nFROM customers\nTO relational\nIN\nQUERY (\\x -> if reachable x (t !! 0) customers then cons x else nil)\nFROM customers\nTO algebraic graph']},{header:"XML + algebraic graph",examples:['LET t BE\n QUERY (\\x xs -> if elem "Book" (map productName (orderProducts x)) then cons x xs else xs)\n FROM orders\n TO relational\nIN\n QUERY (\\x -> if any (\\y -> ordered y customers == x ) t then cons x else nil)\n FROM customers\n TO algebraic graph',"LET t BE\n QUERY (\\x -> if customerId x == 6 then cons x else nil)\n FROM customers\n TO relational\n IN\n LET k BE\n QUERY (\\x -> if any (\\y -> knows x y customers) t then cons x else nil)\n FROM customers\n TO relational\n IN\n LET h BE\n QUERY (\\x -> if any (\\y -> knows x y customers) k then cons x else nil)\n FROM customers\n TO relational\n IN\n LET r BE\n QUERY (\\x xs -> if any (\\y -> ordered x customers == y ) h then cons x xs else xs)\n FROM orders\n TO relational\n IN\n QUERY (\\x xs -> if ((sum $ map productPrice (orderProducts x)) > 5000) then cons x xs else xs)\n FROM r\nAS xml\nTO xml"]},{header:"Rel + XML + algebraic graph",examples:["QUERY (\\x xs -> cons (orderNumber x, customerName(ordered x customers), countryName(located(ordered x customers) locations)) xs)\nFROM orders\nTO relational","LET t BE\nQUERY (\\x xs -> if ((sum $ map productPrice (orderProducts x)) > 100) then cons x xs else xs)\nFROM orders\nTO xml\nIN\nQUERY (\\x xs -> cons (orderNumber x, customerName(ordered x customers), countryName(located(ordered x customers) locations)) xs)\nFROM t\nAS xml\nTO relational",'LET t BE\n QUERY (\\x xs -> if elem "Book" (map productName (orderProducts x)) then cons x xs else xs)\n FROM orders\n TO relational\n IN\n QUERY (\\x -> if any (\\y -> ordered y customers == x ) t then cons (customerName x, countryName(located x locations)) else nil)\n FROM customers\n TO algebraic graph']}]}}},[[145,1,2]]]);
//# sourceMappingURL=main.8d8492a5.chunk.js.map