{"version":3,"sources":["GitHub-Mark-64px.png","infoTexts/mainHTML.js","infoTexts/categoricalViewToSchemaHTML.js","infoTexts/examplesHTML.js","infoTexts/resultHTML.js","infoTexts/schemaCategoryHTML.js","infoTexts/uploadDataHTML.js","styles.js","reducers/clickedNodeDataReducer.js","reducers/queriedDataReducer.js","reducers/schemaDataReducer.js","reducers/addNodeReducer.js","reducers/notificationReducer.js","reducers/newEdgeReducer.js","store.js","components/StatBox.js","components/SelectDataSetComponent.js","components/queryComponents/FreeTextInputQueryComponent.js","components/NavigationBarComponent.js","components/NotificationComponent.js","actions/NotificationAction.js","dataComponents/relationalComponents/relationalComponent.js","dataComponents/relationalComponents/relationalTabs.js","dataComponents/graphComponents/Node.js","dataComponents/graphComponents/Edge.js","dataComponents/graphComponents/Graph.js","dataComponents/newTreeComponents/newTree.js","dataComponents/multiGraphComponents/MultiEdge.js","dataComponents/multiGraphComponents/MultiGraph.js","components/queryComponents/CategoricalViewOfQuery.js","components/ResultComponent.js","services/haskellCompilerService.js","services/foldHaskellBasedQueryParser.js","components/PopUpComponent.js","components/SchemaComponent.js","components/ResultNavigationSidePanel.js","components/ExampleQueryTypeComponent.js","components/ExampleQueryComponent.js","services/sendFiles.js","components/UploadForm.js","components/ProgressBar.js","components/DataUploadComponent.js","components/DataSetSidePanel.js","components/FoldViewBox.js","errorBoundary/ErrorBoundary.js","App.js","index.js"],"names":["module","exports","styles","backgroundColorStyle","backgroundColor","headerBackGroundColorStyle","borderRadius","marginBottom","marginRight","marginLeft","fileInputStyle","border","clip","height","overflow","padding","position","whiteSpace","width","fileInputLabelStyle","color","marginTop","display","paddingLeft","paddingRight","lineHeight","componentMarginalStyle","clear","basicComponentsStyle","borderStyle","borderColor","borderWidth","align","paddingTop","paddingBottom","queryBox","queryButtonStyle","queryTextStyle","fontFamily","popup","top","left","right","bottom","margin","popupInner","background","infoTextStyle","navPanelStyle","borderTop","borderBottom","progressBar","progress","initialState","data","key","undefined","value","clickedNodeDataReducer","state","arguments","length","action","type","header","sql","document","graph","queriedDataReducer","model","schema","schemaDataReducer","textFieldVisible","nodeModel","sourceNode","addNodeReducer","message","variant","notificationReducer","acceptEdgeDrawing","startingEdge","targetEdge","newEdgeReducer","Object","assign","reducer","combineReducers","nodeData","queriedDemoData","schemaData","nodeModelData","notification","edgeDrawing","newEdgeReducerReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","StatBox","dataBlock","react_default","a","createElement","this","props","map","l","Row","style","className","Component","SelectDataSetComponent","Container","fluid","Col","xl","Dropdown","transform","zIndex","DropdownButton","drop","title","id","Item","href","onClick","handleDataSetChange","bind","examples","simpleExamples","simpleSchemaData","metaData","uploadInfo","nameForCategoricalQueryView","unibenchExamples","unibenchSchema","patentDataExamples","patentSchema","filmExamples","filmSchema","universityExamples","universitySchema","personExamples","personSchema","FreeTextInputQueryComponent","_this","Form","onSubmit","handleQuery","inline","Control","as","rows","placeholder","query","onChange","handleQueryChange","Button","fontSize","components_SelectDataSetComponent","aria-hidden","togglePopup","NavigationBarComponent","Navbar","expand","Brand","Toggle","aria-controls","Collapse","src","githubimage","alt","NotificationComponent","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleStoreChange","getState","setState","subscribe","Alert","NotificationAction","notify","dispatch","setTimeout","RelationalComponent","createRelationalComponent","assertThisInitialized","table","attributes","dataData","filter","row","select","selectAll","enter","append","attr","text","d","column","i","_this2","scaledwidth","scaledheigth","ref","RelationalTabs","tables","Tabs","defaultActiveKey","eventKey","Tab","relationalComponent","scaleOrdinal","schemeCategory10","updateNode","selection","x","y","enterNode","pi","firstAttribute","keys","arc","innerRadius","outerRadius","startAngle","endAngle","Node","nodeRef","React","createRef","d3Node","current","datum","e","jsonData","filteredData","val","push","JSON","stringify","editableGraph","transition","duration","name","console","log","showNodeHandlingButtons","_this3","oldData","newNodes","nodes","node","newLinks","links","link","source","target","_this4","newNode","_this5","nodeName","onMouseEnter","handle","onMouseLeave","handleColorChangeBack","visibility","opacity","handleAddEdge","changeNodeHandlingButtonColorEnter","changeNodeHandlingButtonColorExit","handleRemoveNode","handleRemoveEdges","handleAddNodeStartingFromThisNode","enterLink","updateLink","Edge","edgeRef","d3Link","linkName","ptdata","Graph","graphRef","updateEdge","x1","y1","x2","y2","drx","dry","xRotation","largeArc","updateGraph","d3Graph","force","forceSimulation","forceManyBody","strength","forceLink","distance","forceCenter","forceCollide","iterations","forceX","forceY","drag","on","event","active","alphaTarget","restart","fx","fy","zoom","extent","scaleExtent","pt","mouse","point","remove","line","drawPath","pop","tickLine","coords","graphComponents_Node","graphComponents_Edge","nameClass","refX","refY","markerWidth","markerHeight","orient","markerUnits","fill","svgCircle","shape","shapeProps","stroke","strokeWidth","r","NewTree","react_d3_tree_min_default","treeResult","orientation","nodeSvgShape","translate","MultiEdge","wrapText","lineNumber","dy","parseFloat","tspan","words","split","word","trim","printableLine","slice","reverse","join","getComputedTextLength","handleMouseEntering","showEdgeLabels","handleMouseExiting","pathId","edgekey","textAnchor","updateMultiEdge","dx","dr","count","Math","sqrt","sweep","updateMultiGraph","multiGraphComponents_MultiEdge","CategoricalViewOfQuery","parseLetBeInBlock","newQuery","blocks","includes","parseQueryBlock","newBlocks","element","compositionTreeToGraphWithoutDuplicateNodes","totalGraph","compositionGraphsWithDuplicateNodes","splitted","parseLambda","lambdaf","domain","outerFunction","innerFunction","startsWith","parseIf","parseBooleanFunction","g","error","parseTermsOfTuple","termsOfTuple","term","substr","lambda","parsedLambda","operator","foundMorphism","morphismsTarget","morphisms","morphism","graph1","graph2","newIndex","newLink","concat","composition","domainElement","targetElement","Array","isArray","outerFunctionsNames","f","addEdgeToGraph","functionName","sourceIndex","targetIndex","graphData","simpleDemo","timeStampInMs","window","performance","now","timing","navigationStart","Date","graphKey","prevProps","dataSet","MultiGraph","ResultComponent","renderedElement","resultSet","resultData","relationalTabs","graphComponents_Graph","newTree","showResult","showCategoricalView","marginRigth","mainContainer","queryComponents_CategoricalViewOfQuery","size","initializeResult","compileRelationalQuery","_ref","asyncToGenerator","regenerator_default","mark","_callee","command","answer","jsonDataList","wrap","_context","prev","next","axios","post","headers","Content-Type","sent","parseJSONList","abrupt","JSONtoRelationalTables","stop","_x","apply","compileTreeQuery","_ref2","_callee2","_context2","parseJSONtoTree","_x2","compileGraphQuery","_ref3","_callee3","_context3","parseJSONStringtoD3js","_x3","compileRDFGraphQuery","_ref4","_callee4","_context4","_x4","compileNimbleGraphQuery","_ref5","_callee5","_context5","_x5","listString","m","indexOf","n","substring","replace","parse","err","subdata","_unused","elements","values","acceptedElements","element2","result","returndata","_unused2","jsonString","lastIndexOf","obj","children","child","parseChild","childElement","forEach","hasJsonStructure","str","prototype","toString","haskellCompilerService","parseLetInQueryBlock","inputString","parseMainQueryBlock","mainQuery","subQueries","shift","parsedSubQueries","parsed","haskellQuery","queryElements","lambdafunction","dataset","sourceModel","sourceModels","foldHaskellBasedQueryParser","executeQuery","t0","t1","haskellCompiler","t2","t3","fold","t4","t5","t6","t7","t8","t9","t10","t11","t12","t13","t14","t15","getTheQuery","inputQuery","parsedQueryList","PopUpComponent","dangerouslySetInnerHTML","content","closePopup","SchemaComponent","showSchemaCategory","schemaKey","CustomToggle","decoratedOnClick","useAccordionToggle","ResultNavigationSidePanel","infoBlock","info","_i","_Object$keys","random","Card","Header","Nav","toggleResult","float","toggleCategoricalView","hidden","Accordion","ExampleQueryTypeComponent","Menu","example","handleExampleQuery","ExampleQueryComponent","ButtonToolbar","exampleCase","components_ExampleQueryTypeComponent","services_sendFiles","sendFiles","file","fileName","fileNames","variableName","uploadingFunction","progressFunction","reader","FileReader","FileName","FileNames","UploadingFunction","VariableName","onprogress","evt","lengthComputable","percentLoaded","round","loaded","total","onload","status","Notification","_x7","readAsText","_x6","sendFileWithoutUsingIt","_x11","_x8","_x9","_x10","UploadForm","handleFormSubmit","preventDefault","files","setFile","handleFileSubmit","htmlFor","multiple","ProgressBar","DataUploadComponent","handleDatasetChange","datasetIndex","processFiles","FileSender","handleUploadProgressChange","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","uploading","components_UploadForm","components_ProgressBar","DataSetSidePanel","DataSetSidePanel_CustomToggle","components_DataUploadComponent","components_ExampleQueryComponent","toggleSchemaCategory","FoldViewBox","ErrorBoundary","hasError","errorInfo","__mainHTML","require","__categoricalViewToQueryHTML","__examplesHTML","__resultHTML","__schemaCategoryHTML","__uploadDataHTML","templateMain","__html","templateCategoricalViewToQuery","templateExamples","templateResult","templateSchemaCategory","templateUploadData","App","showedStat","exampleQuery","initializeQueryResult","queryAndModel","foldQuery","innerWidth","innerHeight","showPopup","popContent","initialSchemaData","updateWindowDimensions","addEventListener","removeEventListener","template","prevState","minHeight","components_NavigationBarComponent","components_DataSetSidePanel","components_ResultNavigationSidePanel","queryComponents_FreeTextInputQueryComponent","components_NotificationComponent","components_SchemaComponent","components_ResultComponent","errorBoundary_ErrorBoundary","components_StatBox","components_FoldViewBox","components_PopUpComponent","renderApp","ReactDOM","render","react_redux_es","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.515407db.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyRTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyRjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJDOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJEOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FYrpWAAABrNJREFUeNrkW2ls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\"","module.exports = `<div class='mainContent'>\r\n    <h1>MultiCategory Demo System</h1>\r\n\r\n    <p>You can enter a query to the input field. There is a list of example queries behind the \"Select example query\"\r\n        dropdown menu.\r\n        Please note the following restrictions when entering a query.</p>\r\n\r\n    <ul>\r\n        <li>Each query must contain parts QUERY, FROM, AS, TO and RETURN in this order.</li>\r\n        <li>Typed collections have names <i>customers</i> (graph data), <i>orders</i> (xml structured data) and\r\n            <i>locations</i> (relational data).</li>\r\n        <li>LET BE IN -clause is optional.</li>\r\n        <li>At the moment queries support three data models: relational, xml and graph. After AS and TO user must write\r\n            exactly one of these.</li>\r\n        <li>If user is querying data to graph model, then the function in QUERY line must have exactly one variable\r\n            (i.e. \\\\x\r\n            -> ...)</li>\r\n        <li>If user is querying any other model, then the function in QUERY line must have exactly two variables (i.e.\r\n            \\\\x xs\r\n            -> ...) where the second variable refers\r\n            to the structure where the variable x is inserted.</li>\r\n    </ul>\r\n\r\n    <p> You can use the schema category to see attributes' names, data model and other information about the data.</p>\r\n\r\n    <p>You can find more information about the theoretical background of the system <a\r\n            href=\"https://www.overleaf.com/read/kqvkvrhcnmxv\">here</a>.\r\n        Have fun and thanks for the interest!</p>\r\n</div>`","module.exports = `<div class='categoricalViewToQuery'>\r\n<h1>Categorical view to the query</h1>\r\n<p>This menu toggles the categorical view to the query. This property does not yet work as well as possible because of the huge variety of different kind of queries.</p>\r\n<p>For obtaining better understanding of the category theoretical structure behind the queries, MultiCategory provides an automatic visualizer for queries. \r\nThis feature visualizes queries as graphs with respect to the schema category. \r\nEach query can be considered as a subgraph of the schema category so that each block starting with QUERY-clause starts a path in the schema category. \r\nThis means that each node of the resulting graph is a datatype and each edge is a Haskell function between two datatypes. \r\nEventually the composition of the functions represents the whole query. \r\nThe definition of a category ensures, that the composition is always well-defined and it exists.</p>\r\n</div>`","module.exports = `<div class='examples'>\r\n    <h1>Examples</h1>\r\n    <p>For each data set we have defined various example queries that are the easiest way to try the system. All of them should work except that some of them are computationally heavy (graph queries) and might not finish in reasonable time. \r\n    Anyway, even partial results to these queries are avaible in backend since Haskell executes them lazily.</p>\r\n</div>`","module.exports = `<div class='result'>\r\n    <h1>Result</h1>\r\n    <p>This menu toggles the result to the query.</p>\r\n</div>`","module.exports = `<div class='schemaCategoryInfo'>\r\n<h1>Schema category</h1>\r\n<p>For a fixed data set schema category consists of objects and morphisms. Objects are various Haskell data types and collections. Morphisms are Haskell functions between those datatypes.</p>\r\n</div>`","module.exports = `<div class='uploadData'>\r\n    <h1>Upload data</h1>\r\n    <p>This menu allows the user to upload their own data to the system assuming that the data follows the schema category.</p>\r\n</div>`","const backgroundColorStyle = {\r\n\tbackgroundColor: \"#f1f1f2\"\r\n}\r\n\r\nconst headerBackGroundColorStyle = {\r\n\tbackgroundColor: \"#A1D6E2\",\r\n\tborderRadius: \"5px\",\r\n\tmarginBottom: \"12px\",\r\n\tmarginRight: \"0px\",\r\n\tmarginLeft: \"0px\"\r\n}\r\n\r\nconst fileInputStyle = {\r\n\tborder: 0,\r\n\tclip: \"rect(0, 0, 0, 0)\",\r\n\theight: \"1px\",\r\n\toverflow: \"hidden\",\r\n\tpadding: 0,\r\n\tposition: \"absolute\",\r\n\twhiteSpace: \"nowrap\",\r\n\twidth: \"1px\"\r\n}\r\n\r\nconst fileInputLabelStyle = {\r\n\tbackgroundColor: \"#343a40\",\r\n\tcolor: \"#fff\",\r\n\tmarginRight: \"4px\",\r\n\tmarginTop: \"5px\",\r\n\theight: \"36px\",\r\n\tborderRadius: \"5px\",\r\n\tdisplay: \"inline-block\",\r\n\tpaddingLeft: \"1rem\",\r\n\tpaddingRight: \"1rem\",\r\n\tlineHeight: \"33px\"\r\n}\r\n\r\nconst componentMarginalStyle = {\r\n\theight: \"0px\",\r\n\twidth: \"100%\",\r\n\tclear: \"both\"\r\n}\r\n\r\nconst basicComponentsStyle = {\r\n\tbackgroundColor: \"#ffffff\",\r\n\tborderStyle: \"solid\",\r\n\tborderRadius: \"5px\",\r\n\tborderColor: \"#d9d9d9\",\r\n\tborderWidth: \"1px\",\r\n\tmarginTop: \"12px\",\r\n\tmarginBottom: \"12px\",\r\n\tmarginRight: \"0px\",\r\n\tmarginLeft: \"0px\",\r\n\talign: \"middle\",\r\n\tpaddingTop: \"5px\",\r\n\tpaddingBottom: \"5px\"\r\n}\r\n\r\nconst queryBox = {\r\n\tbackgroundColor: \"#ffffff\",\r\n\tborderStyle: \"solid\",\r\n\tborderRadius: \"5px\",\r\n\tborderColor: \"#d9d9d9\",\r\n\tborderWidth: \"1px\",\r\n\twidth: \"100%\"\r\n}\r\n\r\nconst queryButtonStyle = {\r\n\tmarginLeft: \"5px\",\r\n\tmarginBottom: \"5px\"\r\n}\r\n\r\nconst queryTextStyle = {\r\n\tmarginLeft: \"10px\",\r\n\tmarginTop: \"5px\",\r\n\tfontFamily: \"Lucida Console, Monaco, monospace\"\r\n}\r\n\r\nconst popup = {\r\n\tposition: \"fixed\",\r\n\twidth: \"100%\",\r\n\theight: \"100%\",\r\n\ttop: \"0\",\r\n\tleft: \"0\",\r\n\tright: \"0\",\r\n\tbottom: \"0\",\r\n\tmargin: \"auto\",\r\n\tbackgroundColor: \"rgba(0,0,0, 0.5)\"\r\n}\r\n\r\nconst popupInner = {\r\n\tposition: \"absolute\",\r\n\tleft: \"25%\",\r\n\ttop: \"25%\",\r\n\tright: \"25%\",\r\n\tmargin: \"auto\",\r\n\tborderRadius: \"20px\",\r\n\tbackground: \"white\",\r\n\tdisplay: \"inlineBlock\"\r\n}\r\n\r\nconst infoTextStyle = {\r\n\tpaddingRight: \"15px\",\r\n\tpaddingBottom: \"15px\",\r\n\tpaddingLeft: \"15px\",\r\n\tpaddingTop: \"15px\",\r\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\"\r\n}\r\n\r\nconst navPanelStyle = {\r\n\tborderStyle: \"solid\",\r\n\tborderRadius: \"5px\",\r\n\tborderColor: \"#d9d9d9\",\r\n\tborderWidth: \"1px\",\r\n\tborderTop: \"0px\",\r\n\tborderBottom: \"0px\",\r\n\talign: \"middle\",\r\n\tpaddingTop: \"5px\",\r\n\tpaddingBottom: \"5px\"\r\n}\r\n\r\nconst progressBar = {\r\n\twidth: \"100%\",\r\n\theight: \"16px\",\r\n\tbackgroundColor: \"#f1f1f1\",\r\n\tborderRadius: \"5px\"\r\n  }\r\n  \r\nconst progress = {\r\n\tbackgroundColor: \"#616161\",\r\n\theight: \"100%\",\r\n\tmargin: \"0\",\r\n\tborderRadius: \"5px\"\r\n  }\r\n\r\nexport default {\r\n\tbackgroundColorStyle,\r\n\theaderBackGroundColorStyle,\r\n\tfileInputStyle,\r\n\tfileInputLabelStyle,\r\n\tcomponentMarginalStyle,\r\n\tbasicComponentsStyle,\r\n\tqueryBox,\r\n\tqueryButtonStyle,\r\n\tqueryTextStyle,\r\n\tpopup,\r\n\tpopupInner,\r\n\tinfoTextStyle,\r\n\tnavPanelStyle,\r\n\tprogressBar,\r\n\tprogress\r\n}","const initialState = {data: [{ \"key\": undefined, \"value\": undefined }]}\r\n\r\nconst clickedNodeDataReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'SHOW_NODE_EDGE_DATA':\r\n\t\t\treturn { data: action.data, header: action.header }\r\n\t\tcase 'DELETE_NODE_EDGE_DATA':\r\n\t\t\treturn initialState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default clickedNodeDataReducer","const initialState = [{ \"sql\": undefined, \"document\": undefined, \"graph\": undefined }]\r\n\r\nconst queriedDataReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'ADD_DATA':\r\n\t\t\treturn { data: action.data, model: action.model, key: action.key }\r\n\t\tcase 'DELETE_DATA':\r\n\t\t\treturn initialState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default queriedDataReducer","const initialState = {schema: {}, key: \"\"}\r\n\r\nconst schemaDataReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'ADD_SCHEMA_DATA':\r\n\t\t\treturn { schema: action.data, key: action.key }\r\n\t\tcase 'DELETE_SCHEMA_DATA':\r\n\t\t\treturn initialState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default schemaDataReducer","const initialState = {textFieldVisible: false, nodeModel: {}, sourceNode: {}}\r\n\r\nconst addNodeReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'ADD_NODE_MODEL':\r\n\t\t\treturn { textFieldVisible: action.textFieldVisible, nodeModel: action.nodeModel, sourceNode: action.sourceNode }\r\n\t\tcase 'DELETE_NODE_MODEL':\r\n\t\t\treturn initialState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default addNodeReducer","const initialState = {message: \"\", variant: \"\"}\r\n\r\nconst notificationReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'ADD_NOTIFICATION':\r\n\t\t\treturn { message: action.message, variant: action.variant }\r\n\t\tcase 'DELETE_NOTIFICATION':\r\n\t\t\treturn initialState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default notificationReducer","const initialState = { acceptEdgeDrawing: false, startingEdge: {}, targetEdge: {}}\r\n\r\nconst newEdgeReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n        case 'ACCEPT_EDGE_DRAWING':\r\n        return Object.assign({}, state, {\r\n            acceptEdgeDrawing: action.acceptEdgeDrawing\r\n          })\r\n        case 'ADD_STARTING_EDGE':\r\n        return Object.assign({}, state, {\r\n            startingEdge: action.startingEdge\r\n          })\r\n        case 'ADD_TARGET_EDGE':\r\n        return Object.assign({}, state, {\r\n            targetEdge: action.targetEdge\r\n          })\r\n        case 'DELETE_ALL_EDGE_DRAWING_DATA':\r\n            return initialState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default newEdgeReducer","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport clickedNodeDataReducer from './reducers/clickedNodeDataReducer'\r\nimport queriedDataReducer from './reducers/queriedDataReducer'\r\nimport schemaDataReducer from './reducers/schemaDataReducer'\r\nimport addNodeReducer from './reducers/addNodeReducer'\r\nimport notificationReducer from './reducers/notificationReducer'\r\nimport newEdgeReducerReducer from './reducers/newEdgeReducer'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nconst reducer = combineReducers({\r\n\tnodeData: clickedNodeDataReducer,\r\n\tqueriedDemoData: queriedDataReducer,\r\n\tschemaData: schemaDataReducer,\r\n\tnodeModelData: addNodeReducer,\r\n\tnotification: notificationReducer,\r\n\tedgeDrawing: newEdgeReducerReducer\r\n})\r\n\r\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)))\r\n\r\nexport default store","import React, { Component } from 'react'\r\nimport style from '../styles'\r\nimport Row from 'react-bootstrap/Row'\r\n\r\nclass StatBox extends Component {\r\n\r\n    render() {\r\n        let dataBlock = <div />\r\n        const data = this.props.data.data\r\n        if (data[0][\"key\"] !== undefined && data[0][\"key\"] !== \"\") {\r\n                dataBlock = data.map(l => <p key={l[\"key\"]}><b>{l[\"key\"]} : </b> {l[\"value\"]}</p>)\r\n        }\r\n        let header = \"Contents\"\r\n        if(this.props.data.header !== undefined) {\r\n            header = this.props.data.header\r\n        }\r\n        \r\n        return <Row style={style.basicComponentsStyle}> <div className= \"col\">\r\n            <h4> { header } </h4>\r\n            <div>\r\n                {dataBlock}\r\n            </div>\r\n        </div>\r\n        </Row>\r\n    }\r\n}\r\n\r\nexport default StatBox","import React, { Component } from 'react'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Dropdown from 'react-bootstrap/Dropdown'\r\nimport DropdownButton from 'react-bootstrap/DropdownButton'\r\n\r\n// Schemas for drawing D3 graphs:\r\nimport simpleSchemaData from '../schemasForD3/simpleSchema.json'\r\nimport patentSchema from '../schemasForD3/patentSchema.json'\r\nimport filmSchema from '../schemasForD3/filmSchema.json'\r\nimport universitySchema from '../schemasForD3/universitySchema.json'\r\nimport personSchema from '../schemasForD3/personSchema.json'\r\nimport unibenchSchema from '../schemasForD3/unibenchSchema.json'\r\n\r\n//Query examples:\r\nimport simpleExamples from '../queryExamples/simpleDemoDataExamples.json'\r\nimport patentDataExamples from '../queryExamples/patentDataExamples.json'\r\nimport filmExamples from '../queryExamples/filmDataExamples.json'\r\nimport universityExamples from '../queryExamples/universityDataExamples.json'\r\nimport personExamples from '../queryExamples/personDataExamples.json'\r\nimport unibenchExamples from \"../queryExamples/unibenchExamples.json\"\r\n\r\nimport uploadInfo from '../dataUploadInfo/uploadInfo.json'\r\n\r\nclass SelectDataSetComponent extends Component {\r\n\r\n    render() {\r\n        return <Container style={{ margin: \"5px\" }} fluid=\"true\">\r\n            <Row>\r\n                <Col xl={6}>\r\n                    <h4>Select dataset</h4>\r\n                </Col>\r\n                <Col xl={6}>\r\n                    <Dropdown style={{ left: \"50%\", top: \"50%\", transform: \"translate(-50%, -50%)\", zIndex: 10000, right: \"0px\" }}>\r\n                        <DropdownButton\r\n                                drop={\"left\"}\r\n                                variant=\"dark\"\r\n                                title={\"Datasets\"}\r\n                                id={'dropdown-button-drop-left'}\r\n                                key={\"left\"}>\r\n                            <Dropdown.Item href=\"#/simple\"\r\n                                onClick={this.props.handleDataSetChange.bind(this, { header: \"Customer-Orders-Locations\", examples: simpleExamples, schemaData: simpleSchemaData, metaData: uploadInfo[\"simpleDemoData\"], nameForCategoricalQueryView: \"simpleDemo\" })}>\r\n                                Customer-Orders-Locations dataset\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item href=\"#/unibench\"\r\n                                onClick={this.props.handleDataSetChange.bind(this, { header: \"Unibench dataset\", examples: unibenchExamples, schemaData: unibenchSchema, metaData: uploadInfo[\"unibench\"], nameForCategoricalQueryView: \"unibench\" })}>\r\n                                Unibench dataset\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item href=\"#/patent\"\r\n                                onClick={this.props.handleDataSetChange.bind(this, { header: \"Helsinki Multi-Model Repository: Patent dataset\", examples: patentDataExamples, schemaData: patentSchema, metaData: uploadInfo[\"patent\"], nameForCategoricalQueryView: \"patent\" })}>\r\n                                Patent dataset\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item href=\"#/film\"\r\n                                onClick={this.props.handleDataSetChange.bind(this, { header: \"Helsinki Multi-Model Repository: Film dataset\", examples: filmExamples, schemaData: filmSchema, metaData: uploadInfo[\"film\"], nameForCategoricalQueryView: \"film\" })}>\r\n                                Film dataset\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item href=\"#/university\"\r\n                                onClick={this.props.handleDataSetChange.bind(this, { header: \"Helsinki Multi-Model Repository: Universities dataset\", examples: universityExamples, schemaData: universitySchema, metaData: uploadInfo[\"university\"], nameForCategoricalQueryView: \"university\" })}>\r\n                                University dataset\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item href=\"#/person\"\r\n                                onClick={this.props.handleDataSetChange.bind(this, { header: \"Helsinki Multi-Model Repository: Persons dataset\", examples: personExamples, schemaData: personSchema, metaData: uploadInfo[\"person\"], nameForCategoricalQueryView: \"person\" })}>\r\n                                Person dataset\r\n                            </Dropdown.Item>\r\n                        </DropdownButton>\r\n                    </Dropdown>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    }\r\n}\r\n\r\nexport default SelectDataSetComponent","import React, { Component } from 'react'\r\nimport style from '../../styles'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport SelectDataSetComponent from '../SelectDataSetComponent'\r\n\r\nclass FreeTextInputQueryComponent extends Component {\r\n\r\n    render() {\r\n        return <Row style={style.basicComponentsStyle}>\r\n            <Col xl={1}>\r\n                <h4 align=\"right\">Input</h4>\r\n            </Col>\r\n            <Col xl={8} style={{ align: \"left\" }}>\r\n                <Form onSubmit={this.props.handleQuery} inline>\r\n                    <Form.Control as=\"textarea\" rows=\"2\" placeholder=\"Enter query or choose defined query\" value={this.props.query} onChange={this.props.handleQueryChange} style={{ width: \"90%\", marginRight: \"5px\" }} />\r\n                    <Button type=\"submit\" variant=\"dark\"> <i className='fas fa-play' style={{ fontSize: '24px', marginTop: \"4px\" }}></i> </Button>\r\n                </Form>\r\n            </Col>\r\n            <Col xl={2}>\r\n                <SelectDataSetComponent handleDataSetChange={this.props.handleDataSetChange} />\r\n            </Col>\r\n            <Col xl={1}>\r\n                <i className=\"fa fa-info-circle\" style={{ fontSize: \"28px\", margin: \"20px\" }} aria-hidden=\"true\" onClick={() => this.props.togglePopup(\"main\")}></i>\r\n            </Col>\r\n        </Row>\r\n    }\r\n}\r\n\r\nexport default FreeTextInputQueryComponent","import React, { Component } from 'react'\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport style from '../styles'\r\nimport githubimage from '../GitHub-Mark-64px.png'\r\n\r\nclass NavigationBarComponent extends Component {\r\n\r\n    render() {\r\n        return <Navbar style={style.headerBackGroundColorStyle} variant=\"light\" expand=\"lg\">\r\n            <Navbar.Brand href=\"#home\"><h3>MultiCategory: Category Theory in Multi-model Databases</h3></Navbar.Brand>\r\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n            <Navbar.Collapse className=\"justify-content-end\">\r\n                <a href=\"https://www.helsinki.fi/en/researchgroups/unified-database-management-systems-udbms\"> UDBMS </a>\r\n                <div>&nbsp; &nbsp;</div>\r\n                <a href=\"https://github.com/valterUo/demo-system-backend-Haskell\">\r\n                    <img width=\"30\" height=\"30\" src={githubimage} alt=\"githublogo\" />\r\n                </a>\r\n            </Navbar.Collapse>\r\n        </Navbar>\r\n    }\r\n}\r\nexport default NavigationBarComponent","import React, { Component } from 'react'\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport store from '../store'\r\n\r\nclass NotificationComponent extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            message: \"\",\r\n            variant: \"\"\r\n        }\r\n    }\r\n\r\n    handleStoreChange = () => {\r\n        if (this.state.message !== store.getState().notification.message) {\r\n            this.setState({\r\n                message: store.getState().notification.message,\r\n                variant: store.getState().notification.variant\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        store.subscribe(this.handleStoreChange)\r\n\r\n        if (this.state.message !== \"\") {\r\n            return <Alert key= {this.state.message} variant={this.state.variant}>\r\n            {this.state.message}\r\n            </Alert>\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n}\r\nexport default NotificationComponent","import store from '../store'\r\n\r\nconst notify = (message, variant) => {\r\n    store.dispatch({\r\n        type: 'ADD_NOTIFICATION',\r\n        message: message,\r\n        variant: variant\r\n    })\r\n    setTimeout(() => {\r\n        store.dispatch({\r\n            type: 'DELETE_NOTIFICATION'\r\n        })  \r\n    }, 5000)\r\n}\r\n\r\nexport default { notify }","import React, { Component } from 'react'\r\nimport { select } from 'd3-selection'\r\n\r\nclass RelationalComponent extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.createRelationalComponent = this.createRelationalComponent.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.createRelationalComponent()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.createRelationalComponent()\r\n    }\r\n\r\n    createRelationalComponent() {\r\n        const table = this.table\r\n        const data = this.props.data\r\n        const attributes = data[0]\r\n        const dataData = data.filter(row => row !== attributes)\r\n\r\n        select(table)\r\n            .selectAll('table')\r\n            .data([1])\r\n            .enter()\r\n            .append('table')\r\n            .attr(\"class\", \"table\")\r\n            .append('thead')\r\n            .append('tr')\r\n            .selectAll('th')\r\n            .data(attributes)\r\n            .enter()\r\n            .append('th')\r\n            .text(d => d)\r\n\r\n        select(table)\r\n            .selectAll('table')\r\n            .selectAll('tbody')\r\n            .data([1])\r\n            .enter()\r\n            .append('tbody')\r\n            .attr('display', 'block')\r\n            .selectAll('tr')\r\n            .data(dataData)\r\n            .enter()\r\n            .append('tr')\r\n            .selectAll('td')\r\n            .data(row => {\r\n                return attributes.map((column, i) => {\r\n                    return { column: column, value: row[i] }\r\n                })\r\n            })\r\n            .enter()\r\n            .append('td')\r\n            .text(d => d.value)\r\n\r\n    }\r\n\r\n    render() {\r\n        const scaledwidth = 0.67 * this.props.width\r\n        const scaledheigth = 0.6 * this.props.height\r\n        return <div style={{ overflow: \"scroll\", width: scaledwidth, height: scaledheigth }}>\r\n            <div ref={table => this.table = table}>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default RelationalComponent","import React, { Component } from 'react'\r\nimport Tabs from 'react-bootstrap/Tabs'\r\nimport Tab from 'react-bootstrap/Tab'\r\nimport RelationalComponent from './relationalComponent'\r\n\r\nclass RelationalTabs extends Component {\r\n    render() {\r\n        if (this.props.tables === undefined) {\r\n            return null\r\n        } else {\r\n            return <Tabs defaultActiveKey={this.props.tables[0].eventKey} id=\"uncontrolled-tab-relational-result\">\r\n                {this.props.tables.map(table => <Tab key={table.eventKey} eventKey={table.eventKey} title={table.title}>\r\n                    <RelationalComponent width={this.props.width} height={this.props.height} key={table.eventKey} data={table.data} />\r\n                </Tab>)}\r\n            </Tabs>\r\n        }\r\n    }\r\n}\r\n\r\nexport default RelationalTabs","import React, { Component } from 'react'\r\nimport { select } from 'd3-selection'\r\nimport { scaleOrdinal } from 'd3-scale'\r\nimport { transition } from 'd3-transition' // eslint-disable-line\r\nimport { schemeCategory10 } from 'd3-scale-chromatic'\r\nimport { arc } from 'd3-shape'\r\nimport store from '../../store'\r\n\r\nconst color = scaleOrdinal(schemeCategory10)\r\n\r\nconst updateNode = (selection) => {\r\n    selection.attr('transform', (d) => 'translate(' + d.x + ',' + d.y + ')')\r\n}\r\n\r\nconst enterNode = (selection) => {\r\n    const pi = 3.1415\r\n    const outerRadius = 45\r\n\r\n    selection.select('circle')\r\n        .attr('r', 10)\r\n        .style('fill', function (d) {\r\n            let firstAttribute = Object.keys(d)[0]\r\n            return color(d[firstAttribute]) \r\n        })\r\n        .style('stroke', 'black')\r\n        .style('stroke-width', '1')\r\n\r\n    selection.select('text')\r\n        .attr('dy', '.4em')\r\n        .attr('dx', '.8em')\r\n        .style('transform', 'translateX(-50%,-50%')\r\n\r\n    selection.select('g')\r\n        .select(\".addEdge\")\r\n        .attr(\"d\", arc()\r\n            .innerRadius(10)\r\n            .outerRadius(outerRadius)\r\n            .startAngle(0)\r\n            .endAngle(pi / 2)\r\n        )\r\n        .attr('stroke', 'black')\r\n        .style('stroke-width', '1')\r\n        .attr('fill', '#69b3a2')\r\n\r\n    selection.select(\".addEdgeLabel\")\r\n        .attr(\"transform\", \"translate(10, -30)\")\r\n\r\n    selection.select('g')\r\n        .select(\".removeNode\")\r\n        .attr(\"d\", arc()\r\n            .innerRadius(10)\r\n            .outerRadius(outerRadius)\r\n            .startAngle(pi / 2)\r\n            .endAngle(pi)\r\n        )\r\n        .attr('stroke', 'black')\r\n        .style('stroke-width', '1')\r\n        .attr('fill', '#69b3a2')\r\n\r\n    selection.select(\".removeNodeLabel\")\r\n        .attr(\"transform\", \"translate(7, 5)\")\r\n\r\n    selection.select('g')\r\n        .select(\".removeEdges\")\r\n        .attr(\"d\", arc()\r\n            .innerRadius(10)\r\n            .outerRadius(outerRadius)\r\n            .startAngle(pi)\r\n            .endAngle(1.5 * pi)\r\n        )\r\n        .attr('stroke', 'black')\r\n        .style('stroke-width', '1')\r\n        .attr('fill', '#69b3a2')\r\n\r\n    selection.select(\".removeEdgesLabel\")\r\n        .attr(\"transform\", \"translate(-27, 11)\")\r\n\r\n    selection.select('g')\r\n        .select(\".addNodeStartingFromThisNode\")\r\n        .attr(\"d\", arc()\r\n            .innerRadius(10)\r\n            .outerRadius(outerRadius)\r\n            .startAngle(1.5 * pi)\r\n            .endAngle(2 * pi)\r\n        )\r\n        .attr('stroke', 'black')\r\n        .style('stroke-width', '1')\r\n        .attr('fill', '#69b3a2')\r\n\r\n    selection.select(\".addNodeStartingFromThisNodeLabel\")\r\n        .attr(\"transform\", \"translate(-30, -30)\")\r\n\r\n}\r\n\r\nclass Node extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.nodeRef = React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.d3Node = select(this.nodeRef.current)\r\n            .datum(this.props.data)\r\n            .call(enterNode)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.d3Node\r\n            .datum(this.props.data)\r\n            .call(updateNode)\r\n    }\r\n\r\n    handle(e) {\r\n        let jsonData = this.props.data\r\n        let filteredData = []\r\n        for (const key in jsonData) {\r\n            if (key !== \"index\") {\r\n                const val = jsonData[key]\r\n                filteredData.push({ \"key\": key, \"value\": val })\r\n            }\r\n            else {\r\n                break\r\n            }\r\n        }\r\n        if (JSON.stringify(store.getState().nodeData.data) !== JSON.stringify(filteredData)) {\r\n            store.dispatch({ type: 'SHOW_NODE_EDGE_DATA', data: filteredData, header: \"Node\" })\r\n        }\r\n        this.d3Node.select(\"circle\").style(\"fill\", \"#FCBC34\")\r\n    }\r\n\r\n    handleColorChangeBack(e) {\r\n        this.d3Node.select('circle').style('fill', function (d) {\r\n            let firstAttribute = Object.keys(d)[0]\r\n            return color(d[firstAttribute]) \r\n        })\r\n    }\r\n\r\n    showNodeHandlingButtons() {\r\n        if (this.props.editableGraph) {\r\n            if (this.d3Node.select(\".nodeHandlingButtons\").attr(\"visibility\") === \"hidden\") {\r\n                this.d3Node.select(\".nodeHandlingButtons\").attr(\"visibility\", \"visible\").transition().duration(500).attr(\"opacity\", 1)\r\n            } else {\r\n                this.d3Node.select(\".nodeHandlingButtons\").transition().duration(500).attr(\"opacity\", 0)\r\n                setTimeout(() => { this.d3Node.select(\".nodeHandlingButtons\").attr(\"visibility\", \"hidden\") }, 501)\r\n                store.dispatch({ type: 'DELETE_NODE_MODEL' })\r\n            }\r\n        }\r\n    }\r\n\r\n    changeNodeHandlingButtonColorEnter(name) {\r\n        this.d3Node.select(\".\" + name).select(\"path\").style(\"fill\", \"#FCBC34\")\r\n    }\r\n\r\n    changeNodeHandlingButtonColorExit(name) {\r\n        this.d3Node.select(\".\" + name).select(\"path\").style(\"fill\", \"#69b3a2\")\r\n    }\r\n\r\n    handleAddEdge() {\r\n        console.log(this.props.data)\r\n        store.dispatch({ type: 'ACCEPT_EDGE_DRAWING', acceptEdgeDrawing: true })\r\n        store.dispatch({ type: 'ADD_STARTING_EDGE', startingEdge: this.props.data })\r\n        this.showNodeHandlingButtons()\r\n    }\r\n\r\n    handleRemoveNode() {\r\n        let oldData = store.getState().schemaData.schema\r\n        const newNodes = oldData.nodes.filter(node => JSON.stringify(node) !== JSON.stringify(this.props.data))\r\n        const newLinks = oldData.links.filter(link => JSON.stringify(link.source) !== JSON.stringify(this.props.data) && JSON.stringify(link.target) !== JSON.stringify(this.props.data))\r\n        store.dispatch({ type: \"ADD_SCHEMA_DATA\", data: { nodes: newNodes, links: newLinks }, key: \"removedNodeKey\" + newNodes.length })\r\n        this.showNodeHandlingButtons()\r\n    }\r\n\r\n    handleRemoveEdges() {\r\n        let oldData = store.getState().schemaData.schema\r\n        const newLinks = oldData.links.filter(link => JSON.stringify(link.source) !== JSON.stringify(this.props.data) && JSON.stringify(link.target) !== JSON.stringify(this.props.data))\r\n        store.dispatch({ type: \"ADD_SCHEMA_DATA\", data: { nodes: oldData.nodes, links: newLinks }, key: \"removedEdgesKey\" + newLinks.length })\r\n        this.showNodeHandlingButtons()\r\n    }\r\n\r\n    handleAddNodeStartingFromThisNode() {\r\n        let newNode = {}\r\n        for (const key in this.props.data) {\r\n            if (key !== \"index\") {\r\n                newNode[key] = \"\"\r\n            }\r\n            else {\r\n                break\r\n            }\r\n        }\r\n        store.dispatch({ type: 'ADD_NODE_MODEL', textFieldVisible: true, nodeModel: newNode, sourceNode: this.props.data })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <g ref={this.nodeRef} className={this.props.nodeName}>\r\n                <circle onMouseEnter={this.handle.bind(this)} onMouseLeave={this.handleColorChangeBack.bind(this)} onClick={this.showNodeHandlingButtons.bind(this)} />\r\n                <text>{this.props.data.name}</text>\r\n\r\n                <g className=\"nodeHandlingButtons\" display=\"block\" visibility=\"hidden\" opacity=\"0\" >\r\n                    <g className=\"addEdgeElement\" onClick={this.handleAddEdge.bind(this)} onMouseEnter={() => this.changeNodeHandlingButtonColorEnter(\"addEdgeElement\")}\r\n                        onMouseLeave={() => this.changeNodeHandlingButtonColorExit(\"addEdgeElement\")}>\r\n                        <path className=\"addEdge\" />\r\n                        <foreignObject className=\"addEdgeLabel\" width=\"30\" height=\"30\">\r\n                            <i className='fas fa-external-link-alt' style={{ \"fontSize\": \"18px\" }}></i>\r\n                        </foreignObject>\r\n                    </g>\r\n                    <g className=\"removeNodeElement\" onClick={this.handleRemoveNode.bind(this)} onMouseEnter={() => this.changeNodeHandlingButtonColorEnter(\"removeNodeElement\")}\r\n                        onMouseLeave={() => this.changeNodeHandlingButtonColorExit(\"removeNodeElement\")}>\r\n                        <path className=\"removeNode\" />\r\n                        <foreignObject className=\"removeNodeLabel\" width=\"30\" height=\"30\">\r\n                            <i className=\"material-icons\" style={{ \"fontSize\": \"28px\" }}>delete_forever</i>\r\n                        </foreignObject>\r\n                    </g>\r\n                    <g className=\"removeEdgesElement\" onClick={this.handleRemoveEdges.bind(this)} onMouseEnter={() => this.changeNodeHandlingButtonColorEnter(\"removeEdgesElement\")}\r\n                        onMouseLeave={() => this.changeNodeHandlingButtonColorExit(\"removeEdgesElement\")}>\r\n                        <path className=\"removeEdges\" />\r\n                        <foreignObject className=\"removeEdgesLabel\" width=\"30\" height=\"30\">\r\n                            <i className='fas fa-unlink' style={{ \"fontSize\": \"18px\" }}></i>\r\n                        </foreignObject>\r\n                    </g>\r\n                    <g className=\"addNodeStartingFromThisNodeElement\" onClick={this.handleAddNodeStartingFromThisNode.bind(this)} onMouseEnter={() => this.changeNodeHandlingButtonColorEnter(\"addNodeStartingFromThisNodeElement\")}\r\n                        onMouseLeave={() => this.changeNodeHandlingButtonColorExit(\"addNodeStartingFromThisNodeElement\")}>\r\n                        <path className=\"addNodeStartingFromThisNode\" />\r\n                        <foreignObject className=\"addNodeStartingFromThisNodeLabel\" width=\"26\" height=\"23\">\r\n                            <i className='fas fa-plus-circle' style={{ \"fontSize\": \"22px\" }}></i>\r\n                        </foreignObject>\r\n                    </g>\r\n                </g>\r\n            </g>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Node","import React, { Component } from 'react'\r\nimport { select } from 'd3-selection'\r\n\r\nconst enterLink = (selection) => {\r\n\r\n    selection.select('path')\r\n        .attr('stroke-width', 2)\r\n        .style('stroke', 'grey')\r\n        .attr(\"fill\", \"none\")\r\n        .attr(\"marker-end\", \"url(#triangle)\")\r\n\r\n    selection.select('text')\r\n        .attr('dy', '.35em')\r\n        .style('transform', 'translateX(-50%,-50%')\r\n        .attr(\"text-anchor\", \"middle\")\r\n}\r\n\r\nconst updateLink = (selection) => {\r\n    selection\r\n        .attr('x1', (d) => d.source.x)\r\n        .attr('y1', (d) => d.source.y)\r\n        .attr('x2', (d) => d.target.x)\r\n        .attr('y2', (d) => d.target.y)\r\n}\r\n\r\nclass Edge extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.edgeRef = React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.d3Link = select(this.edgeRef.current)\r\n            .datum(this.props.data)\r\n            .call(enterLink)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.d3Link.datum(this.props.data)\r\n            .call(updateLink)\r\n    }\r\n\r\n    handle(e) {\r\n        console.log(this.props + ' been clicked')\r\n    }\r\n\r\n    render() {\r\n        if (this.props.data.name !== undefined) {\r\n            return (\r\n                <g ref={this.edgeRef} className={this.props.linkName}>\r\n                    <path onClick={this.handle.bind(this)} />\r\n                    <text>{this.props.data.name}</text>\r\n                </g>\r\n            )\r\n        }\r\n        else {\r\n            return (\r\n                <g ref={this.edgeRef} className={this.props.linkName}>\r\n                    <path onClick={this.handle.bind(this)} />\r\n                </g>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Edge","\r\nimport React, { Component } from 'react'\r\nimport Node from './Node'\r\nimport Edge from './Edge'\r\nimport { select, selectAll, mouse, event } from 'd3-selection'\r\nimport { drag } from 'd3-drag'\r\nimport { line } from 'd3-shape'\r\nimport { forceSimulation, forceManyBody, forceCenter, forceLink, forceCollide, forceX, forceY } from 'd3-force'\r\nimport { zoom } from 'd3-zoom'\r\nimport store from '../../store'\r\nlet ptdata = []\r\n\r\nfunction drawPath(data, selection) {\r\n    selection.selectAll(\"#dynamicPath\").remove()\r\n    selection.selectAll(\"#dynamicLine\")\r\n        .data([data])\r\n        .append(\"path\")\r\n        .attr(\"id\", \"dynamicPath\")\r\n        .attr(\"class\", \"lineClass\").attr('stroke-width', \"1.5px\").attr(\"stroke\", \"#000\").attr(\"fill\", \"none\")\r\n        .attr(\"d\", line().x(function (d) { return d[0] }).y(function (d) { return d[1] }))\r\n}\r\n\r\nclass Graph extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = { acceptEdgeDrawing: false }\r\n        this.graphRef = React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        const scaledwidth = 0.67 * this.props.width\r\n        const scaledheigth = 0.6 * this.props.height\r\n        const nodeName = this.props.nodeName\r\n        const linkName = this.props.linkName\r\n\r\n        const updateNode = (selection) => {\r\n            selection.attr('transform', (d) => 'translate(' + d.x + ',' + d.y + ')')\r\n        }\r\n\r\n        const updateEdge = (selection) => {\r\n            selection.select('path')\r\n                .attr(\"d\", function (d) {\r\n                    let x1 = d.source.x,\r\n                        y1 = d.source.y,\r\n                        x2 = d.target.x,\r\n                        y2 = d.target.y,\r\n                        drx = 0,\r\n                        dry = 0,\r\n                        xRotation = 0,\r\n                        largeArc = 0\r\n\r\n                    if (x1 === x2 && y1 === y2) {\r\n                        xRotation = 45\r\n                        largeArc = 1\r\n                        drx = 60 / 2\r\n                        dry = 40 / 2\r\n                        x2 = x2 + 1\r\n                        y2 = y2 + 1\r\n                    }\r\n\r\n                    return \"M\" + x1 + \",\" + y1 + \"A\" + drx + \",\" + dry + \" \" + xRotation + \",\" + largeArc + \", 1 \" + x2 + \",\" + y2;\r\n                })\r\n\r\n            selection.select('text')\r\n                .attr(\"x\", function (d) {\r\n                    return ((d.source.x + d.target.x) / 2)\r\n                })\r\n                .attr(\"y\", function (d) {\r\n                    return ((d.source.y + d.target.y) / 2)\r\n                })\r\n        }\r\n\r\n        const updateGraph = (selection) => {\r\n            selection.selectAll('.' + nodeName)\r\n                .call(updateNode)\r\n            selection.selectAll('.' + linkName)\r\n                .call(updateEdge)\r\n        }\r\n        this.d3Graph = select(this.graphRef.current)\r\n\r\n        const force = forceSimulation().nodes(this.props.data.nodes)\r\n            .force('charge', forceManyBody().strength(-150))\r\n            .force('link', forceLink(this.props.data.links).distance(100))\r\n            .force('center', forceCenter().x(scaledwidth / 2).y(scaledheigth / 2))\r\n            .force('collide', forceCollide([10]).iterations([10]))\r\n            .force(\"xAxis\", forceX(scaledwidth / 2).strength(0.05))\r\n            .force(\"yAxis\", forceY(scaledheigth / 2).strength(0.05))\r\n\r\n        function dragStarted(d) {\r\n            if (!event.active) force.alphaTarget(0.3).restart()\r\n            d.fx = d.x\r\n            d.fy = d.y\r\n        }\r\n\r\n        function dragging(d) {\r\n            d.fx = event.x\r\n            d.fy = event.y\r\n        }\r\n\r\n        function dragEnded(d) {\r\n            if (!event.active) force.alphaTarget(0)\r\n            d.fx = null\r\n            d.fy = null\r\n        }\r\n\r\n        selectAll('g.' + nodeName)\r\n            .call(drag()\r\n                .on('start', dragStarted)\r\n                .on('drag', dragging)\r\n                .on('end', dragEnded)\r\n            )\r\n\r\n        force.on('tick', () => {\r\n            this.d3Graph.call(updateGraph)\r\n        })\r\n\r\n        this.d3Graph.call(zoom().extent([[0, 0], [0.67 * this.props.width, 0.6 * this.props.height]]).scaleExtent([0.5, 2.5])).on(\"zoom\", function () {\r\n            var selection = select(this)\r\n            selection\r\n                .call(zoom)\r\n                .on(\"dblclick.zoom\", null).on(\"dragstart.zoom\", null).on(\"mousedown.zoom\", null)\r\n            selection.attr(\"transform\", event.transform)\r\n            selection.attr(\"transform-origin\", \"0 0\")\r\n        })\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        let value = this.state.acceptEdgeDrawing\r\n        this.d3Graph.on(\"mousemove\", function () {\r\n            if (value === true) {\r\n                var pt = mouse(this)\r\n                var selection = select(this)\r\n                tickLine(pt, ptdata, selection)\r\n            }\r\n        }).on('click', function () {\r\n            if (value === true) {\r\n                var coords = mouse(this)\r\n                if (ptdata.length === 0) {\r\n                    ptdata.push(coords)\r\n                } else if (ptdata.length === 1) {\r\n                    ptdata = []\r\n                }\r\n            }\r\n        })\r\n\r\n        function tickLine(point, ptdata, selection) {\r\n            if (ptdata.length > 0) {\r\n                ptdata.push(point)\r\n                drawPath(ptdata, selection)\r\n                if (ptdata.length >= 2) {\r\n                    ptdata.pop()\r\n                }\r\n            }\r\n        }\r\n\r\n        this.d3Graph.call(zoom().extent([[0, 0], [0.67 * this.props.width, 0.6 * this.props.height]]).scaleExtent([0.5, 2.5]).on(\"zoom\", function () {\r\n            var selection = select(this)\r\n            selection\r\n                .call(zoom)\r\n                .on(\"dblclick.zoom\", null).on(\"dragstart.zoom\", null).on(\"mousedown.zoom\", null)\r\n            selection.attr(\"transform\", event.transform)\r\n            selection.attr(\"transform-origin\", \"0 0\")\r\n        }))\r\n    }\r\n\r\n    handleStoreChange = () => {\r\n        if (store.getState().edgeDrawing.acceptEdgeDrawing !== this.state.acceptEdgeDrawing) {\r\n            this.setState({ acceptEdgeDrawing: store.getState().edgeDrawing.acceptEdgeDrawing })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        //store.subscribe(this.handleStoreChange)\r\n        const scaledwidth = 0.67 * this.props.width\r\n        const scaledheigth = 0.6 * this.props.height\r\n        const nodes = this.props.data.nodes.map((node, i) => {\r\n            return (\r\n                <Node data={node} name={node.name} key={node.id === undefined ? i : node.id} nodeName={this.props.nodeName} editableGraph={this.props.editableGraph} />)\r\n        })\r\n        const links = this.props.data.links.map((link, i) => {\r\n            return (\r\n                <Edge key={link.id === undefined ? i : link.id} data={link} linkName={this.props.linkName} />)\r\n        })\r\n        return (<div>\r\n            <svg key={this.props.nameClass + 'Key'} className={this.props.nameClass} ref={this.graphRef} width={scaledwidth} height={scaledheigth}>\r\n                <defs>\r\n                    <marker id=\"triangle\"\r\n                        refX=\"21\" refY=\"6\"\r\n                        markerWidth=\"100\" markerHeight=\"100\"\r\n                        orient=\"auto\" markerUnits=\"userSpaceOnUse\">\r\n                        <path d=\"M 0 0 12 6 0 12 3 6\" fill=\"grey\" />\r\n                    </marker>\r\n                </defs>\r\n                <g>\r\n                    {links}\r\n                </g>\r\n                <g>\r\n                    {nodes}\r\n                </g>\r\n                <g id=\"dynamicLine\"></g>\r\n            </svg>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Graph","import React from 'react'\r\nimport Tree from 'react-d3-tree'\r\n \r\n// const myTreeData = [\r\n//   {\r\n//     name: 'Top Level',\r\n//     attributes: {\r\n//       keyA: 'val A',\r\n//       keyB: 'val B',\r\n//       keyC: 'val C',\r\n//     },\r\n//     children: [\r\n//       {\r\n//         name: 'Level 2: A',\r\n//         attributes: {\r\n//           keyA: 'val A',\r\n//           keyB: 'val B',\r\n//           keyC: 'val C',\r\n//         },\r\n//       },\r\n//       {\r\n//         name: 'Level 2: B',\r\n//       },\r\n//     ],\r\n//   },\r\n// ]\r\n\r\nconst svgCircle = {\r\n    shape: 'circle',\r\n    shapeProps: {\r\n      stroke: 'black',\r\n      strokeWidth: '1',\r\n      r: 10\r\n    }\r\n  }\r\n \r\nclass NewTree extends React.Component {\r\n  render() {\r\n    const scaledwidth =  0.9 * this.props.width\r\n    const scaledheigth = 0.6 * this.props.height\r\n    return (\r\n      <div id=\"treeWrapper\" style={{width: scaledwidth, height: scaledheigth}}>\r\n        <Tree data={this.props.treeResult} orientation = \"vertical\" nodeSvgShape={svgCircle} translate = {{x: scaledwidth/2, y: scaledheigth/5}} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewTree","import React, { Component } from 'react'\r\nimport { select } from 'd3-selection'\r\nimport store from '../../store'\r\n\r\nclass MultiEdge extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.edgeRef = React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.d3Link = select(this.edgeRef.current)\r\n            .datum(this.props.data)\r\n            .call(this.enterLink)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.d3Link.datum(this.props.data)\r\n    }\r\n\r\n    enterLink = (selection) => {\r\n        selection.select('path')\r\n            .attr('stroke-width', 2)\r\n            .style('stroke', 'grey')\r\n            .attr(\"fill\", \"none\")\r\n            .attr(\"marker-end\", \"url(#multitriangle\" + this.props.linkName + \")\")\r\n\r\n        selection.select('text')\r\n            .style('transform', 'translateX(-50%,-50%')\r\n            .attr(\"text-anchor\", \"start\")\r\n    }\r\n\r\n    wrapText = (text, width) => {\r\n        let line = [], lineNumber = 0,\r\n            lineHeight = -5, // pxs\r\n            y = this.d3Link.select(\"textPath\").attr(\"y\"),\r\n            dy = parseFloat(this.d3Link.select(\"text\").attr(\"dy\")),\r\n            tspan = this.d3Link.select(\"textPath\").text(null).append(\"tspan\").attr(\"x\", 20).attr(\"y\", y).attr(\"dy\", dy + \"px\")\r\n        let words = text.split(\" \").filter(word => {\r\n            if(word !== \"\" || word !== \"\\n\" || word !== \" \") {\r\n                return word.trim()\r\n            }\r\n            return word\r\n        })\r\n        while (words.length > 0) {\r\n            let word = words.pop()\r\n            line.push(word)\r\n            const printableLine = line.slice().reverse()\r\n            tspan.text(printableLine.join(\" \"))\r\n            if (tspan.node().getComputedTextLength() > width) {\r\n                line.pop()\r\n                const printableLine = line.slice().reverse()\r\n                tspan.text(printableLine.join(\" \"))\r\n                line = [word]\r\n                tspan = this.d3Link.select(\"textPath\").append(\"tspan\").attr(\"x\", 50).attr(\"y\", y).attr(\"dy\", ++lineNumber * lineHeight + dy + \"px\")\r\n            }\r\n        }\r\n    }\r\n\r\n    handleMouseEntering = () => {\r\n        if(this.props.showEdgeLabels) {\r\n        this.d3Link.select(\"text\")\r\n            .attr(\"visibility\", \"visible\")\r\n        this.wrapText(this.props.data.name, 170)\r\n    }\r\n        this.d3Link.select('path')\r\n            .attr('stroke-width', 5)\r\n            .style('stroke', '#666666')\r\n            .attr(\"fill\", \"none\")\r\n        \r\n        store.dispatch({ type: 'SHOW_NODE_EDGE_DATA', data: [{ \"key\": \"label\", \"value\": this.props.data.name }], header: \"Edge\" })\r\n    }\r\n\r\n    handleMouseExiting = () => {\r\n        if(this.props.showEdgeLabels) {\r\n        this.d3Link.select(\"text\")\r\n            .attr(\"visibility\", \"hidden\")\r\n        }\r\n        this.d3Link.select('path')\r\n            .attr('stroke-width', 2)\r\n            .style('stroke', 'grey')\r\n            .attr(\"fill\", \"none\")\r\n        \r\n    }\r\n\r\n    handle(e) {\r\n        console.log(this.props + ' been clicked')\r\n    }\r\n\r\n    render() {\r\n        let pathId\r\n        (this.props.edgekey !== undefined) ? pathId = this.props.edgekey : pathId = this.props.data.name\r\n        if (this.props.data.name !== undefined) {\r\n            return (\r\n                <g ref={this.edgeRef} className={this.props.linkName} onMouseEnter={this.handleMouseEntering.bind(this)} onMouseLeave={this.handleMouseExiting.bind(this)}>\r\n                    <path id={pathId} onClick={this.handle.bind(this)} />\r\n                    <text visibility=\"hidden\"><textPath href={\"#\" + pathId} style={{ textAnchor: \"start\" }} ></textPath></text>\r\n                </g>\r\n            )\r\n        }\r\n        else {\r\n            return (\r\n                <g ref={this.edgeRef} className={this.props.linkName} onMouseEnter={() => this.handleMouseEntering} onMouseLeave={() => this.handleMouseExiting}>\r\n                    <path onClick={this.handle.bind(this)} />\r\n                </g>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default MultiEdge","import React, { Component } from 'react'\r\nimport Node from '../graphComponents/Node'\r\nimport Multiedge from './MultiEdge'\r\nimport { select, selectAll } from 'd3-selection'\r\nimport { event } from 'd3-selection'\r\nimport { drag } from 'd3-drag'\r\nimport { forceSimulation, forceManyBody, forceCenter, forceLink, forceCollide, forceX, forceY } from 'd3-force'\r\n\r\nclass Graph extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.graphRef = React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        const scaledwidth =  0.67 * this.props.width\r\n        const scaledheigth = 0.6 * this.props.height\r\n        const nodeName = this.props.nodeName\r\n        const linkName = this.props.linkName\r\n\r\n        const updateNode = (selection) => {\r\n            selection.attr('transform', (d) => 'translate(' + d.x + ',' + d.y + ')')\r\n        }\r\n\r\n        const updateMultiEdge = (selection) => {\r\n            selection.select('path')\r\n                .attr(\"d\", function (d) {\r\n                    let x1 = d.source.x, y1 = d.source.y,\r\n                        x2 = d.target.x, y2 = d.target.y,\r\n                        dx = x2 - x1, dy = y2 - y1, dr = 0\r\n                    if (d.count > 1) {\r\n                        dr = (1 / d.count - 1) * Math.sqrt(dx * dx + dy * dy)\r\n                    }\r\n                    let drx = dr, dry = dr,\r\n                        xRotation = 0, largeArc = 0, sweep = 1\r\n                    if (x1 === x2 && y1 === y2) {\r\n                        xRotation = 45\r\n                        largeArc = 1\r\n                        sweep = 0\r\n                        drx = 60\r\n                        dry = 40\r\n                        x2 = x2 + 1\r\n                        y2 = y2 + 1\r\n                    }\r\n                    return \"M\" + x1 + \",\" + y1 + \"A\" + drx + \",\" + dry + \" \" + xRotation + \",\" + largeArc + \",\" + sweep + \" \" + x2 + \",\" + y2;\r\n                })\r\n\r\n            selection.select(\"text\").attr(\"dy\", -5)\r\n            selection.select(\"textPath\")\r\n                .style(\"text-anchor\", \"middle\")\r\n                .attr(\"startOffset\", \"50%\")\r\n        }\r\n\r\n        const updateMultiGraph = (selection) => {\r\n            selection.selectAll('.' + nodeName)\r\n                .call(updateNode)\r\n            selection.selectAll('.' + linkName)\r\n                .call(updateMultiEdge)\r\n        }\r\n\r\n        this.d3Graph = select(this.graphRef.current)\r\n\r\n        const force = forceSimulation().nodes(this.props.data.nodes)\r\n            .force('charge', forceManyBody().strength(-100))\r\n            .force('link', forceLink(this.props.data.links).distance(200))\r\n            .force('center', forceCenter().x(scaledwidth / 2).y(scaledheigth / 2))\r\n            .force('collide', forceCollide([90]).iterations([30]))\r\n            .force(\"xAxis\", forceX(scaledwidth / 2).strength(0.01))\r\n            .force(\"yAxis\", forceY(scaledheigth / 2).strength(0.01))\r\n\r\n        function dragStarted(d) {\r\n            if (!event.active) force.alphaTarget(0.3).restart()\r\n            d.fx = d.x\r\n            d.fy = d.y\r\n        }\r\n\r\n        function dragging(d) {\r\n            d.fx = event.x\r\n            d.fy = event.y\r\n        }\r\n\r\n        function dragEnded(d) {\r\n            if (!event.active) force.alphaTarget(0)\r\n            d.fx = null\r\n            d.fy = null\r\n        }\r\n\r\n        selectAll('g.' + nodeName)\r\n            .call(drag()\r\n                .on('start', dragStarted)\r\n                .on('drag', dragging)\r\n                .on('end', dragEnded)\r\n            )\r\n\r\n        force.on('tick', () => {\r\n            this.d3Graph.call(updateMultiGraph)\r\n        })\r\n\r\n    }\r\n\r\n    render() {\r\n        const scaledwidth =  0.67 * this.props.width\r\n        const scaledheigth = 0.6 * this.props.height\r\n        const nodes = this.props.data.nodes.map((node, i) => {\r\n            return (\r\n                <Node data={node} name={node.name} key={node.id} nodeName={this.props.nodeName} editableGraph={this.props.editableGraph} />)\r\n        })\r\n        const links = this.props.data.links.map((link, i) => {\r\n            return (\r\n                <Multiedge key={link.id === undefined ? link.name : link.id} edgekey = {link.id} data={link} linkName={this.props.linkName} showEdgeLabels = {this.props.showEdgeLabels} />)\r\n        })\r\n        return (<div>\r\n            <svg key={this.props.nameClass + 'Key'} className={this.props.nameClass} ref={this.graphRef} width={scaledwidth} height={scaledheigth}>\r\n                <defs>\r\n                    <marker id= { \"multitriangle\" + this.props.linkName }\r\n                        refX=\"21\" refY=\"6\"\r\n                        markerWidth=\"100\" markerHeight=\"100\"\r\n                        orient=\"auto\" markerUnits=\"userSpaceOnUse\">\r\n                        <path d=\"M 0 0 12 6 0 12 3 6\" fill=\"grey\" />\r\n                    </marker>\r\n                </defs>\r\n                <g>\r\n                    {links}\r\n                </g>\r\n                <g>\r\n                    {nodes}\r\n                </g>\r\n            </svg>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Graph","import React, { Component } from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\nimport MultiGraph from '../../dataComponents/multiGraphComponents/MultiGraph'\r\nimport morphisms from './morphismsForCategoricalView'\r\n\r\nclass CategoricalViewOfQuery extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            graphData: undefined, morphisms: morphisms.morphisms.simpleDemo.morphisms\r\n        }\r\n        this.splitted = React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.query !== \"\") {\r\n            let graph = this.parseLetBeInBlock(this.props.query)\r\n            let timeStampInMs = window.performance && window.performance.now && window.performance.timing && window.performance.timing.navigationStart ? window.performance.now() + window.performance.timing.navigationStart : Date.now()\r\n            this.setState({ graphData: graph, graphKey: timeStampInMs })\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.query !== this.props.query) {\r\n            if (this.props.query !== \"\") {\r\n                let graph = this.parseLetBeInBlock(this.props.query)\r\n                let timeStampInMs = window.performance && window.performance.now && window.performance.timing && window.performance.timing.navigationStart ? window.performance.now() + window.performance.timing.navigationStart : Date.now()\r\n                this.setState({ graphData: graph, graphKey: timeStampInMs })\r\n            }\r\n        }\r\n\r\n        if (prevProps.dataSet.nameForCategoricalQueryView !== this.props.dataSet.nameForCategoricalQueryView) {\r\n            this.setState({ morphisms: morphisms.morphisms[this.props.dataSet.nameForCategoricalQueryView].morphisms })\r\n        }\r\n    }\r\n\r\n    parseLetBeInBlock = (query) => {\r\n        let newQuery = query.split(\"BE\").join(\"@\").split(\"IN\").join(\"@\").split(\"@\")\r\n        let blocks = []\r\n        newQuery.map(query => {\r\n            if (query.includes(\"QUERY\")) {\r\n                blocks.push(this.parseQueryBlock(query))\r\n            }\r\n            return query\r\n        })\r\n        let newBlocks = blocks.map(element => {\r\n            return this.compositionTreeToGraphWithoutDuplicateNodes({ nodes: [], links: [] }, element)\r\n        })\r\n        let totalGraph = { nodes: [], links: [] }\r\n        newBlocks.map(graph => {\r\n            totalGraph = this.compositionGraphsWithDuplicateNodes(totalGraph, graph)\r\n            return graph\r\n        })\r\n        //console.log(totalGraph)\r\n        return totalGraph\r\n    }\r\n\r\n\r\n    parseQueryBlock = (query) => {\r\n        this.splitted = false\r\n        let newQuery = query.split(\"QUERY (\").join(\"@\").split(\"QUERY(\").join(\"@\")\r\n            .split(\")\\n\").join(\"@\").split(\") FROM\").join(\"@\")\r\n            .split(\"FROM\").join(\"@\")\r\n            .split(\"AS\").join(\"@\")\r\n            .split(\"TO\").join(\"@\").split(\"@\")\r\n        //console.log(newQuery)\r\n        return this.parseLambda(newQuery[1], newQuery[4].trim() + \" \" + newQuery[3].trim(), \"all \" + newQuery[3].trim())\r\n    }\r\n\r\n    parseLambda = (lambdaf, domain, target) => {\r\n        console.log(lambdaf)\r\n        try {\r\n            if (lambdaf.includes(\"->\") && !(this.splitted)) {\r\n                lambdaf = lambdaf.split(/->(.+)/)[1].trim()\r\n                this.splitted = true\r\n                return { domain: target, outerFunction: \"-\", innerFunction: this.parseLambda(lambdaf, target.split(\" \")[1], domain) }\r\n            }\r\n            if (lambdaf.startsWith(\"if\")) {\r\n                return this.parseIf(lambdaf, domain, target)\r\n            } else if (lambdaf.startsWith(\"case\")) {\r\n                let g = lambdaf.split(/->(.+)/).join(\"@\").split(\";\").join(\"@\").split(\"@\")\r\n                this.parseLambda(g[1].trim(), domain, target)\r\n            } else if (lambdaf.includes(\":\")) {\r\n                lambdaf = lambdaf.split(\":\")[0].trim()\r\n                return { domain: target, outerFunction: \"cons function :\", innerFunction: this.parseLambda(lambdaf, target.split(\" \")[1], domain) }\r\n            } else if (lambdaf.includes(\"==\")) {\r\n                return this.parseBooleanFunction(lambdaf, domain, target, \"==\")\r\n            } else if (lambdaf.includes(\"<\")) {\r\n                return this.parseBooleanFunction(lambdaf, domain, target, \"<\")\r\n            } else if (lambdaf.includes(\">\")) {\r\n                return this.parseBooleanFunction(lambdaf, domain, target, \">\")\r\n            } //else if (lambdaf.startsWith(\"(\")) {\r\n            //     return this.parseTermsOfTuple(lambdaf, domain, target)\r\n            else {\r\n                if(target.split(\" \")[1] === undefined) {\r\n                    return { domain: \"collection\", outerFunction: lambdaf.trim(), target: target }\r\n                } else {\r\n                    console.log(target, target.split(\" \")[1])\r\n                    return { domain: target.split(\" \")[1], outerFunction: lambdaf.trim(), target: target }\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n\r\n    }\r\n\r\n    parseTermsOfTuple = (lambdaf, domain, target) => {\r\n        let termsOfTuple = lambdaf.split(\",\")//.map(term => term.split(/([()])/))\r\n        termsOfTuple = termsOfTuple.map(term => {\r\n            if (term[0] === \"(\") {\r\n                return term.substr(1).trim()\r\n            } else if (term[term.length - 1] === \")\") {\r\n                return term.substr(0, term.length - 1).trim()\r\n            }\r\n            return term.trim()\r\n        })\r\n        console.log(termsOfTuple)\r\n        return { domain: \"Tuple\", outerFunction: lambdaf.trim(), innerFunction: termsOfTuple.map(term => this.parseLambda(term, domain, target)) }\r\n    }\r\n\r\n    parseIf = (lambda, domain, target) => {\r\n        let parsedLambda = lambda.split(\"if\").join(\"@\").split(\"then\").join(\"@\").split(\"else\").join(\"@\").split(\"@\")\r\n        return { domain: \"Boolean\", outerFunction: lambda.trim(), innerFunction: this.parseLambda(parsedLambda[1], domain, target) }\r\n    }\r\n\r\n    parseBooleanFunction = (lambda, domain, target, operator) => {\r\n        let parsedLambda = lambda.split(operator)\r\n        let foundMorphism, morphismsTarget\r\n        this.state.morphisms.map(morphism => {\r\n            if (parsedLambda[0].trim().includes(morphism.name)) {\r\n                foundMorphism = parsedLambda[0].trim()\r\n                morphismsTarget = morphism.target\r\n            } else if (parsedLambda[1].trim().includes(morphism.name)) {\r\n                foundMorphism = parsedLambda[1].trim()\r\n                morphismsTarget = morphism.target\r\n            }\r\n            return morphism\r\n        })\r\n        return { domain: morphismsTarget, outerFunction: lambda.trim(), innerFunction: this.parseLambda(foundMorphism, morphismsTarget, target) }\r\n    }\r\n\r\n    compositionGraphsWithDuplicateNodes = (graph1, graph2) => {\r\n        graph2.nodes.map((node, i) => {\r\n            node.id = graph1.nodes.length + 1\r\n            let newIndex = graph1.nodes.push(node) - 1\r\n            graph2.links = graph2.links.map(link => {\r\n                let newLink = link\r\n                if (link.source === i) {\r\n                    newLink.source = newIndex\r\n                }\r\n                if (link.target === i) {\r\n                    newLink.target = newIndex\r\n                }\r\n                return newLink\r\n            })\r\n            return node\r\n        })\r\n        graph1.links = graph1.links.concat(graph2.links.map((link, i) => {\r\n            link.id = graph1.links.length + i\r\n            return link\r\n        }))\r\n        //console.log(graph1)\r\n        return graph1\r\n    }\r\n\r\n    compositionTreeToGraphWithoutDuplicateNodes = (graph, composition) => {\r\n        console.log(composition)\r\n        let domainElement\r\n        let targetElement = { name: composition.domain, id: graph.nodes.length }\r\n        if(Array.isArray(composition.innerFunction)) {\r\n            let outerFunctionsNames = composition.innerFunction.map(f => f.outerFunction)\r\n            domainElement = composition.innerFunction.map((element, i) => { return { name: element.domain, id: graph.nodes.length + i + 1 }})\r\n            domainElement.map((node, i) => this.addEdgeToGraph(graph, node, targetElement, outerFunctionsNames[i]))\r\n        } else if (composition.innerFunction !== undefined) {\r\n            domainElement = { name: composition.innerFunction.domain, id: graph.nodes.length + 1 }\r\n            if(composition.innerFunction === undefined) {\r\n                this.addEdgeToGraph(graph, domainElement, targetElement, undefined)\r\n            } else {\r\n                this.addEdgeToGraph(graph, domainElement, targetElement, composition.innerFunction.outerFunction)\r\n            }   \r\n        } else {\r\n            domainElement = { name: composition.target, id: graph.nodes.length + 1 }\r\n            if(composition.innerFunction === undefined) {\r\n                this.addEdgeToGraph(graph, domainElement, targetElement, undefined)\r\n            } else {\r\n                this.addEdgeToGraph(graph, domainElement, targetElement, composition.innerFunction.outerFunction)\r\n            } \r\n        }\r\n        if (composition.innerFunction !== undefined) {\r\n            graph = this.compositionTreeToGraphWithoutDuplicateNodes(graph, composition.innerFunction)\r\n        }\r\n        console.log(graph)\r\n        return graph\r\n    }\r\n\r\n    addEdgeToGraph = (graph, domain, target, functionName) => {\r\n        let sourceIndex, targetIndex\r\n        graph.nodes.map((node, i) => {\r\n            if (node.name === domain.name) {\r\n                sourceIndex = i\r\n            }\r\n            if (node.name === target.name) {\r\n                targetIndex = i\r\n            }\r\n            return node\r\n        })\r\n        if (sourceIndex === undefined) {\r\n            sourceIndex = graph.nodes.push(domain) - 1\r\n        }\r\n        if (targetIndex === undefined) {\r\n            targetIndex = graph.nodes.push(target) - 1\r\n        }\r\n        if (functionName === undefined) {\r\n            functionName = \"type constructor \" + domain.name\r\n        }\r\n        graph.links.push({ source: sourceIndex, target: targetIndex, name: functionName, count: 1, id: graph.links.length })\r\n        return graph\r\n    }\r\n\r\n    render() {\r\n        if (this.state.graphData === undefined) {\r\n            return null\r\n        } else {\r\n            return <Container style={{ margin: \"5px\" }} fluid=\"true\">\r\n                <MultiGraph key={this.state.graphKey} data={this.state.graphData} width={this.props.width} height={this.props.height}\r\n                    nodeName={'ViewOfQueryNodes'} linkName={'ViewOfQueryLinks'} nameClass={'ViewOfQueryClassName'} editableGraph={false} showEdgeLabels={false} />\r\n            </Container>\r\n        }\r\n    }\r\n}\r\n\r\nexport default CategoricalViewOfQuery","import React, { Component } from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport RelationalTabs from '../dataComponents/relationalComponents/relationalTabs'\r\nimport Graph from '../dataComponents/graphComponents/Graph'\r\nimport NewTree from '../dataComponents/newTreeComponents/newTree'\r\nimport Col from 'react-bootstrap/Col'\r\nimport style from '../styles'\r\nimport Button from 'react-bootstrap/Button'\r\nimport CategoricalViewOfQuery from './queryComponents/CategoricalViewOfQuery'\r\n\r\nclass ResultComponent extends Component {\r\n\r\n    render() {\r\n        let renderedElement = null\r\n\r\n        if (this.props.resultSet.model === \"relational\" && this.props.resultSet.resultData !== undefined) {\r\n            renderedElement = <Col>\r\n                <RelationalTabs width={this.props.width} height={this.props.height} key={this.props.resultSet.key} tables={this.props.resultSet.resultData} />\r\n            </Col>\r\n        } else if (this.props.resultSet.model === \"graph\" && this.props.resultSet.resultData !== undefined) {\r\n            renderedElement = <Graph key={this.props.resultSet.key} data={this.props.resultSet.resultData} width={this.props.width} height={this.props.height} nodeName={'GraphNodes'} linkName={'GraphLinks'}\r\n                nameClass={'GraphClassName'} editableGraph={false} />\r\n        } else if (this.props.resultSet.model === \"xml\" && this.props.resultSet.resultData !== undefined) {\r\n            renderedElement = <NewTree key={this.props.resultSet.key} treeResult={this.props.resultSet.resultData} width={this.props.width} height={this.props.height} />\r\n        }\r\n        if (renderedElement === null || (this.props.showResult === false && this.props.showCategoricalView === false)) {\r\n            return null\r\n        } else if (this.props.showCategoricalView === true) {\r\n\r\n            return <Row style={style.basicComponentsStyle}>\r\n                <Container style={{ margin: \"5px\" }} fluid=\"true\">\r\n                    <Col style={{ marginBottom: \"5px\", marginLeft: \"5px\", marginRigth: \"5px\" }}>\r\n                        <Row style={{ marginTop: '5px' }}>\r\n                            <h4>Categorical view of the query {this.props.header}</h4>\r\n                        </Row>\r\n                        <Row ref={this.mainContainer} style={{ \"margin\": \"10px\" }}>\r\n                            <CategoricalViewOfQuery dataSet = {this.props.dataSet} query={this.props.query} width={this.props.width} height={this.props.height} />\r\n                        </Row>\r\n                    </Col>\r\n                </Container>\r\n            </Row>\r\n\r\n        } else {\r\n\r\n            return <Row style={style.basicComponentsStyle}>\r\n                <Container style={{ margin: \"5px\" }} fluid=\"true\">\r\n                    <Col style={{ marginBottom: \"5px\", marginLeft: \"5px\", marginRigth: \"5px\" }}>\r\n                        <Row style={{ marginTop: '5px' }}>\r\n                            <h4>Result</h4>\r\n                            <Button style={{ marginLeft: \"15px\", marginTop: \"5px\", height: \"30px\" }} size=\"sm\" variant=\"dark\" onClick={this.props.initializeResult}>Empty</Button>\r\n                        </Row>\r\n                        <Row ref={this.mainContainer} style={{ \"margin\": \"10px\" }}>\r\n                            {renderedElement}\r\n                        </Row>\r\n                    </Col>\r\n                </Container>\r\n            </Row>\r\n        }\r\n    }\r\n}\r\nexport default ResultComponent","import axios from 'axios'\r\n\r\nconst compileRelationalQuery = async (command) => {\r\n    const answer = await axios.post('http://localhost:3002/query', \"wrapListToJSON $ \" + command, {\r\n        headers: {\r\n            'Content-Type': 'text/plain'\r\n        }\r\n    })\r\n    let jsonDataList = parseJSONList(answer.data)\r\n    if (jsonDataList !== undefined) {\r\n        if (jsonDataList.length === 0) {\r\n            return undefined\r\n        }\r\n        return JSONtoRelationalTables(jsonDataList)\r\n    }\r\n}\r\n\r\nconst compileTreeQuery = async (command) => {\r\n    const answer = await axios.post('http://localhost:3002/query', \"wrapListToJSON $ \" + command, {\r\n        headers: {\r\n            'Content-Type': 'text/plain'\r\n        }\r\n    })\r\n    let jsonDataList = parseJSONList(answer.data)\r\n    if (jsonDataList !== undefined) {\r\n        if (jsonDataList.length === 0) {\r\n            return undefined\r\n        }\r\n        return parseJSONtoTree(jsonDataList)\r\n    }\r\n}\r\n\r\nconst compileGraphQuery = async (command) => {\r\n    const answer = await axios.post('http://localhost:3002/query', \"encode $ createD3Graph $ \" + command, {\r\n        headers: {\r\n            'Content-Type': 'text/plain'\r\n        }\r\n    })\r\n    let graphData\r\n    if (answer.data.includes(\"nodes\") && answer.data.includes(\"links\")) {\r\n        graphData = parseJSONStringtoD3js(answer.data)\r\n    }\r\n    return graphData\r\n}\r\n\r\nconst compileRDFGraphQuery = async (command) => {\r\n    const answer = await axios.post('http://localhost:3002/query', \"encode $ rdfTriplesToD3Graph $ triplesOf \" + command, {\r\n        headers: {\r\n            'Content-Type': 'text/plain'\r\n        }\r\n    })\r\n    let graphData\r\n    if (answer.data.includes(\"nodes\") && answer.data.includes(\"links\")) {\r\n        graphData = parseJSONStringtoD3js(answer.data)\r\n    }\r\n    console.log(graphData)\r\n    return graphData\r\n}\r\n\r\nconst compileNimbleGraphQuery = async (command) => {\r\n    const answer = await axios.post('http://localhost:3002/query', \"encode $ createD3NimbleGraph $ \" + command, {\r\n        headers: {\r\n            'Content-Type': 'text/plain'\r\n        }\r\n    })\r\n    let graphData\r\n    if (answer.data.includes(\"nodes\") && answer.data.includes(\"links\")) {\r\n        graphData = parseJSONStringtoD3js(answer.data)\r\n    }\r\n    console.log(graphData)\r\n    return graphData\r\n}\r\n\r\nconst parseJSONList = (listString) => {\r\n    let m = listString.indexOf('{') - 1\r\n    let n = listString.indexOf('*')\r\n    listString = listString.substring(m !== -1 ? m : 0, n !== -1 ? n : listString.length)\r\n    listString = listString.replace(/\\\\/g, \"\\\\\\\\\\\\\\\\\")\r\n        .replace(/\\\\\\\\\\\\\\\\\"/g, \"\\\\\\\"\")\r\n        .replace(/\\//g, \"\\\\\\\\/\")\r\n    //console.log([listString])\r\n    try {\r\n        listString = JSON.parse(JSON.parse(listString))\r\n        return listString[\"result\"]\r\n    } catch (err) {\r\n        console.log(\"Error while parsing the JSON in list.\")\r\n    }\r\n}\r\n\r\nconst JSONtoRelationalTables = (jsonDataList) => {\r\n    let data = []\r\n    let subdata = []\r\n    let attributes\r\n    try {\r\n        attributes = Object.keys(jsonDataList[0])\r\n    } catch {\r\n        return undefined\r\n    }\r\n    \r\n    data.push(attributes)\r\n    jsonDataList.map(element => {\r\n        let elements = Object.values(element)\r\n        let acceptedElements = []\r\n        elements.map(element2 => {\r\n            if (typeof element2 === \"object\") {\r\n                subdata = JSONtoRelationalTables(element2)\r\n                acceptedElements.push(\"List\")\r\n            } else {\r\n                acceptedElements.push(element2)\r\n            }\r\n            return element2\r\n        })\r\n        data.push(acceptedElements)\r\n        return element\r\n    })\r\n    let result = {}\r\n    result[\"data\"] = data\r\n    result[\"eventKey\"] = JSON.stringify(data[0])\r\n    result[\"title\"] = \"Result\"\r\n    let returndata = [result]\r\n    try {\r\n        subdata.map(e => returndata.push(e))\r\n    } catch {\r\n        return undefined\r\n    }\r\n    \r\n    return returndata\r\n}\r\n\r\nconst parseJSONStringtoD3js = (jsonString) => {\r\n    let m = jsonString.indexOf('{') - 1\r\n    let n = jsonString.lastIndexOf('}')\r\n    jsonString = jsonString.substring(m !== -1 ? m : 0, n !== -1 ? n : jsonString.length)\r\n    jsonString = jsonString + '}\"'\r\n    jsonString = jsonString.replace(/(\\\\[0-9])/g, \"\")\r\n    try {\r\n        let obj = JSON.parse(JSON.parse(jsonString))\r\n        obj[\"nodes\"] = obj[\"nodes\"].map(node => {\r\n            // node = node.replace(\"\\\\\", \"\")\r\n            // console.log(node)\r\n            return JSON.parse(node)\r\n        })\r\n        if(obj[\"nodes\"][0][\"Left\"] !== undefined || obj[\"nodes\"][0][\"Right\"] !== undefined) {\r\n            obj[\"nodes\"] = obj[\"nodes\"].map(node => {\r\n                console.log(node)\r\n                if(node[\"Left\"] !== undefined) {\r\n                    return node[\"Left\"]\r\n                } else if(node[\"Right\"] !== undefined) {\r\n                    return node[\"Right\"]\r\n                }\r\n                return node\r\n            })\r\n        }\r\n        return obj\r\n    } catch (err) {\r\n        console.log(\"Error while parsing the JSON in Graph.\")\r\n    }\r\n    \r\n}\r\n\r\nconst parseChild = (childElement) => {\r\n    let answer = {\r\n        name: \"\",\r\n        attributes: {},\r\n        children: []\r\n    }\r\n    Object.keys(childElement).forEach(function (key) {\r\n        if (Array.isArray(childElement[key])) {\r\n            answer.name = key\r\n            childElement[key].map(child => answer.children.push(parseChild(child)))\r\n        } else if (hasJsonStructure(JSON.stringify(childElement[key]))) {\r\n            answer.name = key\r\n            answer.children.push(parseChild(childElement[key]))\r\n        } else {\r\n            answer.attributes[key] = childElement[key]\r\n        }\r\n    })\r\n    return answer\r\n}\r\n\r\nconst parseJSONtoTree = (jsonDataList) => {\r\n    let answer = {\r\n        name: \"root\",\r\n        attributes: {},\r\n        children: []\r\n    }\r\n    jsonDataList.map(child => answer.children.push(parseChild(child)))\r\n    return [answer]\r\n}\r\n\r\nconst hasJsonStructure = (str) => {\r\n    if (typeof str !== 'string') return false\r\n    try {\r\n        const result = JSON.parse(str)\r\n        const type = Object.prototype.toString.call(result)\r\n        return type === '[object Object]' \r\n            || type === '[object Array]'\r\n    } catch (err) {\r\n        return false\r\n    }\r\n}\r\n\r\nexport default {\r\n    compileRelationalQuery,\r\n    compileGraphQuery,\r\n    compileTreeQuery,\r\n    compileRDFGraphQuery,\r\n    compileNimbleGraphQuery\r\n}","/* eslint-disable array-callback-return */\r\nimport haskellCompiler from '../services/haskellCompilerService'\r\nimport sourceModels from \"./collectionDataTypesForDatasets.json\"\r\n\r\nconst parseLetInQueryBlock = (inputString) => {\r\n    if (inputString.includes(\"LET\")) {\r\n        let subQueries = inputString.split(\"\\n\")\r\n            .join(\"\")\r\n            .split(\"LET\")\r\n            .join(\"@\")\r\n            .split(\"BE\")\r\n            .join(\"@\")\r\n            .split(\"IN\")\r\n            .join(\"@IN@\")\r\n            .split(\"@\")\r\n        subQueries.shift()\r\n        let mainQuery\r\n        let parsedSubQueries = \"\"\r\n        subQueries.map((query, i) => {\r\n            if (query.includes(\"QUERY\") && subQueries[i - 1] !== \"IN\") {\r\n                let parsed = parseMainQueryBlock(query)\r\n                if (parsed[\"model\"] === \"error\") {\r\n                    console.log(\"error\", parsed[\"message\"])\r\n                    return parsed[\"message\"]\r\n                } else {\r\n                    parsedSubQueries += \"let \" + subQueries[i - 1] + \" = \" + parsed[\"query\"] + \" in \"\r\n                }\r\n            } else if (query.includes(\"QUERY\") && subQueries[i - 1] === \"IN\") {\r\n                mainQuery = parseMainQueryBlock(query)\r\n            }\r\n            return query\r\n        })\r\n        if (mainQuery !== undefined && mainQuery !== \"Error!\") {\r\n            mainQuery[\"query\"] = parsedSubQueries + mainQuery[\"query\"]\r\n            return mainQuery\r\n        }\r\n    } else {\r\n        return parseMainQueryBlock(inputString)\r\n    }\r\n}\r\n\r\nconst parseMainQueryBlock = (inputString) => {\r\n    let haskellQuery = []\r\n    let queryElements = inputString.split(\"\\n\")\r\n        .join(\"\")\r\n        .split(\"QUERY\")\r\n        .join(\"@\")\r\n        .split(\"TO\")\r\n        .join(\"@\")\r\n        .split(\"AS\")\r\n        .join(\"@\")\r\n        .split(\"FROM\")\r\n        .join(\"@\")\r\n        .split(\"@\")\r\n    queryElements.shift()\r\n    queryElements = queryElements.map(element => element.trim())\r\n    if (3 === queryElements.length === 4) {\r\n        return {\r\n            \"model\": \"error\",\r\n            \"message\": \"Error! Wrong amount of arguments in the query.\"\r\n        }\r\n    }\r\n    if (queryElements[0][0] !== \"(\" || queryElements[0][queryElements[0].length - 1] !== \")\") {\r\n        return {\r\n            \"model\": \"error\",\r\n            \"message\": \"Error! The lambda function (defined in QUERY line) needs to be in paranthesis.\"\r\n        }\r\n    }\r\n    let i = 0\r\n    if(queryElements.length === 4) {\r\n        i = 1\r\n    }\r\n    //console.log(queryElements)\r\n    let lambdafunction = queryElements[0]\r\n    const dataset = queryElements[1]\r\n    let sourceModel = sourceModels[dataset]\r\n    if(sourceModel === undefined) {\r\n        sourceModel = queryElements[2]\r\n    }\r\n    //console.log(sourceModel)\r\n    switch (sourceModel) {\r\n        case \"relational\":\r\n        case \"xml\":\r\n        case \"json\":\r\n            haskellQuery.push(\"foldr \")\r\n            switch (queryElements[2 + i]) {\r\n                case \"relational\":\r\n                case \"xml\":\r\n                case \"json\":\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" [] \")\r\n                    haskellQuery.push(dataset)\r\n                    break\r\n                case \"graph\":\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" Algebra.Graph.empty \")\r\n                    haskellQuery.push(dataset)\r\n                    break\r\n                case \"rdf\":\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" RDF.empty \")\r\n                    haskellQuery.push(dataset + \" :: RDF TList\")\r\n                    break\r\n                case \"nimblegraph\":\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" emptyNimbleGraph \")\r\n                    haskellQuery.push(dataset)\r\n                    break\r\n                default:\r\n                    return \"Error!\"\r\n            }\r\n            break\r\n        case \"graph\":\r\n            haskellQuery.push(\"foldg \")\r\n            lambdafunction = lambdafunction.replace(\"empty\", \"Algebra.Graph.empty\")\r\n            switch (queryElements[2 + i]) {\r\n                case \"relational\":\r\n                case \"xml\":\r\n                case \"json\":\r\n                    haskellQuery.push(\" [] \")\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" (union) \")\r\n                    haskellQuery.push(\"(union) \")\r\n                    haskellQuery.push(dataset)\r\n                    break\r\n                case \"graph\":\r\n                    haskellQuery.push(\"Algebra.Graph.empty \")\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" overlay \")\r\n                    haskellQuery.push(\"connect \")\r\n                    haskellQuery.push(dataset)\r\n                    break\r\n                case \"rdf\":\r\n                    haskellQuery.push(\" RDF.empty \")\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" rdfUnion \")\r\n                    haskellQuery.push(\"rdfUnion \")\r\n                    haskellQuery.push(dataset + \" :: RDF TList\")\r\n                    break\r\n                case \"nimblegraph\":\r\n                    haskellQuery.push(\" emptyNimbleGraph \")\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" nimbleGraphUnion \")\r\n                    haskellQuery.push(\"nimbleGraphUnion \")\r\n                    haskellQuery.push(dataset)\r\n                    break\r\n                default:\r\n                    return \"Error!\"\r\n            }\r\n            break\r\n        case \"rdf\":\r\n            haskellQuery.push(\"(foldrdf \")\r\n            switch (queryElements[2 + i]) {\r\n                case \"relational\":\r\n                case \"xml\":\r\n                case \"json\":\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" [] \")\r\n                    haskellQuery.push(dataset + \")\")\r\n                    break\r\n                case \"graph\":\r\n                    haskellQuery.push(\"Algebra.Graph.empty \")\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" overlay \")\r\n                    haskellQuery.push(\"connect \")\r\n                    haskellQuery.push(dataset + \")\")\r\n                    break\r\n                case \"rdf\":\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" RDF.empty \")\r\n                    haskellQuery.push(dataset + \" :: RDF TList)\")\r\n                    break\r\n                default:\r\n                    return \"Error!\"\r\n            }\r\n            break\r\n        case \"nimblegraph\":\r\n            haskellQuery.push(\"foldNimble \")\r\n            switch (queryElements[2 + i]) {\r\n                case \"relational\":\r\n                case \"xml\":\r\n                case \"json\":\r\n                    haskellQuery.push(\" [] \")\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" (union) \")\r\n                    haskellQuery.push(\"(union) \")\r\n                    haskellQuery.push(dataset)\r\n                    break\r\n                case \"graph\":\r\n                    haskellQuery.push(\"Algebra.Graph.empty \")\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" overlay \")\r\n                    haskellQuery.push(\"connect \")\r\n                    haskellQuery.push(lambdafunction)\r\n                    break\r\n                case \"rdf\":\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" RDF.empty \")\r\n                    haskellQuery.push(dataset + \" :: RDF TList\")\r\n                    break\r\n                case \"nimblegraph\":\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" (\\\\edge newGraph -> case (Map.lookup (vertexId $ NimbleGraph.NimbleGraph.source edge) (NimbleGraph.NimbleGraph.vertices newGraph)) of Nothing -> newGraph; Just(sourceVertex) -> case Map.lookup (vertexId $ NimbleGraph.NimbleGraph.target edge) (NimbleGraph.NimbleGraph.vertices newGraph) of Nothing -> newGraph; Just(targetVertex) -> addEdge edge newGraph) emptyNimbleGraph \")\r\n                    haskellQuery.push(dataset)\r\n                    break\r\n                default:\r\n                    return \"Error! Target model did not match any model.\"\r\n            }\r\n            break\r\n        default:\r\n            return {\r\n                \"model\": \"error\", \"message\": \"Error! Data model (AS line in the query) did not mathc any data model.\"\r\n            }\r\n    }\r\n    return {\r\n        \"model\": queryElements[2 + i],\r\n        \"query\": haskellQuery.join(\"\")\r\n    }\r\n}\r\n\r\nconst getTheQuery = (inputQuery) => {\r\n    const parsedQueryList = parseLetInQueryBlock(inputQuery)\r\n    if (parsedQueryList === undefined) {\r\n        return {\r\n            \"model\": \"error\",\r\n            \"message\": \"The query is not valid.\"\r\n        }\r\n    } else {\r\n        const model = parsedQueryList[\"model\"]\r\n        const query = parsedQueryList[\"query\"]\r\n        console.log(query)\r\n        return { \"model\": model, \"query\": query }\r\n    }\r\n}\r\n\r\nconst executeQuery = async (model, query) => {\r\n        switch (model) {\r\n            case \"graph\":\r\n                return {\r\n                \"model\": model,\r\n                \"answer\": await haskellCompiler.compileGraphQuery(query),\r\n                \"fold\": query\r\n                }\r\n            case \"relational\":\r\n                return {\r\n                \"model\": model,\r\n                \"answer\": await haskellCompiler.compileRelationalQuery(query),\r\n                \"fold\": query\r\n                }\r\n            case \"xml\":\r\n                return {\r\n                    \"model\": model,\r\n                    \"answer\": await haskellCompiler.compileTreeQuery(query),\r\n                    \"fold\": query\r\n                }\r\n            case \"rdf\":\r\n                return {\r\n                    \"model\": \"graph\",\r\n                    \"answer\": await haskellCompiler.compileRDFGraphQuery(query),\r\n                    \"fold\": query\r\n                }\r\n            case \"json\":\r\n                return {\r\n                    \"model\": \"xml\",\r\n                    \"answer\": await haskellCompiler.compileTreeQuery(query),\r\n                    \"fold\": query\r\n                }\r\n            case \"nimblegraph\":\r\n                return {\r\n                    \"model\": \"graph\",\r\n                    \"answer\": await haskellCompiler.compileNimbleGraphQuery(query),\r\n                    \"fold\": query\r\n                }\r\n            default:\r\n                return {\r\n                    \"model\": \"error\",\r\n                    \"message\": \"Unexpected error happened. No model was found.\",\r\n                    \"fold\": query\r\n                }\r\n        }\r\n}\r\n\r\nexport default {\r\n    executeQuery,\r\n    parseLetInQueryBlock,\r\n    getTheQuery\r\n}","import React from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\nimport style from '../styles'\r\n\r\nclass PopUpComponent extends React.Component {\r\n    render() {\r\n        return (\r\n            <div style={{ width: this.props.width, height: this.props.height }}>\r\n                <div style={style.popup}>\r\n                    <div style={style.popupInner}>\r\n                        <div style={style.infoTextStyle}>\r\n                            <div dangerouslySetInnerHTML={this.props.content} />\r\n                            <Button variant=\"dark\" onClick={this.props.closePopup}>Close</Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PopUpComponent","import React, { Component } from 'react'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport MultiGraph from '../dataComponents/multiGraphComponents/MultiGraph'\r\nimport Container from 'react-bootstrap/Container'\r\nimport style from '../styles'\r\n\r\nclass SchemaComponent extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.mainContainer = React.createRef()\r\n    }\r\n    render() {\r\n        if (!this.props.showSchemaCategory) {\r\n            return null\r\n        } else {\r\n            return <Row style={style.basicComponentsStyle}>\r\n                <Container style={{ margin: \"5px\" }} fluid=\"true\">\r\n                    <Col style={{ marginBottom: \"5px\", marginLeft: \"5px\", marginRigth: \"5px\" }}>\r\n                        <Row style={{ marginTop: '5px' }}>\r\n                            <h4>Schema category of {this.props.dataSet.header}</h4>\r\n                        </Row>\r\n                        <Row ref={this.mainContainer} style={{ \"margin\": \"10px\" }}>\r\n                            <MultiGraph key={this.props.dataSet.schemaKey} data={this.props.dataSet.schemaData} width={this.props.width} height={this.props.height} nodeName={\"SchemaCategoryNodes\"} linkName={\"SchemaCategoryEdges\"} nameClass={\"SchemaCategoryClass\"} editableGraph={false} showEdgeLabels = {true} />\r\n                        </Row>\r\n                    </Col>\r\n                </Container>\r\n                {/*<Row style={style.basicComponentsStyle}>\r\n            <Col>\r\n                <h4>Editable Graph Example</h4>\r\n                <Graph key={this.props.schemaKey} id=\"1\" data={this.props.schemaData} width={this.props.width} height={this.props.height} nodeName={\"schemaNodes\"} linkName={\"schemaLinks\"} nameClass={\"schemaGraph\"} editableGraph={true} />\r\n            </Col>\r\n    </Row>*/}\r\n            </Row>\r\n        }\r\n    }\r\n}\r\nexport default SchemaComponent","import React, { Component } from 'react'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Accordion from 'react-bootstrap/Accordion'\r\nimport { useAccordionToggle } from 'react-bootstrap/AccordionToggle'\r\nimport style from '../styles'\r\n\r\nfunction CustomToggle({ children, eventKey }) {\r\n    const decoratedOnClick = useAccordionToggle(eventKey)\r\n    return (\r\n        <Button style={{ width: \"138px\" }} type=\"button\" variant=\"dark\" onClick={decoratedOnClick}>\r\n            {children}\r\n        </Button>\r\n    )\r\n}\r\n\r\nclass ResultNavigationSidePanel extends Component {\r\n\r\n    render() {\r\n        let infoBlock = []\r\n        if (this.props.resultSet.model === \"graph\") {\r\n            infoBlock = this.props.resultSet.resultData.nodes.map((l, i) => {\r\n                let info = []\r\n                for (var key of Object.keys(l)) {\r\n                    if (key === \"index\") {\r\n                        break\r\n                    }\r\n                    info.push(<div key = {l[key] + i + Math.random()}><b>{key}</b>:{l[key]}</div>)\r\n                }\r\n                return info })}\r\n        return <Container>\r\n            <Navbar>\r\n                <Col>\r\n                    <Card >\r\n                        <Card.Header style={{ backgroundColor: \"#BDF2FF\" }}>\r\n                            <Row style={{ margin: \"5px\" }}>\r\n                                <h4>Result</h4>\r\n                            </Row>\r\n                        </Card.Header>\r\n                    </Card>\r\n                    <Nav.Item>\r\n                        <Card >\r\n                            <Card.Header>\r\n                                <Button style={{ width: \"138px\" }} type=\"button\" variant=\"dark\" onClick={this.props.toggleResult}>Result</Button>\r\n                                <i className=\"fa fa-info-circle\" style={{ fontSize: \"20px\", float: \"right\" }} aria-hidden=\"true\" onClick={() => this.props.togglePopup(\"result\")}></i>\r\n                            </Card.Header>\r\n                        </Card>\r\n                    </Nav.Item>\r\n                    <Nav.Item >\r\n                        <Card >\r\n                            <Card.Header>\r\n                                <Button style={{ width: \"138px\" }} type=\"button\" variant=\"dark\" onClick={this.props.toggleCategoricalView}>Categorical view of query </Button>\r\n                                <i className=\"fa fa-info-circle\" style={{ fontSize: \"20px\", float: \"right\" }} aria-hidden=\"true\" onClick={() => this.props.togglePopup(\"categoricalViewToQuery\")}></i>\r\n                            </Card.Header>\r\n                        </Card>\r\n                    </Nav.Item>\r\n                    <Nav.Item hidden={!(this.props.resultSet.model === \"graph\")} >\r\n                        <Accordion>\r\n                            <Card >\r\n                                <Card.Header>\r\n                                    <CustomToggle eventKey=\"e4\">Nodes</CustomToggle>\r\n                                    {/*<i className=\"fa fa-info-circle\" style={{ fontSize: \"20px\", float: \"right\" }} aria-hidden=\"true\" onClick={() => this.props.togglePopup(\"uploadData\")}></i>*/}\r\n                                </Card.Header>\r\n                            </Card>\r\n                            <Accordion.Collapse eventKey=\"e4\">\r\n                                <Row style={style.basicComponentsStyle}>\r\n                                    <Col>\r\n                                        <h4>Nodes:</h4>\r\n                                        <div>{infoBlock.map((l, i) => <div key = {\"list\" + i}><h6>Node: </h6>{l}</div>)}</div>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Accordion.Collapse>\r\n                        </Accordion>\r\n                    </Nav.Item>\r\n                </Col>\r\n            </Navbar>\r\n        </Container>\r\n    }\r\n}\r\n\r\nexport default ResultNavigationSidePanel","import React, { Component } from 'react'\r\nimport style from '../styles'\r\nimport Dropdown from 'react-bootstrap/Dropdown'\r\n\r\nclass ExampleQueryTypeComponent extends Component {\r\n\r\n    render() {\r\n        return <div style={style.queryButtonStyle}>\r\n            <Dropdown>\r\n                <Dropdown.Toggle variant=\"dark\" id=\"dropdown-basic\">\r\n                    {this.props.header}\r\n                </Dropdown.Toggle>\r\n                <Dropdown.Menu>\r\n                    {this.props.examples.map((example, i) => <Dropdown.Item key={`${i}`} eventKey=\"e1\" onClick={() => this.props.handleExampleQuery(example)}>Example {`${i}`}</Dropdown.Item>)}\r\n                </Dropdown.Menu>\r\n            </Dropdown>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default ExampleQueryTypeComponent","import React, { Component } from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport ExampleQueryTypeComponent from './ExampleQueryTypeComponent'\r\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar'\r\n\r\nclass ExampleQueryComponent extends Component {\r\n\r\n    render() {\r\n        return <Container style={{ margin: \"5px\" }} fluid=\"true\">\r\n            <Row style={{ marginBottom: \"5px\", marginLeft: \"5px\" }}>\r\n                <div>\r\n                    <h4>{this.props.header}</h4>\r\n                </div>\r\n                <Row style={{ \"margin\": \"10px\" }}>\r\n                    <ButtonToolbar>\r\n                        {this.props.examples.examples.map((exampleCase, i) =>\r\n                            <ExampleQueryTypeComponent key={`${i}`} header={exampleCase[\"header\"]} examples={exampleCase[\"examples\"]} handleExampleQuery={this.props.handleExampleQuery} />)}\r\n                    </ButtonToolbar>\r\n                </Row>\r\n            </Row>\r\n        </Container>\r\n    }\r\n}\r\nexport default ExampleQueryComponent","import axios from 'axios'\r\nimport Notification from '../actions/NotificationAction'\r\n\r\nconst sendFiles = async (file, fileName, fileNames, variableName, uploadingFunction, progressFunction) => {\r\n    const reader = new FileReader()\r\n    const headers = {\r\n        'Content-Type': 'text/plain',\r\n        'FileName': fileName,\r\n        'FileNames': fileNames,\r\n        'UploadingFunction': uploadingFunction,\r\n        'VariableName': variableName\r\n    }\r\n\r\n    reader.onprogress = function(evt) {\r\n        if (evt.lengthComputable) {\r\n            let percentLoaded = Math.round((evt.loaded / evt.total) * 100)\r\n            console.log(percentLoaded)\r\n            progressFunction(percentLoaded)\r\n        }\r\n    }\r\n\r\n    reader.onload = async function (evt) {\r\n        //console.log(evt.target.result)\r\n        try {\r\n            let answer = await axios.post('http://localhost:3002/fileUpload', evt.target.result, { headers: headers })\r\n            let variant = \"error\"\r\n            let message = \"Server failed to process the file.\"\r\n            if(answer.status === 200) {\r\n                variant = \"success\"\r\n                message = answer.data\r\n            }\r\n            console.log(message)\r\n            Notification.notify(message, variant)\r\n            return answer\r\n        } catch(error) {\r\n            console.log(error)\r\n            Notification.notify(\"The file failed to load!\", \"danger\")\r\n            return \"Error\"\r\n        }\r\n    }\r\n\r\n    await reader.readAsText(file)\r\n}\r\n\r\nconst sendFileWithoutUsingIt = async (file, fileName, progressFunction) => {\r\n    const reader = new FileReader()\r\n    const headers = {\r\n        'Content-Type': 'text/plain',\r\n        'FileName': fileName\r\n    }\r\n\r\n    reader.onprogress = function(evt) {\r\n        if (evt.lengthComputable) {\r\n            let percentLoaded = Math.round((evt.loaded / evt.total) * 100)\r\n            console.log(percentLoaded)\r\n            progressFunction(percentLoaded)\r\n        }\r\n    }\r\n\r\n    reader.onload = async function (evt) {\r\n        //console.log(evt.target.result)\r\n        try {\r\n            let answer = await axios.post('http://localhost:3002/uploadWithoutUse', evt.target.result, { headers: headers })\r\n            let variant = \"error\"\r\n            let message = \"Server failed to process the file.\"\r\n            if(answer.status === 200) {\r\n                variant = \"success\"\r\n                message = answer.data\r\n            }\r\n            console.log(message)\r\n            Notification.notify(message, variant)\r\n            return answer\r\n        } catch(error) {\r\n            console.log(error)\r\n            Notification.notify(\"The file failed to load!\", \"danger\")\r\n            return \"Error\"\r\n        }\r\n    }\r\n        await reader.readAsText(file)\r\n}\r\n\r\nexport default { sendFiles, sendFileWithoutUsingIt }","import React, { Component } from 'react'\r\nimport style from '../styles'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nclass UploadForm extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.file = React.createRef()\r\n    }\r\n\r\n    handleFormSubmit = (event) => {\r\n        event.preventDefault()\r\n        console.log(this.file.current.files)\r\n        this.props.setFile(this.file)\r\n        this.props.handleFileSubmit()\r\n    }\r\n\r\n    render() {\r\n        return <Form onSubmit={this.handleFormSubmit} style = {{ \"margin\": \"5px\", \"display\": \"inline-block\" }}>\r\n            <h5>{ this.props.header }</h5>\r\n            <label style={style.fileInputLabelStyle} htmlFor = {this.props.id}>{ \"Select file\" }</label>\r\n            <input name={this.props.name} id={this.props.id} style={style.fileInputStyle} as='input' type=\"file\" ref={this.file} multiple />\r\n            <Button type=\"submit\" value=\"Submit\" variant=\"dark\"><i className='fas fa-upload' style={{ 'fontSize': '20px' }}></i></Button>\r\n        </Form>\r\n    }\r\n}\r\n\r\nexport default UploadForm","import React, { Component } from 'react'\r\nimport styles from '../styles'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\n\r\nclass ProgressBar extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Col>\r\n        <Row>\r\n          <div className=\"ProgressBar\" style={styles.progressBar}>\r\n            <div\r\n              className=\"Progress\"\r\n              style={{\r\n                backgroundColor: \"#616161\",\r\n                height: \"100%\",\r\n                margin: \"0\",\r\n                borderRadius: \"5px\",\r\n                width: this.props.progress + '%'\r\n              }}\r\n            />\r\n          </div>\r\n        </Row>\r\n        <Row>\r\n          {this.props.progress + \"%\"}\r\n        </Row>\r\n      </Col>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ProgressBar","import React, { Component } from 'react'\r\nimport FileSender from '../services/sendFiles'\r\nimport Row from 'react-bootstrap/Row'\r\nimport UploadForm from './UploadForm'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\nimport ProgressBar from './ProgressBar'\r\nimport Dropdown from 'react-bootstrap/Dropdown'\r\n\r\nclass DataUploadComponent extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.file = React.createRef()\r\n        this.state = { dataSet: undefined, progress: -1, uploading: false }\r\n    }\r\n\r\n    handleDatasetChange = (datasetIndex) => {\r\n        this.setState({ dataSet: this.props.uploadInfo[datasetIndex] })\r\n    }\r\n\r\n    setFile = (file) => {\r\n        this.file = file\r\n    }\r\n\r\n    handleFileSubmit = async () => {\r\n        let files = this.file.current.files\r\n        console.log(files)\r\n        let fileNames = \"\"\r\n        let i\r\n        console.log(files.length)\r\n        for (i = 0; i < files.length; i++) {\r\n            if (i === 0) {\r\n                fileNames = files[i].name\r\n            } else {\r\n                fileNames = files[i].name + \";\" + fileNames\r\n            }\r\n        }\r\n        console.log(fileNames)\r\n        const variableName = this.state.dataSet.name\r\n        await this.processFiles(files)\r\n        await FileSender.sendFiles(files[files.length - 1], files[files.length - 1].name, fileNames, variableName, this.state.dataSet[\"loadingFunction\"], this.handleUploadProgressChange)\r\n        setTimeout(() => this.setState({ progress: -1 }), 3000)\r\n    }\r\n\r\n    processFiles = async (files) => {\r\n        let i = 0\r\n        for (const file of files) {\r\n            if (i < files.length - 1) {\r\n                i++\r\n                await FileSender.sendFileWithoutUsingIt(file, file.name, this.handleUploadProgressChange)\r\n            }\r\n        }\r\n    }\r\n\r\n    handleUploadProgressChange = (progress) => {\r\n        this.setState({ progress: progress })\r\n    }\r\n\r\n    render() {\r\n        return <Container style={{ margin: \"5px\" }} fluid=\"true\">\r\n            <Col style={{ marginLeft: \"5px\", marginRigth: \"5px\" }}>\r\n                <Row>\r\n                    <Col>\r\n                        <h4>Upload data</h4>\r\n                    </Col>\r\n                    <Col>\r\n                        <Dropdown>\r\n                            <Dropdown.Toggle variant=\"dark\" id=\"dropdown-collection\">\r\n                                Select collection\r\n                    </Dropdown.Toggle>\r\n                            <Dropdown.Menu>\r\n                                {\r\n                                    this.props.uploadInfo.map((element, i) => <Dropdown.Item eventKey=\"e0\" key={i} onClick={this.handleDatasetChange.bind(this, i)}>{element.name}</Dropdown.Item>)\r\n                                }\r\n                            </Dropdown.Menu>\r\n                        </Dropdown>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    {this.state.dataSet === undefined ? null : <Col>\r\n                        <UploadForm setFile={this.setFile} id={\"fileupload\"} name={\"fileInput\"} handleFileSubmit={this.handleFileSubmit} header={\"Select file for \" + this.state.dataSet[\"name\"]} />\r\n                        {\r\n                            this.state.progress > -1 ? <Row>\r\n                                <ProgressBar progress={this.state.progress} />\r\n                            </Row> : null\r\n                        }\r\n                    </Col>}\r\n                </Row>\r\n            </Col>\r\n        </Container>\r\n    }\r\n}\r\n\r\nexport default DataUploadComponent","import React, { Component } from 'react'\r\nimport Row from 'react-bootstrap/Row'\r\nimport style from '../styles'\r\nimport Container from 'react-bootstrap/Container'\r\nimport ExampleQueryComponent from './ExampleQueryComponent'\r\nimport DataUploadComponent from './DataUploadComponent'\r\nimport Accordion from 'react-bootstrap/Accordion'\r\nimport { useAccordionToggle } from 'react-bootstrap/AccordionToggle'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport Col from 'react-bootstrap/Col'\r\n\r\nfunction CustomToggle({ children, eventKey }) {\r\n    const decoratedOnClick = useAccordionToggle(eventKey)\r\n    return (\r\n        <Button  style = {{ width: \"138px\" }} type=\"button\" variant=\"dark\" onClick={decoratedOnClick}>\r\n            {children}\r\n        </Button>\r\n    )\r\n}\r\n\r\nclass DataSetSidePanel extends Component {\r\n\r\n    render() {\r\n        return <Container>\r\n            <Navbar>\r\n                <Col>\r\n                    <Card >\r\n                        <Card.Header style={{ backgroundColor: \"#BDF2FF\" }}>\r\n                            <Row style = {{margin: \"5px\"}}>\r\n                                <h4>Selected dataset: {this.props.dataSet.header}</h4>\r\n                            </Row>\r\n                        </Card.Header>\r\n                    </Card>\r\n                    <Accordion>\r\n                        <Card >\r\n                            <Card.Header>\r\n                                <CustomToggle eventKey=\"e0\">Upload data</CustomToggle>\r\n                                <i className=\"fa fa-info-circle\" style={{ fontSize: \"20px\", float: \"right\" }} aria-hidden=\"true\" onClick={() => this.props.togglePopup(\"uploadData\")}></i>\r\n                            </Card.Header>\r\n                        </Card>\r\n                        <Accordion.Collapse eventKey=\"e0\">\r\n                            <Row style={style.basicComponentsStyle}>\r\n                                <DataUploadComponent uploadInfo = {this.props.dataSet.metaData} />\r\n                            </Row>\r\n                        </Accordion.Collapse>\r\n                        <Card >\r\n                            <Card.Header>\r\n                                <CustomToggle eventKey=\"e1\">Examples</CustomToggle>\r\n                                <i className=\"fa fa-info-circle\" style={{ fontSize: \"20px\", float: \"right\" }} aria-hidden=\"true\" onClick={() => this.props.togglePopup(\"examples\")}></i>\r\n                            </Card.Header>\r\n                        </Card>\r\n                        <Accordion.Collapse eventKey=\"e1\">\r\n                            <Row style={style.basicComponentsStyle}>\r\n                                <ExampleQueryComponent header={this.props.dataSet.header} examples={this.props.dataSet.examples} handleExampleQuery={this.props.handleExampleQuery} />\r\n                            </Row>\r\n                        </Accordion.Collapse>\r\n                    </Accordion>\r\n                    <Nav.Item>\r\n                        <Card >\r\n                            <Card.Header>\r\n                                <Button type=\"button\" variant=\"dark\" onClick={this.props.toggleSchemaCategory}>Schema category</Button>\r\n                                <i className=\"fa fa-info-circle\" style={{ fontSize: \"20px\", float: \"right\" }} aria-hidden=\"true\" onClick={() => this.props.togglePopup(\"schemaCategory\")}></i>\r\n                            </Card.Header>\r\n                        </Card>\r\n                    </Nav.Item>\r\n                </Col>\r\n            </Navbar>\r\n        </Container>\r\n    }\r\n}\r\n\r\nexport default DataSetSidePanel","import React, { Component } from 'react'\r\nimport style from '../styles'\r\nimport Row from 'react-bootstrap/Row'\r\n\r\nclass FoldViewBox extends Component {\r\n    render() {\r\n        return <Row style={style.basicComponentsStyle}> <div className= \"col\">\r\n            <h4> Query corresponds fold</h4>\r\n            <div>\r\n                {this.props.fold}\r\n            </div>\r\n        </div>\r\n        </Row>\r\n    }\r\n}\r\n\r\nexport default FoldViewBox","import React, { Component } from 'react'\r\nimport Row from 'react-bootstrap/Row'\r\nimport style from '../styles'\r\n\r\nclass ErrorBoundary extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = { hasError: false }\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    // Update state so the next render will show the fallback UI.\r\n    return { hasError: true }\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    // You can also log the error to an error reporting service\r\n    //logErrorToMyService(error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <Row style={style.basicComponentsStyle}> <div className=\"col\">\r\n        <h4> Contents </h4>\r\n        <div>\r\n          <p><b>value:</b> error to express the data </p>\r\n        </div>\r\n      </div>\r\n      </Row>\r\n    }\r\n\r\n    return this.props.children\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary","import React, { Component } from 'react'\r\nimport './App.css'\r\nimport style from './styles'\r\nimport store from './store'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport StatBox from './components/StatBox'\r\nimport FreeTextInputQueryComponent from './components/queryComponents/FreeTextInputQueryComponent'\r\nimport NavigationBarComponent from './components/NavigationBarComponent'\r\nimport NotificationComponent from './components/NotificationComponent'\r\nimport Notification from './actions/NotificationAction'\r\nimport ResultComponent from './components/ResultComponent'\r\nimport foldQuery from './services/foldHaskellBasedQueryParser'\r\nimport PopUpComponent from './components/PopUpComponent'\r\nimport simpleExamples from './queryExamples/simpleDemoDataExamples.json'\r\nimport SchemaComponent from './components/SchemaComponent'\r\nimport initialSchemaData from './schemasForD3/simpleSchema.json'\r\nimport Col from 'react-bootstrap/Col'\r\nimport ResultNavigationSidePanel from './components/ResultNavigationSidePanel'\r\nimport DataSetSidePanel from './components/DataSetSidePanel'\r\nimport uploadInfo from './dataUploadInfo/uploadInfo.json'\r\nimport FoldViewBox from './components/FoldViewBox'\r\nimport ErrorBoundary from './errorBoundary/ErrorBoundary'\r\nconst __mainHTML = require('./infoTexts/mainHTML.js')\r\nconst __categoricalViewToQueryHTML = require('./infoTexts/categoricalViewToSchemaHTML.js')\r\nconst __examplesHTML = require('./infoTexts/examplesHTML.js')\r\nconst __resultHTML = require('./infoTexts/resultHTML.js')\r\nconst __schemaCategoryHTML = require('./infoTexts/schemaCategoryHTML.js')\r\nconst __uploadDataHTML = require('./infoTexts/uploadDataHTML.js')\r\nconst templateMain = { __html: __mainHTML }\r\nconst templateCategoricalViewToQuery = { __html: __categoricalViewToQueryHTML }\r\nconst templateExamples = { __html: __examplesHTML }\r\nconst templateResult = { __html: __resultHTML }\r\nconst templateSchemaCategory = { __html: __schemaCategoryHTML }\r\nconst templateUploadData = { __html: __uploadDataHTML }\r\n\r\nclass App extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tquery: \"\", showedStat: { data: [{ \"header\": undefined, \"key\": undefined, \"value\": undefined }] },\r\n\t\t\twidth: window.innerWidth, height: window.innerHeight, notification: \"\", showPopup: false, popContent: templateMain, fold: undefined,\r\n\t\t\tresultSet: { key: undefined, resultData: undefined, model: undefined },\r\n\t\t\tdataSet: {\r\n\t\t\t\theader: \"Customer-Orders-Locations\", examples: simpleExamples,\r\n\t\t\t\tschemaData: initialSchemaData, schemaKey: \"initialKey\", metaData: uploadInfo[\"simpleDemoData\"]\r\n\t\t\t},\r\n\t\t\tshowSchemaCategory: false, showCategoricalView: false, showResult: false, nameForCategoricalQueryView: \"simpleDemo\"\r\n\t\t}\r\n\t\tthis.updateWindowDimensions = this.updateWindowDimensions.bind(this)\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.updateWindowDimensions()\r\n\t\twindow.addEventListener('resize', this.updateWindowDimensions)\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('resize', this.updateWindowDimensions)\r\n\t}\r\n\r\n\tupdateWindowDimensions() {\r\n\t\tthis.setState({ width: window.innerWidth, height: window.innerHeight })\r\n\t}\r\n\r\n\thandleQueryChange = (event) => {\r\n\t\tthis.setState({ query: event.target.value })\r\n\t}\r\n\r\n\ttogglePopup(template) {\r\n\t\tswitch (template) {\r\n\t\t\tcase \"main\":\r\n\t\t\t\tthis.setState({ showPopup: true, popContent: templateMain })\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"categoricalViewToQuery\":\r\n\t\t\t\tthis.setState({ showPopup: true, popContent: templateCategoricalViewToQuery })\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"examples\":\r\n\t\t\t\tthis.setState({ showPopup: true, popContent: templateExamples })\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"result\":\r\n\t\t\t\tthis.setState({ showPopup: true, popContent: templateResult })\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"schemaCategory\":\r\n\t\t\t\tthis.setState({ showPopup: true, popContent: templateSchemaCategory })\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"uploadData\":\r\n\t\t\t\tthis.setState({ showPopup: true, popContent: templateUploadData })\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis.setState((prevState) => { return { showPopup: !prevState.showPopup } })\r\n\t\t}\r\n\r\n\t}\r\n\r\n\ttoggleSchemaCategory(event) {\r\n\t\tevent.preventDefault()\r\n\t\tthis.setState((prevState) => { return { showSchemaCategory: !prevState.showSchemaCategory } })\r\n\t}\r\n\r\n\ttoggleResult(event) {\r\n\t\tevent.preventDefault()\r\n\t\tthis.setState((prevState) => { return { showResult: !prevState.showResult, showCategoricalView: false }})\r\n\t}\r\n\r\n\ttoggleCategoricalView(event) {\r\n\t\tevent.preventDefault()\r\n\t\tthis.setState((prevState) => { return { showResult: false, showCategoricalView: !prevState.showCategoricalView }})\r\n\t}\r\n\r\n\thandleStoreChange = () => {\r\n\t\tif (this.state.showedStat !== store.getState().nodeData) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowedStat: store.getState().nodeData\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleDataSetChange = (obj) => {\r\n\t\tlet timeStampInMs = window.performance && window.performance.now && window.performance.timing && window.performance.timing.navigationStart ? window.performance.now() + window.performance.timing.navigationStart : Date.now()\r\n\t\tthis.setState({ dataSet: { header: obj.header, examples: obj.examples, schemaData: obj.schemaData, schemaKey: timeStampInMs, metaData: obj.metaData, nameForCategoricalQueryView: obj.nameForCategoricalQueryView } })\r\n\t}\r\n\r\n\thandleExampleQuery = (exampleQuery) => {\r\n\t\tthis.setState({ query: exampleQuery })\r\n\t}\r\n\r\n\tinitializeQueryResult = () => {\r\n\t\tthis.setState({ resultSet: { key: undefined, resultData: undefined, model: undefined } })\r\n\t}\r\n\r\n\thandleQuery = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\t//foldQuery.parseLetInQueryBlock(this.state.query)\r\n\t\tlet timeStampInMs = window.performance && window.performance.now && window.performance.timing && window.performance.timing.navigationStart ? window.performance.now() + window.performance.timing.navigationStart : Date.now()\r\n\t\tconst queryAndModel = foldQuery.getTheQuery(this.state.query)\r\n\t\tif (queryAndModel[\"model\"] === \"error\") {\r\n\t\t\tNotification.notify(queryAndModel[\"message\"], \"warning\")\r\n\t\t} else {\r\n\t\t\tthis.setState({ fold: queryAndModel[\"query\"] })\r\n\t\t\tconst answer = await foldQuery.executeQuery(queryAndModel.model, queryAndModel.query)\r\n\t\t\tswitch (answer[\"model\"]) {\r\n\t\t\t\tcase \"error\":\r\n\t\t\t\t\tNotification.notify(answer[\"message\"], \"warning\")\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase \"relational\":\r\n\t\t\t\t\tif (answer[\"answer\"] === undefined) {\r\n\t\t\t\t\t\tNotification.notify(\"Error in expressing the relational result. The result is empty.\", \"warning\")\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setState({ resultSet: { key: timeStampInMs, resultData: answer[\"answer\"], model: \"relational\" }, showResult: true })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase \"graph\":\r\n\t\t\t\t\tif (answer[\"answer\"] === undefined) {\r\n\t\t\t\t\t\tNotification.notify(\"Error in expressing the graph result. The result is empty.\", \"warning\")\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setState({ resultSet: { key: timeStampInMs, resultData: answer[\"answer\"], model: \"graph\" }, showResult: true })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase \"xml\":\r\n\t\t\t\t\tif (answer[\"answer\"] === undefined) {\r\n\t\t\t\t\t\tNotification.notify(\"Error in expressing the XML result. The result is empty.\", \"warning\")\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setState({ resultSet: { key: timeStampInMs, resultData: answer[\"answer\"], model: \"xml\" }, showResult: true })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase \"json\":\r\n\t\t\t\t\tif (answer[\"answer\"] === undefined) {\r\n\t\t\t\t\t\tNotification.notify(\"Error in expressing the json result. The result is empty.\", \"warning\")\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setState({ resultSet: { key: timeStampInMs, resultData: answer[\"answer\"], model: \"json\" }, showResult: true })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase \"rdf\":\r\n\t\t\t\t\tif (answer[\"answer\"] === undefined) {\r\n\t\t\t\t\t\tNotification.notify(\"Error in expressing the rdf result. The result is empty.\", \"warning\")\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setState({ resultSet: { key: timeStampInMs, resultData: answer[\"answer\"], model: \"rdf\" }, showResult: true })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tNotification.notify(\"Unknown error! An answer to the query did not follow any model.\", \"warning\")\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tstore.subscribe(this.handleStoreChange)\r\n\r\n\t\treturn (\r\n\t\t\t<Container style={{ backgroundColor: \"#f1f1f2\", minHeight: this.state.height }} fluid='true'>\r\n\t\t\t\t<NavigationBarComponent />\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col xl={3} style={style.navPanelStyle} >\r\n\t\t\t\t\t\t<DataSetSidePanel dataSet={this.state.dataSet} handleExampleQuery={this.handleExampleQuery} toggleSchemaCategory={this.toggleSchemaCategory.bind(this)} togglePopup={this.togglePopup.bind(this)} />\r\n\t\t\t\t\t\t<ResultNavigationSidePanel toggleResult={this.toggleResult.bind(this)} toggleCategoricalView={this.toggleCategoricalView.bind(this)} togglePopup={this.togglePopup.bind(this)} resultSet={this.state.resultSet}/>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col xl={9}>\r\n\t\t\t\t\t\t<Container fluid='true'>\r\n\t\t\t\t\t\t\t<FreeTextInputQueryComponent togglePopup={this.togglePopup.bind(this)} handleQueryChange={this.handleQueryChange} handleQuery={this.handleQuery} query={this.state.query} handleDataSetChange={this.handleDataSetChange} />\r\n\t\t\t\t\t\t\t<NotificationComponent />\r\n\t\t\t\t\t\t\t<SchemaComponent dataSet={this.state.dataSet} width={this.state.width} height={this.state.height} showSchemaCategory={this.state.showSchemaCategory} />\r\n\t\t\t\t\t\t\t<ResultComponent dataSet={this.state.dataSet} resultSet={this.state.resultSet} width={this.state.width} height={this.state.height} query={this.state.query}\r\n\t\t\t\t\t\t\t\tinitializeResult={this.initializeQueryResult.bind(this)} showCategoricalView={this.state.showCategoricalView} showResult={this.state.showResult} />\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<ErrorBoundary>\r\n\t\t\t\t\t\t\t\t\t\t<StatBox data={this.state.showedStat} />\r\n\t\t\t\t\t\t\t\t\t</ErrorBoundary>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<FoldViewBox fold={this.state.fold} />\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t{this.state.showPopup ? <PopUpComponent closePopup={this.togglePopup.bind(this)} width={this.state.width} height={this.state.height} content={this.state.popContent} /> : null}\r\n\t\t\t</Container>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport store from './store'\r\nimport { Provider } from 'react-redux'\r\n\r\nconst renderApp = () => {\r\n\tReactDOM.render(\r\n\t\t<Provider store = {store}>\r\n\t\t\t<App store = {store}/>\r\n\t\t</Provider>,\r\n\t\tdocument.getElementById('root'))\r\n}\r\n\r\nrenderApp()\r\nstore.subscribe(renderApp)"],"sourceRoot":""}