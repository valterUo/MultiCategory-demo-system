{"version":3,"sources":["GitHub-Mark-64px.png","styles.js","reducers/clickedNodeDataReducer.js","reducers/queriedDataReducer.js","reducers/schemaDataReducer.js","reducers/addNodeReducer.js","reducers/notificationReducer.js","reducers/newEdgeReducer.js","store.js","components/StatBox.js","components/SelectDataSetComponent.js","components/queryComponents/FreeTextInputQueryComponent.js","components/NavigationBarComponent.js","components/NotificationComponent.js","actions/NotificationAction.js","dataComponents/relationalComponents/relationalComponent.js","dataComponents/relationalComponents/relationalTabs.js","dataComponents/graphComponents/Node.js","dataComponents/graphComponents/Edge.js","dataComponents/graphComponents/Graph.js","dataComponents/newTreeComponents/newTree.js","dataComponents/multiGraphComponents/MultiEdge.js","dataComponents/multiGraphComponents/MultiGraph.js","components/queryComponents/CategoricalViewOfQuery.js","components/ResultComponent.js","services/haskellCompilerService.js","services/foldHaskellBasedQueryParser.js","components/PopUpComponent.js","components/SchemaComponent.js","components/ResultNavigationSidePanel.js","components/ExampleQueryTypeComponent.js","components/ExampleQueryComponent.js","services/sendFiles.js","components/UploadForm.js","components/ProgressBar.js","components/DataUploadComponent.js","components/DataSetSidePanel.js","components/FoldViewBox.js","errorBoundary/ErrorBoundary.js","App.js","index.js"],"names":["module","exports","styles","backgroundColorStyle","backgroundColor","headerBackGroundColorStyle","borderRadius","marginBottom","marginRight","marginLeft","fileInputStyle","border","clip","height","overflow","padding","position","whiteSpace","width","fileInputLabelStyle","color","marginTop","display","paddingLeft","paddingRight","lineHeight","componentMarginalStyle","clear","basicComponentsStyle","borderStyle","borderColor","borderWidth","align","paddingTop","paddingBottom","queryBox","queryButtonStyle","queryTextStyle","fontFamily","popup","top","left","right","bottom","margin","popupInner","background","infoTextStyle","navPanelStyle","borderTop","borderBottom","progressBar","progress","initialState","data","key","undefined","value","clickedNodeDataReducer","state","arguments","length","action","type","header","sql","document","graph","queriedDataReducer","model","schema","schemaDataReducer","textFieldVisible","nodeModel","sourceNode","addNodeReducer","message","variant","notificationReducer","acceptEdgeDrawing","startingEdge","targetEdge","newEdgeReducer","Object","assign","reducer","combineReducers","nodeData","queriedDemoData","schemaData","nodeModelData","notification","edgeDrawing","newEdgeReducerReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","StatBox","dataBlock","react_default","a","createElement","this","props","map","l","Row","style","className","Component","SelectDataSetComponent","Container","fluid","Col","xl","Dropdown","transform","zIndex","Toggle","id","Menu","Item","href","onClick","handleDataSetChange","bind","examples","simpleExamples","simpleSchemaData","metaData","uploadInfo","nameForCategoricalQueryView","unibenchExamples","unibenchSchema","patentDataExamples","patentSchema","filmExamples","filmSchema","universityExamples","universitySchema","personExamples","personSchema","FreeTextInputQueryComponent","Form","onSubmit","handleQuery","inline","Control","as","rows","placeholder","query","onChange","handleQueryChange","Button","fontSize","components_SelectDataSetComponent","aria-hidden","togglePopup","NavigationBarComponent","Navbar","expand","Brand","aria-controls","Collapse","src","githubimage","alt","NotificationComponent","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleStoreChange","getState","setState","subscribe","Alert","NotificationAction","notify","dispatch","setTimeout","RelationalComponent","createRelationalComponent","assertThisInitialized","table","attributes","dataData","filter","row","select","selectAll","enter","append","attr","text","d","column","i","_this2","scaledwidth","scaledheigth","ref","RelationalTabs","tables","Tabs","defaultActiveKey","eventKey","Tab","title","relationalComponent","scaleOrdinal","schemeCategory10","updateNode","selection","x","y","enterNode","pi","firstAttribute","keys","arc","innerRadius","outerRadius","startAngle","endAngle","Node","nodeRef","React","createRef","d3Node","current","datum","e","jsonData","filteredData","val","push","JSON","stringify","editableGraph","transition","duration","name","console","log","showNodeHandlingButtons","_this3","oldData","newNodes","nodes","node","newLinks","links","link","source","target","_this4","newNode","_this5","nodeName","onMouseEnter","handle","onMouseLeave","handleColorChangeBack","visibility","opacity","handleAddEdge","changeNodeHandlingButtonColorEnter","changeNodeHandlingButtonColorExit","handleRemoveNode","handleRemoveEdges","handleAddNodeStartingFromThisNode","enterLink","updateLink","Edge","edgeRef","d3Link","linkName","ptdata","Graph","graphRef","updateEdge","x1","y1","x2","y2","drx","dry","xRotation","largeArc","updateGraph","d3Graph","force","forceSimulation","forceManyBody","strength","forceLink","distance","forceCenter","forceCollide","iterations","forceX","forceY","drag","on","event","active","alphaTarget","restart","fx","fy","pt","mouse","point","remove","line","drawPath","pop","tickLine","coords","graphComponents_Node","graphComponents_Edge","nameClass","refX","refY","markerWidth","markerHeight","orient","markerUnits","fill","svgCircle","shape","shapeProps","stroke","strokeWidth","r","NewTree","react_d3_tree_min_default","treeResult","orientation","nodeSvgShape","translate","MultiEdge","wrapText","lineNumber","dy","parseFloat","tspan","words","split","word","trim","printableLine","slice","reverse","join","getComputedTextLength","handleMouseEntering","showEdgeLabels","handleMouseExiting","pathId","edgekey","textAnchor","updateMultiEdge","dx","dr","count","Math","sqrt","sweep","updateMultiGraph","multiGraphComponents_MultiEdge","CategoricalViewOfQuery","parseLetBeInBlock","newQuery","blocks","includes","parseQueryBlock","newBlocks","element","compositionTreeToGraphWithoutDuplicateNodes","totalGraph","compositionGraphsWithDuplicateNodes","splitted","parseLambda","lambda","domain","lambdaf","f","outerFunction","innerFunction","startsWith","parseIf","parseBooleanFunction","g","error","parsedLambda","operator","foundMorphism","morphismsTarget","morphisms","morphism","graph1","graph2","newIndex","newLink","concat","composition","sourceIndex","targetIndex","domainElement","functionName","targetElement","graphData","simpleDemo","timeStampInMs","window","performance","now","timing","navigationStart","Date","graphKey","prevProps","dataSet","MultiGraph","ResultComponent","renderedElement","resultSet","resultData","relationalTabs","graphComponents_Graph","newTree","showResult","showCategoricalView","marginRigth","mainContainer","queryComponents_CategoricalViewOfQuery","size","initializeResult","compileRelationalQuery","_ref","asyncToGenerator","regenerator_default","mark","_callee","command","answer","jsonDataList","wrap","_context","prev","next","axios","post","headers","Content-Type","sent","parseJSONList","abrupt","JSONtoRelationalTables","stop","_x","apply","compileTreeQuery","_ref2","_callee2","_context2","parseJSONtoTree","_x2","compileGraphQuery","_ref3","_callee3","_context3","parseJSONStringtoD3js","_x3","compileRDFGraphQuery","_ref4","_callee4","_context4","_x4","compileNimbleGraphQuery","_ref5","_callee5","_context5","_x5","listString","m","indexOf","n","substring","replace","parse","err","subdata","_unused","elements","values","acceptedElements","element2","result","returndata","jsonString","lastIndexOf","obj","children","child","parseChild","childElement","forEach","Array","isArray","hasJsonStructure","str","prototype","toString","haskellCompilerService","parseLetInQueryBlock","inputString","parseMainQueryBlock","mainQuery","subQueries","shift","parsedSubQueries","parsed","haskellQuery","queryElements","lambdafunction","dataset","sourceModel","sourceModels","foldHaskellBasedQueryParser","executeQuery","inputQuery","parsedQueryList","t0","t1","haskellCompiler","t2","t3","fold","t4","t5","t6","t7","t8","t9","t10","t11","t12","t13","t14","t15","PopUpComponent","closePopup","SchemaComponent","showSchemaCategory","schemaKey","ResultNavigationSidePanel","Card","Header","Nav","toggleResult","toggleCategoricalView","ExampleQueryTypeComponent","example","handleExampleQuery","ExampleQueryComponent","ButtonToolbar","exampleCase","components_ExampleQueryTypeComponent","services_sendFiles","sendFiles","file","fileName","fileNames","variableName","uploadingFunction","progressFunction","reader","FileReader","FileName","FileNames","UploadingFunction","VariableName","onprogress","evt","lengthComputable","percentLoaded","round","loaded","total","onload","status","Notification","_x7","readAsText","_x6","sendFileWithoutUsingIt","_x11","_x8","_x9","_x10","UploadForm","handleFormSubmit","preventDefault","files","setFile","handleFileSubmit","htmlFor","multiple","ProgressBar","DataUploadComponent","handleDatasetChange","datasetIndex","processFiles","FileSender","handleUploadProgressChange","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","uploading","components_UploadForm","components_ProgressBar","CustomToggle","decoratedOnClick","useAccordionToggle","DataSetSidePanel","Accordion","components_DataUploadComponent","components_ExampleQueryComponent","toggleSchemaCategory","FoldViewBox","ErrorBoundary","hasError","errorInfo","App","showedStat","exampleQuery","initializeQueryResult","foldQuery","innerWidth","innerHeight","showPopup","initialSchemaData","updateWindowDimensions","addEventListener","removeEventListener","prevState","minHeight","components_NavigationBarComponent","components_DataSetSidePanel","components_ResultNavigationSidePanel","queryComponents_FreeTextInputQueryComponent","components_NotificationComponent","components_SchemaComponent","components_ResultComponent","errorBoundary_ErrorBoundary","components_StatBox","components_FoldViewBox","components_PopUpComponent","renderApp","ReactDOM","render","react_redux_es","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.889592b9.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyRTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyRjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJDOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJEOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FYrpWAAABrNJREFUeNrkW2ls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\"","const backgroundColorStyle = {\r\n\tbackgroundColor: \"#f1f1f2\"\r\n}\r\n\r\nconst headerBackGroundColorStyle = {\r\n\tbackgroundColor: \"#A1D6E2\",\r\n\tborderRadius: \"5px\",\r\n\tmarginBottom: \"12px\",\r\n\tmarginRight: \"0px\",\r\n\tmarginLeft: \"0px\"\r\n}\r\n\r\nconst fileInputStyle = {\r\n\tborder: 0,\r\n\tclip: \"rect(0, 0, 0, 0)\",\r\n\theight: \"1px\",\r\n\toverflow: \"hidden\",\r\n\tpadding: 0,\r\n\tposition: \"absolute\",\r\n\twhiteSpace: \"nowrap\",\r\n\twidth: \"1px\"\r\n}\r\n\r\nconst fileInputLabelStyle = {\r\n\tbackgroundColor: \"#343a40\",\r\n\tcolor: \"#fff\",\r\n\tmarginRight: \"4px\",\r\n\tmarginTop: \"5px\",\r\n\theight: \"36px\",\r\n\tborderRadius: \"5px\",\r\n\tdisplay: \"inline-block\",\r\n\tpaddingLeft: \"1rem\",\r\n\tpaddingRight: \"1rem\",\r\n\tlineHeight: \"33px\"\r\n}\r\n\r\nconst componentMarginalStyle = {\r\n\theight: \"0px\",\r\n\twidth: \"100%\",\r\n\tclear: \"both\"\r\n}\r\n\r\nconst basicComponentsStyle = {\r\n\tbackgroundColor: \"#ffffff\",\r\n\tborderStyle: \"solid\",\r\n\tborderRadius: \"5px\",\r\n\tborderColor: \"#d9d9d9\",\r\n\tborderWidth: \"1px\",\r\n\tmarginTop: \"12px\",\r\n\tmarginBottom: \"12px\",\r\n\tmarginRight: \"0px\",\r\n\tmarginLeft: \"0px\",\r\n\talign: \"middle\",\r\n\tpaddingTop: \"5px\",\r\n\tpaddingBottom: \"5px\"\r\n}\r\n\r\nconst queryBox = {\r\n\tbackgroundColor: \"#ffffff\",\r\n\tborderStyle: \"solid\",\r\n\tborderRadius: \"5px\",\r\n\tborderColor: \"#d9d9d9\",\r\n\tborderWidth: \"1px\",\r\n\twidth: \"100%\"\r\n}\r\n\r\nconst queryButtonStyle = {\r\n\tmarginLeft: \"5px\",\r\n\tmarginBottom: \"5px\"\r\n}\r\n\r\nconst queryTextStyle = {\r\n\tmarginLeft: \"10px\",\r\n\tmarginTop: \"5px\",\r\n\tfontFamily: \"Lucida Console, Monaco, monospace\"\r\n}\r\n\r\nconst popup = {\r\n\tposition: \"fixed\",\r\n\twidth: \"100%\",\r\n\theight: \"100%\",\r\n\ttop: \"0\",\r\n\tleft: \"0\",\r\n\tright: \"0\",\r\n\tbottom: \"0\",\r\n\tmargin: \"auto\",\r\n\tbackgroundColor: \"rgba(0,0,0, 0.5)\"\r\n}\r\n\r\nconst popupInner = {\r\n\tposition: \"absolute\",\r\n\tleft: \"25%\",\r\n\tright: \"25%\",\r\n\ttop: \"25%\",\r\n\tbottom: \"25%\",\r\n\tmargin: \"auto\",\r\n\tborderRadius: \"20px\",\r\n\tbackground: \"white\"\r\n}\r\n\r\nconst infoTextStyle = {\r\n\tpaddingRight: \"15px\",\r\n\tpaddingBottom: \"15px\",\r\n\tpaddingLeft: \"15px\",\r\n\tpaddingTop: \"15px\",\r\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\"\r\n}\r\n\r\nconst navPanelStyle = {\r\n\tborderStyle: \"solid\",\r\n\tborderRadius: \"5px\",\r\n\tborderColor: \"#d9d9d9\",\r\n\tborderWidth: \"1px\",\r\n\tborderTop: \"0px\",\r\n\tborderBottom: \"0px\",\r\n\talign: \"middle\",\r\n\tpaddingTop: \"5px\",\r\n\tpaddingBottom: \"5px\"\r\n}\r\n\r\nconst progressBar = {\r\n\twidth: \"100%\",\r\n\theight: \"16px\",\r\n\tbackgroundColor: \"#f1f1f1\",\r\n\tborderRadius: \"5px\"\r\n  }\r\n  \r\nconst progress = {\r\n\tbackgroundColor: \"#616161\",\r\n\theight: \"100%\",\r\n\tmargin: \"0\",\r\n\tborderRadius: \"5px\"\r\n  }\r\n\r\nexport default {\r\n\tbackgroundColorStyle,\r\n\theaderBackGroundColorStyle,\r\n\tfileInputStyle,\r\n\tfileInputLabelStyle,\r\n\tcomponentMarginalStyle,\r\n\tbasicComponentsStyle,\r\n\tqueryBox,\r\n\tqueryButtonStyle,\r\n\tqueryTextStyle,\r\n\tpopup,\r\n\tpopupInner,\r\n\tinfoTextStyle,\r\n\tnavPanelStyle,\r\n\tprogressBar,\r\n\tprogress\r\n}","const initialState = {data: [{ \"key\": undefined, \"value\": undefined }]}\r\n\r\nconst clickedNodeDataReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'SHOW_NODE_EDGE_DATA':\r\n\t\t\treturn { data: action.data, header: action.header }\r\n\t\tcase 'DELETE_NODE_EDGE_DATA':\r\n\t\t\treturn initialState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default clickedNodeDataReducer","const initialState = [{ \"sql\": undefined, \"document\": undefined, \"graph\": undefined }]\r\n\r\nconst queriedDataReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'ADD_DATA':\r\n\t\t\treturn { data: action.data, model: action.model, key: action.key }\r\n\t\tcase 'DELETE_DATA':\r\n\t\t\treturn initialState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default queriedDataReducer","const initialState = {schema: {}, key: \"\"}\r\n\r\nconst schemaDataReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'ADD_SCHEMA_DATA':\r\n\t\t\treturn { schema: action.data, key: action.key }\r\n\t\tcase 'DELETE_SCHEMA_DATA':\r\n\t\t\treturn initialState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default schemaDataReducer","const initialState = {textFieldVisible: false, nodeModel: {}, sourceNode: {}}\r\n\r\nconst addNodeReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'ADD_NODE_MODEL':\r\n\t\t\treturn { textFieldVisible: action.textFieldVisible, nodeModel: action.nodeModel, sourceNode: action.sourceNode }\r\n\t\tcase 'DELETE_NODE_MODEL':\r\n\t\t\treturn initialState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default addNodeReducer","const initialState = {message: \"\", variant: \"\"}\r\n\r\nconst notificationReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'ADD_NOTIFICATION':\r\n\t\t\treturn { message: action.message, variant: action.variant }\r\n\t\tcase 'DELETE_NOTIFICATION':\r\n\t\t\treturn initialState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default notificationReducer","const initialState = { acceptEdgeDrawing: false, startingEdge: {}, targetEdge: {}}\r\n\r\nconst newEdgeReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n        case 'ACCEPT_EDGE_DRAWING':\r\n        return Object.assign({}, state, {\r\n            acceptEdgeDrawing: action.acceptEdgeDrawing\r\n          })\r\n        case 'ADD_STARTING_EDGE':\r\n        return Object.assign({}, state, {\r\n            startingEdge: action.startingEdge\r\n          })\r\n        case 'ADD_TARGET_EDGE':\r\n        return Object.assign({}, state, {\r\n            targetEdge: action.targetEdge\r\n          })\r\n        case 'DELETE_ALL_EDGE_DRAWING_DATA':\r\n            return initialState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default newEdgeReducer","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport clickedNodeDataReducer from './reducers/clickedNodeDataReducer'\r\nimport queriedDataReducer from './reducers/queriedDataReducer'\r\nimport schemaDataReducer from './reducers/schemaDataReducer'\r\nimport addNodeReducer from './reducers/addNodeReducer'\r\nimport notificationReducer from './reducers/notificationReducer'\r\nimport newEdgeReducerReducer from './reducers/newEdgeReducer'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nconst reducer = combineReducers({\r\n\tnodeData: clickedNodeDataReducer,\r\n\tqueriedDemoData: queriedDataReducer,\r\n\tschemaData: schemaDataReducer,\r\n\tnodeModelData: addNodeReducer,\r\n\tnotification: notificationReducer,\r\n\tedgeDrawing: newEdgeReducerReducer\r\n})\r\n\r\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)))\r\n\r\nexport default store","import React, { Component } from 'react'\r\nimport style from '../styles'\r\nimport Row from 'react-bootstrap/Row'\r\n\r\nclass StatBox extends Component {\r\n\r\n    render() {\r\n        let dataBlock = <div />\r\n        const data = this.props.data.data\r\n        if (data[0][\"key\"] !== undefined && data[0][\"key\"] !== \"\") {\r\n                dataBlock = data.map(l => <p key={l[\"key\"]}><b>{l[\"key\"]} : </b> {l[\"value\"]}</p>)\r\n        }\r\n        let header = \"Contents\"\r\n        if(this.props.data.header !== undefined) {\r\n            header = this.props.data.header\r\n        }\r\n        \r\n        return <Row style={style.basicComponentsStyle}> <div className= \"col\">\r\n            <h4> { header } </h4>\r\n            <div>\r\n                {dataBlock}\r\n            </div>\r\n        </div>\r\n        </Row>\r\n    }\r\n}\r\n\r\nexport default StatBox","import React, { Component } from 'react'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Dropdown from 'react-bootstrap/Dropdown'\r\n\r\n// Schemas for drawing D3 graphs:\r\nimport simpleSchemaData from '../schemasForD3/simpleSchema.json'\r\nimport patentSchema from '../schemasForD3/patentSchema.json'\r\nimport filmSchema from '../schemasForD3/filmSchema.json'\r\nimport universitySchema from '../schemasForD3/universitySchema.json'\r\nimport personSchema from '../schemasForD3/personSchema.json'\r\nimport unibenchSchema from '../schemasForD3/unibenchSchema.json'\r\n\r\n//Query examples:\r\nimport simpleExamples from '../queryExamples/simpleDemoDataExamples.json'\r\nimport patentDataExamples from '../queryExamples/patentDataExamples.json'\r\nimport filmExamples from '../queryExamples/filmDataExamples.json'\r\nimport universityExamples from '../queryExamples/universityDataExamples.json'\r\nimport personExamples from '../queryExamples/personDataExamples.json'\r\nimport unibenchExamples from \"../queryExamples/unibenchExamples.json\"\r\n\r\nimport uploadInfo from '../dataUploadInfo/uploadInfo.json'\r\n\r\nclass SelectDataSetComponent extends Component {\r\n\r\n    render() {\r\n        return <Container style={{ margin: \"5px\" }} fluid=\"true\">\r\n            <Row>\r\n                <Col xl={6}>\r\n                    <h4>Select dataset</h4>\r\n                </Col>\r\n                <Col xl={6}>\r\n                    <Dropdown style={{ left: \"50%\", top: \"50%\", transform: \"translate(-50%, -50%)\", zIndex: 10000 }}>\r\n                        <Dropdown.Toggle variant=\"dark\" id=\"dropdown-basic\">\r\n                            Datasets\r\n                    </Dropdown.Toggle>\r\n                        <Dropdown.Menu>\r\n                            <Dropdown.Item href=\"#/simple\"\r\n                                onClick={this.props.handleDataSetChange.bind(this, { header: \"Customer-Orders-Locations dataset\", examples: simpleExamples, schemaData: simpleSchemaData, metaData: uploadInfo[\"simpleDemoData\"], nameForCategoricalQueryView: \"simpleDemo\" })}>\r\n                                Customer-Orders-Locations Dataset\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item href=\"#/unibench\"\r\n                                onClick={this.props.handleDataSetChange.bind(this, { header: \"Unibench dataset\", examples: unibenchExamples, schemaData: unibenchSchema, metaData: uploadInfo[\"unibench\"], nameForCategoricalQueryView: \"unibench\" })}>\r\n                                Unibench Dataset\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item href=\"#/patent\"\r\n                                onClick={this.props.handleDataSetChange.bind(this, { header: \"Helsinki Multi-Model Repository: Patent dataset\", examples: patentDataExamples, schemaData: patentSchema, metaData: uploadInfo[\"patent\"], nameForCategoricalQueryView: \"patent\" })}>\r\n                                Patent Dataset\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item href=\"#/film\"\r\n                                onClick={this.props.handleDataSetChange.bind(this, { header: \"Helsinki Multi-Model Repository: Film dataset\", examples: filmExamples, schemaData: filmSchema, metaData: uploadInfo[\"film\"], nameForCategoricalQueryView: \"film\" })}>\r\n                                Film Dataset\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item href=\"#/university\"\r\n                                onClick={this.props.handleDataSetChange.bind(this, { header: \"Helsinki Multi-Model Repository: Universities dataset\", examples: universityExamples, schemaData: universitySchema, metaData: uploadInfo[\"university\"], nameForCategoricalQueryView: \"university\" })}>\r\n                                University Dataset\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item href=\"#/person\"\r\n                                onClick={this.props.handleDataSetChange.bind(this, { header: \"Helsinki Multi-Model Repository: Persons dataset\", examples: personExamples, schemaData: personSchema, metaData: uploadInfo[\"person\"], nameForCategoricalQueryView: \"person\" })}>\r\n                                Person Dataset\r\n                            </Dropdown.Item>\r\n                        </Dropdown.Menu>\r\n                    </Dropdown>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    }\r\n}\r\n\r\nexport default SelectDataSetComponent","import React, { Component } from 'react'\r\nimport style from '../../styles'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport SelectDataSetComponent from '../SelectDataSetComponent'\r\n\r\nclass FreeTextInputQueryComponent extends Component {\r\n\r\n    render() {\r\n        return <Row style={style.basicComponentsStyle}>\r\n            <Col xl={1}>\r\n                <h4 align=\"right\">Input</h4>\r\n            </Col>\r\n            <Col xl={8} style={{ align: \"left\" }}>\r\n                <Form onSubmit={this.props.handleQuery} inline>\r\n                    <Form.Control as=\"textarea\" rows=\"2\" placeholder=\"Enter query or choose defined query\" value={this.props.query} onChange={this.props.handleQueryChange} style={{ width: \"90%\", marginRight: \"5px\" }} />\r\n                    <Button type=\"submit\" variant=\"dark\"> <i className='fas fa-play' style={{ fontSize: '24px', marginTop: \"4px\" }}></i> </Button>\r\n                </Form>\r\n            </Col>\r\n            <Col xl={2}>\r\n                <SelectDataSetComponent handleDataSetChange={this.props.handleDataSetChange} />\r\n            </Col>\r\n            <Col xl={1}>\r\n                <i className=\"fa fa-info-circle\" style={{ fontSize: \"28px\", margin: \"20px\" }} aria-hidden=\"true\" onClick={this.props.togglePopup}></i>\r\n            </Col>\r\n        </Row>\r\n    }\r\n}\r\n\r\nexport default FreeTextInputQueryComponent","import React, { Component } from 'react'\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport style from '../styles'\r\nimport githubimage from '../GitHub-Mark-64px.png'\r\n\r\nclass NavigationBarComponent extends Component {\r\n\r\n    render() {\r\n        return <Navbar style={style.headerBackGroundColorStyle} variant=\"light\" expand=\"lg\">\r\n            <Navbar.Brand href=\"#home\"><h3>MultiCategory: Category Theory in Multi-model Databases</h3></Navbar.Brand>\r\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n            <Navbar.Collapse className=\"justify-content-end\">\r\n                <a href=\"https://www.helsinki.fi/en/researchgroups/unified-database-management-systems-udbms\"> UDBMS </a>\r\n                <div>&nbsp; &nbsp;</div>\r\n                <a href=\"https://github.com/valterUo/demo-system-backend-Haskell\">\r\n                    <img width=\"30\" height=\"30\" src={githubimage} alt=\"githublogo\" />\r\n                </a>\r\n            </Navbar.Collapse>\r\n        </Navbar>\r\n    }\r\n}\r\nexport default NavigationBarComponent","import React, { Component } from 'react'\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport store from '../store'\r\n\r\nclass NotificationComponent extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            message: \"\",\r\n            variant: \"\"\r\n        }\r\n    }\r\n\r\n    handleStoreChange = () => {\r\n        if (this.state.message !== store.getState().notification.message) {\r\n            this.setState({\r\n                message: store.getState().notification.message,\r\n                variant: store.getState().notification.variant\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        store.subscribe(this.handleStoreChange)\r\n\r\n        if (this.state.message !== \"\") {\r\n            return <Alert key= {this.state.message} variant={this.state.variant}>\r\n            {this.state.message}\r\n            </Alert>\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n}\r\nexport default NotificationComponent","import store from '../store'\r\n\r\nconst notify = (message, variant) => {\r\n    store.dispatch({\r\n        type: 'ADD_NOTIFICATION',\r\n        message: message,\r\n        variant: variant\r\n    })\r\n    setTimeout(() => {\r\n        store.dispatch({\r\n            type: 'DELETE_NOTIFICATION'\r\n        })  \r\n    }, 5000)\r\n}\r\n\r\nexport default { notify }","import React, { Component } from 'react'\r\nimport { select } from 'd3-selection'\r\n\r\nclass RelationalComponent extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.createRelationalComponent = this.createRelationalComponent.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.createRelationalComponent()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.createRelationalComponent()\r\n    }\r\n\r\n    createRelationalComponent() {\r\n        const table = this.table\r\n        const data = this.props.data\r\n        const attributes = data[0]\r\n        const dataData = data.filter(row => row !== attributes)\r\n\r\n        select(table)\r\n            .selectAll('table')\r\n            .data([1])\r\n            .enter()\r\n            .append('table')\r\n            .attr(\"class\", \"table\")\r\n            .append('thead')\r\n            .append('tr')\r\n            .selectAll('th')\r\n            .data(attributes)\r\n            .enter()\r\n            .append('th')\r\n            .text(d => d)\r\n\r\n        select(table)\r\n            .selectAll('table')\r\n            .selectAll('tbody')\r\n            .data([1])\r\n            .enter()\r\n            .append('tbody')\r\n            .attr('display', 'block')\r\n            .selectAll('tr')\r\n            .data(dataData)\r\n            .enter()\r\n            .append('tr')\r\n            .selectAll('td')\r\n            .data(row => {\r\n                return attributes.map((column, i) => {\r\n                    return { column: column, value: row[i] }\r\n                })\r\n            })\r\n            .enter()\r\n            .append('td')\r\n            .text(d => d.value)\r\n\r\n    }\r\n\r\n    render() {\r\n        const scaledwidth = 0.67 * this.props.width\r\n        const scaledheigth = 0.6 * this.props.height\r\n        return <div style={{ overflow: \"scroll\", width: scaledwidth, height: scaledheigth }}>\r\n            <div ref={table => this.table = table}>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default RelationalComponent","import React, { Component } from 'react'\r\nimport Tabs from 'react-bootstrap/Tabs'\r\nimport Tab from 'react-bootstrap/Tab'\r\nimport RelationalComponent from './relationalComponent'\r\n\r\nclass RelationalTabs extends Component {\r\n    render() {\r\n        if (this.props.tables === undefined) {\r\n            return null\r\n        } else {\r\n            return <Tabs defaultActiveKey={this.props.tables[0].eventKey} id=\"uncontrolled-tab-relational-result\">\r\n                {this.props.tables.map(table => <Tab key={table.eventKey} eventKey={table.eventKey} title={table.title}>\r\n                    <RelationalComponent width={this.props.width} height={this.props.height} key={table.eventKey} data={table.data} />\r\n                </Tab>)}\r\n            </Tabs>\r\n        }\r\n    }\r\n}\r\n\r\nexport default RelationalTabs","import React, { Component } from 'react'\r\nimport { select } from 'd3-selection'\r\nimport { scaleOrdinal } from 'd3-scale'\r\nimport { transition } from 'd3-transition' // eslint-disable-line\r\nimport { schemeCategory10 } from 'd3-scale-chromatic'\r\nimport { arc } from 'd3-shape'\r\nimport store from '../../store'\r\n\r\nconst color = scaleOrdinal(schemeCategory10)\r\n\r\nconst updateNode = (selection) => {\r\n    selection.attr('transform', (d) => 'translate(' + d.x + ',' + d.y + ')')\r\n}\r\n\r\nconst enterNode = (selection) => {\r\n    const pi = 3.1415\r\n    const outerRadius = 45\r\n\r\n    selection.select('circle')\r\n        .attr('r', 10)\r\n        .style('fill', function (d) {\r\n            let firstAttribute = Object.keys(d)[0]\r\n            return color(d[firstAttribute]) \r\n        })\r\n        .style('stroke', 'black')\r\n        .style('stroke-width', '1')\r\n\r\n    selection.select('text')\r\n        .attr('dy', '.4em')\r\n        .attr('dx', '.8em')\r\n        .style('transform', 'translateX(-50%,-50%')\r\n\r\n    selection.select('g')\r\n        .select(\".addEdge\")\r\n        .attr(\"d\", arc()\r\n            .innerRadius(10)\r\n            .outerRadius(outerRadius)\r\n            .startAngle(0)\r\n            .endAngle(pi / 2)\r\n        )\r\n        .attr('stroke', 'black')\r\n        .style('stroke-width', '1')\r\n        .attr('fill', '#69b3a2')\r\n\r\n    selection.select(\".addEdgeLabel\")\r\n        .attr(\"transform\", \"translate(10, -30)\")\r\n\r\n    selection.select('g')\r\n        .select(\".removeNode\")\r\n        .attr(\"d\", arc()\r\n            .innerRadius(10)\r\n            .outerRadius(outerRadius)\r\n            .startAngle(pi / 2)\r\n            .endAngle(pi)\r\n        )\r\n        .attr('stroke', 'black')\r\n        .style('stroke-width', '1')\r\n        .attr('fill', '#69b3a2')\r\n\r\n    selection.select(\".removeNodeLabel\")\r\n        .attr(\"transform\", \"translate(7, 5)\")\r\n\r\n    selection.select('g')\r\n        .select(\".removeEdges\")\r\n        .attr(\"d\", arc()\r\n            .innerRadius(10)\r\n            .outerRadius(outerRadius)\r\n            .startAngle(pi)\r\n            .endAngle(1.5 * pi)\r\n        )\r\n        .attr('stroke', 'black')\r\n        .style('stroke-width', '1')\r\n        .attr('fill', '#69b3a2')\r\n\r\n    selection.select(\".removeEdgesLabel\")\r\n        .attr(\"transform\", \"translate(-27, 11)\")\r\n\r\n    selection.select('g')\r\n        .select(\".addNodeStartingFromThisNode\")\r\n        .attr(\"d\", arc()\r\n            .innerRadius(10)\r\n            .outerRadius(outerRadius)\r\n            .startAngle(1.5 * pi)\r\n            .endAngle(2 * pi)\r\n        )\r\n        .attr('stroke', 'black')\r\n        .style('stroke-width', '1')\r\n        .attr('fill', '#69b3a2')\r\n\r\n    selection.select(\".addNodeStartingFromThisNodeLabel\")\r\n        .attr(\"transform\", \"translate(-30, -30)\")\r\n\r\n}\r\n\r\nclass Node extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.nodeRef = React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.d3Node = select(this.nodeRef.current)\r\n            .datum(this.props.data)\r\n            .call(enterNode)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.d3Node\r\n            .datum(this.props.data)\r\n            .call(updateNode)\r\n    }\r\n\r\n    handle(e) {\r\n        let jsonData = this.props.data\r\n        let filteredData = []\r\n        for (const key in jsonData) {\r\n            if (key !== \"index\") {\r\n                const val = jsonData[key]\r\n                filteredData.push({ \"key\": key, \"value\": val })\r\n            }\r\n            else {\r\n                break\r\n            }\r\n        }\r\n        if (JSON.stringify(store.getState().nodeData.data) !== JSON.stringify(filteredData)) {\r\n            store.dispatch({ type: 'SHOW_NODE_EDGE_DATA', data: filteredData, header: \"Node\" })\r\n        }\r\n        this.d3Node.select(\"circle\").style(\"fill\", \"#FCBC34\")\r\n    }\r\n\r\n    handleColorChangeBack(e) {\r\n        this.d3Node.select('circle').style('fill', function (d) {\r\n            let firstAttribute = Object.keys(d)[0]\r\n            return color(d[firstAttribute]) \r\n        })\r\n    }\r\n\r\n    showNodeHandlingButtons() {\r\n        if (this.props.editableGraph) {\r\n            if (this.d3Node.select(\".nodeHandlingButtons\").attr(\"visibility\") === \"hidden\") {\r\n                this.d3Node.select(\".nodeHandlingButtons\").attr(\"visibility\", \"visible\").transition().duration(500).attr(\"opacity\", 1)\r\n            } else {\r\n                this.d3Node.select(\".nodeHandlingButtons\").transition().duration(500).attr(\"opacity\", 0)\r\n                setTimeout(() => { this.d3Node.select(\".nodeHandlingButtons\").attr(\"visibility\", \"hidden\") }, 501)\r\n                store.dispatch({ type: 'DELETE_NODE_MODEL' })\r\n            }\r\n        }\r\n    }\r\n\r\n    changeNodeHandlingButtonColorEnter(name) {\r\n        this.d3Node.select(\".\" + name).select(\"path\").style(\"fill\", \"#FCBC34\")\r\n    }\r\n\r\n    changeNodeHandlingButtonColorExit(name) {\r\n        this.d3Node.select(\".\" + name).select(\"path\").style(\"fill\", \"#69b3a2\")\r\n    }\r\n\r\n    handleAddEdge() {\r\n        console.log(this.props.data)\r\n        store.dispatch({ type: 'ACCEPT_EDGE_DRAWING', acceptEdgeDrawing: true })\r\n        store.dispatch({ type: 'ADD_STARTING_EDGE', startingEdge: this.props.data })\r\n        this.showNodeHandlingButtons()\r\n    }\r\n\r\n    handleRemoveNode() {\r\n        let oldData = store.getState().schemaData.schema\r\n        const newNodes = oldData.nodes.filter(node => JSON.stringify(node) !== JSON.stringify(this.props.data))\r\n        const newLinks = oldData.links.filter(link => JSON.stringify(link.source) !== JSON.stringify(this.props.data) && JSON.stringify(link.target) !== JSON.stringify(this.props.data))\r\n        store.dispatch({ type: \"ADD_SCHEMA_DATA\", data: { nodes: newNodes, links: newLinks }, key: \"removedNodeKey\" + newNodes.length })\r\n        this.showNodeHandlingButtons()\r\n    }\r\n\r\n    handleRemoveEdges() {\r\n        let oldData = store.getState().schemaData.schema\r\n        const newLinks = oldData.links.filter(link => JSON.stringify(link.source) !== JSON.stringify(this.props.data) && JSON.stringify(link.target) !== JSON.stringify(this.props.data))\r\n        store.dispatch({ type: \"ADD_SCHEMA_DATA\", data: { nodes: oldData.nodes, links: newLinks }, key: \"removedEdgesKey\" + newLinks.length })\r\n        this.showNodeHandlingButtons()\r\n    }\r\n\r\n    handleAddNodeStartingFromThisNode() {\r\n        let newNode = {}\r\n        for (const key in this.props.data) {\r\n            if (key !== \"index\") {\r\n                newNode[key] = \"\"\r\n            }\r\n            else {\r\n                break\r\n            }\r\n        }\r\n        store.dispatch({ type: 'ADD_NODE_MODEL', textFieldVisible: true, nodeModel: newNode, sourceNode: this.props.data })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <g ref={this.nodeRef} className={this.props.nodeName}>\r\n                <circle onMouseEnter={this.handle.bind(this)} onMouseLeave={this.handleColorChangeBack.bind(this)} onClick={this.showNodeHandlingButtons.bind(this)} />\r\n                <text>{this.props.data.name}</text>\r\n\r\n                <g className=\"nodeHandlingButtons\" display=\"block\" visibility=\"hidden\" opacity=\"0\" >\r\n                    <g className=\"addEdgeElement\" onClick={this.handleAddEdge.bind(this)} onMouseEnter={() => this.changeNodeHandlingButtonColorEnter(\"addEdgeElement\")}\r\n                        onMouseLeave={() => this.changeNodeHandlingButtonColorExit(\"addEdgeElement\")}>\r\n                        <path className=\"addEdge\" />\r\n                        <foreignObject className=\"addEdgeLabel\" width=\"30\" height=\"30\">\r\n                            <i className='fas fa-external-link-alt' style={{ \"fontSize\": \"18px\" }}></i>\r\n                        </foreignObject>\r\n                    </g>\r\n                    <g className=\"removeNodeElement\" onClick={this.handleRemoveNode.bind(this)} onMouseEnter={() => this.changeNodeHandlingButtonColorEnter(\"removeNodeElement\")}\r\n                        onMouseLeave={() => this.changeNodeHandlingButtonColorExit(\"removeNodeElement\")}>\r\n                        <path className=\"removeNode\" />\r\n                        <foreignObject className=\"removeNodeLabel\" width=\"30\" height=\"30\">\r\n                            <i className=\"material-icons\" style={{ \"fontSize\": \"28px\" }}>delete_forever</i>\r\n                        </foreignObject>\r\n                    </g>\r\n                    <g className=\"removeEdgesElement\" onClick={this.handleRemoveEdges.bind(this)} onMouseEnter={() => this.changeNodeHandlingButtonColorEnter(\"removeEdgesElement\")}\r\n                        onMouseLeave={() => this.changeNodeHandlingButtonColorExit(\"removeEdgesElement\")}>\r\n                        <path className=\"removeEdges\" />\r\n                        <foreignObject className=\"removeEdgesLabel\" width=\"30\" height=\"30\">\r\n                            <i className='fas fa-unlink' style={{ \"fontSize\": \"18px\" }}></i>\r\n                        </foreignObject>\r\n                    </g>\r\n                    <g className=\"addNodeStartingFromThisNodeElement\" onClick={this.handleAddNodeStartingFromThisNode.bind(this)} onMouseEnter={() => this.changeNodeHandlingButtonColorEnter(\"addNodeStartingFromThisNodeElement\")}\r\n                        onMouseLeave={() => this.changeNodeHandlingButtonColorExit(\"addNodeStartingFromThisNodeElement\")}>\r\n                        <path className=\"addNodeStartingFromThisNode\" />\r\n                        <foreignObject className=\"addNodeStartingFromThisNodeLabel\" width=\"26\" height=\"23\">\r\n                            <i className='fas fa-plus-circle' style={{ \"fontSize\": \"22px\" }}></i>\r\n                        </foreignObject>\r\n                    </g>\r\n                </g>\r\n            </g>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Node","import React, { Component } from 'react'\r\nimport { select } from 'd3-selection'\r\n\r\nconst enterLink = (selection) => {\r\n\r\n    selection.select('path')\r\n        .attr('stroke-width', 2)\r\n        .style('stroke', 'grey')\r\n        .attr(\"fill\", \"none\")\r\n        .attr(\"marker-end\", \"url(#triangle)\")\r\n\r\n    selection.select('text')\r\n        .attr('dy', '.35em')\r\n        .style('transform', 'translateX(-50%,-50%')\r\n        .attr(\"text-anchor\", \"middle\")\r\n}\r\n\r\nconst updateLink = (selection) => {\r\n    selection\r\n        .attr('x1', (d) => d.source.x)\r\n        .attr('y1', (d) => d.source.y)\r\n        .attr('x2', (d) => d.target.x)\r\n        .attr('y2', (d) => d.target.y)\r\n}\r\n\r\nclass Edge extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.edgeRef = React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.d3Link = select(this.edgeRef.current)\r\n            .datum(this.props.data)\r\n            .call(enterLink)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.d3Link.datum(this.props.data)\r\n            .call(updateLink)\r\n    }\r\n\r\n    handle(e) {\r\n        console.log(this.props + ' been clicked')\r\n    }\r\n\r\n    render() {\r\n        if (this.props.data.name !== undefined) {\r\n            return (\r\n                <g ref={this.edgeRef} className={this.props.linkName}>\r\n                    <path onClick={this.handle.bind(this)} />\r\n                    <text>{this.props.data.name}</text>\r\n                </g>\r\n            )\r\n        }\r\n        else {\r\n            return (\r\n                <g ref={this.edgeRef} className={this.props.linkName}>\r\n                    <path onClick={this.handle.bind(this)} />\r\n                </g>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Edge","\r\nimport React, { Component } from 'react'\r\nimport Node from './Node'\r\nimport Edge from './Edge'\r\nimport { select, selectAll, mouse, event } from 'd3-selection'\r\nimport { drag } from 'd3-drag'\r\nimport { line } from 'd3-shape'\r\nimport { forceSimulation, forceManyBody, forceCenter, forceLink, forceCollide, forceX, forceY } from 'd3-force'\r\nimport store from '../../store'\r\nlet ptdata = []\r\n\r\nfunction drawPath(data, selection) {\r\n    selection.selectAll(\"#dynamicPath\").remove()\r\n    selection.selectAll(\"#dynamicLine\")\r\n        .data([data])\r\n        .append(\"path\")\r\n        .attr(\"id\", \"dynamicPath\")\r\n        .attr(\"class\", \"lineClass\").attr('stroke-width', \"1.5px\").attr(\"stroke\", \"#000\").attr(\"fill\", \"none\")\r\n        .attr(\"d\", line().x(function (d) { return d[0] }).y(function (d) { return d[1] }))\r\n}\r\n\r\nclass Graph extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = { acceptEdgeDrawing: false }\r\n        this.graphRef = React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        const scaledwidth = 0.67 * this.props.width\r\n        const scaledheigth = 0.6 * this.props.height\r\n        const nodeName = this.props.nodeName\r\n        const linkName = this.props.linkName\r\n\r\n        const updateNode = (selection) => {\r\n            selection.attr('transform', (d) => 'translate(' + d.x + ',' + d.y + ')')\r\n        }\r\n\r\n        const updateEdge = (selection) => {\r\n            selection.select('path')\r\n                .attr(\"d\", function (d) {\r\n                    let x1 = d.source.x,\r\n                        y1 = d.source.y,\r\n                        x2 = d.target.x,\r\n                        y2 = d.target.y,\r\n                        drx = 0,\r\n                        dry = 0,\r\n                        xRotation = 0,\r\n                        largeArc = 0\r\n\r\n                    if (x1 === x2 && y1 === y2) {\r\n                        xRotation = 45\r\n                        largeArc = 1\r\n                        drx = 60 / 2\r\n                        dry = 40 / 2\r\n                        x2 = x2 + 1\r\n                        y2 = y2 + 1\r\n                    }\r\n\r\n                    return \"M\" + x1 + \",\" + y1 + \"A\" + drx + \",\" + dry + \" \" + xRotation + \",\" + largeArc + \", 1 \" + x2 + \",\" + y2;\r\n                })\r\n\r\n            selection.select('text')\r\n                .attr(\"x\", function (d) {\r\n                    return ((d.source.x + d.target.x) / 2)\r\n                })\r\n                .attr(\"y\", function (d) {\r\n                    return ((d.source.y + d.target.y) / 2)\r\n                })\r\n        }\r\n\r\n        const updateGraph = (selection) => {\r\n            selection.selectAll('.' + nodeName)\r\n                .call(updateNode)\r\n            selection.selectAll('.' + linkName)\r\n                .call(updateEdge)\r\n        }\r\n        this.d3Graph = select(this.graphRef.current)\r\n\r\n        const force = forceSimulation().nodes(this.props.data.nodes)\r\n            .force('charge', forceManyBody().strength(-150))\r\n            .force('link', forceLink(this.props.data.links).distance(100))\r\n            .force('center', forceCenter().x(scaledwidth / 2).y(scaledheigth / 2))\r\n            .force('collide', forceCollide([10]).iterations([10]))\r\n            .force(\"xAxis\", forceX(scaledwidth / 2).strength(0.05))\r\n            .force(\"yAxis\", forceY(scaledheigth / 2).strength(0.05))\r\n\r\n        function dragStarted(d) {\r\n            if (!event.active) force.alphaTarget(0.3).restart()\r\n            d.fx = d.x\r\n            d.fy = d.y\r\n        }\r\n\r\n        function dragging(d) {\r\n            d.fx = event.x\r\n            d.fy = event.y\r\n        }\r\n\r\n        function dragEnded(d) {\r\n            if (!event.active) force.alphaTarget(0)\r\n            d.fx = null\r\n            d.fy = null\r\n        }\r\n\r\n        selectAll('g.' + nodeName)\r\n            .call(drag()\r\n                .on('start', dragStarted)\r\n                .on('drag', dragging)\r\n                .on('end', dragEnded)\r\n            )\r\n\r\n        force.on('tick', () => {\r\n            this.d3Graph.call(updateGraph)\r\n        })\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        let value = this.state.acceptEdgeDrawing\r\n        this.d3Graph.on(\"mousemove\", function () {\r\n            if (value === true) {\r\n                var pt = mouse(this)\r\n                var selection = select(this)\r\n                tickLine(pt, ptdata, selection)\r\n            }\r\n        }).on('click', function () {\r\n            if (value === true) {\r\n                var coords = mouse(this)\r\n                if (ptdata.length === 0) {\r\n                    ptdata.push(coords)\r\n                } else if (ptdata.length === 1) {\r\n                    ptdata = []\r\n                }\r\n            }\r\n        })\r\n\r\n        function tickLine(point, ptdata, selection) {\r\n            if (ptdata.length > 0) {\r\n                ptdata.push(point)\r\n                drawPath(ptdata, selection)\r\n                if (ptdata.length >= 2) {\r\n                    ptdata.pop()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleStoreChange = () => {\r\n        if (store.getState().edgeDrawing.acceptEdgeDrawing !== this.state.acceptEdgeDrawing) {\r\n            this.setState({ acceptEdgeDrawing: store.getState().edgeDrawing.acceptEdgeDrawing })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        //store.subscribe(this.handleStoreChange)\r\n        const scaledwidth = 0.67 * this.props.width\r\n        const scaledheigth = 0.6 * this.props.height\r\n        const nodes = this.props.data.nodes.map((node, i) => {\r\n            return (\r\n                <Node data={node} name={node.name} key={node.id === undefined ? i : node.id} nodeName={this.props.nodeName} editableGraph={this.props.editableGraph} />)\r\n        })\r\n        const links = this.props.data.links.map((link, i) => {\r\n            return (\r\n                <Edge key={link.id === undefined ? i : link.id} data={link} linkName={this.props.linkName} />)\r\n        })\r\n        return (<div>\r\n            <svg key={this.props.nameClass + 'Key'} className={this.props.nameClass} ref={this.graphRef} width={scaledwidth} height={scaledheigth}>\r\n                <defs>\r\n                    <marker id=\"triangle\"\r\n                        refX=\"21\" refY=\"6\"\r\n                        markerWidth=\"100\" markerHeight=\"100\"\r\n                        orient=\"auto\" markerUnits=\"userSpaceOnUse\">\r\n                        <path d=\"M 0 0 12 6 0 12 3 6\" fill=\"grey\" />\r\n                    </marker>\r\n                </defs>\r\n                <g>\r\n                    {links}\r\n                </g>\r\n                <g>\r\n                    {nodes}\r\n                </g>\r\n                <g id=\"dynamicLine\"></g>\r\n            </svg>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Graph","import React from 'react'\r\nimport Tree from 'react-d3-tree'\r\n \r\n// const myTreeData = [\r\n//   {\r\n//     name: 'Top Level',\r\n//     attributes: {\r\n//       keyA: 'val A',\r\n//       keyB: 'val B',\r\n//       keyC: 'val C',\r\n//     },\r\n//     children: [\r\n//       {\r\n//         name: 'Level 2: A',\r\n//         attributes: {\r\n//           keyA: 'val A',\r\n//           keyB: 'val B',\r\n//           keyC: 'val C',\r\n//         },\r\n//       },\r\n//       {\r\n//         name: 'Level 2: B',\r\n//       },\r\n//     ],\r\n//   },\r\n// ]\r\n\r\nconst svgCircle = {\r\n    shape: 'circle',\r\n    shapeProps: {\r\n      stroke: 'black',\r\n      strokeWidth: '1',\r\n      r: 10\r\n    }\r\n  }\r\n \r\nclass NewTree extends React.Component {\r\n  render() {\r\n    const scaledwidth =  0.9 * this.props.width\r\n    const scaledheigth = 0.6 * this.props.height\r\n    return (\r\n      <div id=\"treeWrapper\" style={{width: scaledwidth, height: scaledheigth}}>\r\n        <Tree data={this.props.treeResult} orientation = \"vertical\" nodeSvgShape={svgCircle} translate = {{x: scaledwidth/2, y: scaledheigth/5}} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewTree","import React, { Component } from 'react'\r\nimport { select } from 'd3-selection'\r\nimport store from '../../store'\r\n\r\nclass MultiEdge extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.edgeRef = React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.d3Link = select(this.edgeRef.current)\r\n            .datum(this.props.data)\r\n            .call(this.enterLink)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.d3Link.datum(this.props.data)\r\n    }\r\n\r\n    enterLink = (selection) => {\r\n        selection.select('path')\r\n            .attr('stroke-width', 2)\r\n            .style('stroke', 'grey')\r\n            .attr(\"fill\", \"none\")\r\n            .attr(\"marker-end\", \"url(#multitriangle\" + this.props.linkName + \")\")\r\n\r\n        selection.select('text')\r\n            .style('transform', 'translateX(-50%,-50%')\r\n            .attr(\"text-anchor\", \"start\")\r\n    }\r\n\r\n    wrapText = (text, width) => {\r\n        let line = [], lineNumber = 0,\r\n            lineHeight = -5, // pxs\r\n            y = this.d3Link.select(\"textPath\").attr(\"y\"),\r\n            dy = parseFloat(this.d3Link.select(\"text\").attr(\"dy\")),\r\n            tspan = this.d3Link.select(\"textPath\").text(null).append(\"tspan\").attr(\"x\", 20).attr(\"y\", y).attr(\"dy\", dy + \"px\")\r\n        let words = text.split(\" \").filter(word => {\r\n            if(word !== \"\" || word !== \"\\n\" || word !== \" \") {\r\n                return word.trim()\r\n            }\r\n            return word\r\n        })\r\n        while (words.length > 0) {\r\n            let word = words.pop()\r\n            line.push(word)\r\n            const printableLine = line.slice().reverse()\r\n            tspan.text(printableLine.join(\" \"))\r\n            if (tspan.node().getComputedTextLength() > width) {\r\n                line.pop()\r\n                const printableLine = line.slice().reverse()\r\n                tspan.text(printableLine.join(\" \"))\r\n                line = [word]\r\n                tspan = this.d3Link.select(\"textPath\").append(\"tspan\").attr(\"x\", 50).attr(\"y\", y).attr(\"dy\", ++lineNumber * lineHeight + dy + \"px\")\r\n            }\r\n        }\r\n    }\r\n\r\n    handleMouseEntering = () => {\r\n        if(this.props.showEdgeLabels) {\r\n        this.d3Link.select(\"text\")\r\n            .attr(\"visibility\", \"visible\")\r\n        this.wrapText(this.props.data.name, 170)\r\n    }\r\n        this.d3Link.select('path')\r\n            .attr('stroke-width', 5)\r\n            .style('stroke', '#666666')\r\n            .attr(\"fill\", \"none\")\r\n        \r\n        store.dispatch({ type: 'SHOW_NODE_EDGE_DATA', data: [{ \"key\": \"label\", \"value\": this.props.data.name }], header: \"Edge\" })\r\n    }\r\n\r\n    handleMouseExiting = () => {\r\n        if(this.props.showEdgeLabels) {\r\n        this.d3Link.select(\"text\")\r\n            .attr(\"visibility\", \"hidden\")\r\n        }\r\n        this.d3Link.select('path')\r\n            .attr('stroke-width', 2)\r\n            .style('stroke', 'grey')\r\n            .attr(\"fill\", \"none\")\r\n        \r\n    }\r\n\r\n    handle(e) {\r\n        console.log(this.props + ' been clicked')\r\n    }\r\n\r\n    render() {\r\n        let pathId\r\n        (this.props.edgekey !== undefined) ? pathId = this.props.edgekey : pathId = this.props.data.name\r\n        if (this.props.data.name !== undefined) {\r\n            return (\r\n                <g ref={this.edgeRef} className={this.props.linkName} onMouseEnter={this.handleMouseEntering.bind(this)} onMouseLeave={this.handleMouseExiting.bind(this)}>\r\n                    <path id={pathId} onClick={this.handle.bind(this)} />\r\n                    <text visibility=\"hidden\"><textPath href={\"#\" + pathId} style={{ textAnchor: \"start\" }} ></textPath></text>\r\n                </g>\r\n            )\r\n        }\r\n        else {\r\n            return (\r\n                <g ref={this.edgeRef} className={this.props.linkName} onMouseEnter={() => this.handleMouseEntering} onMouseLeave={() => this.handleMouseExiting}>\r\n                    <path onClick={this.handle.bind(this)} />\r\n                </g>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default MultiEdge","import React, { Component } from 'react'\r\nimport Node from '../graphComponents/Node'\r\nimport Multiedge from './MultiEdge'\r\nimport { select, selectAll } from 'd3-selection'\r\nimport { event } from 'd3-selection'\r\nimport { drag } from 'd3-drag'\r\nimport { forceSimulation, forceManyBody, forceCenter, forceLink, forceCollide, forceX, forceY } from 'd3-force'\r\n\r\nclass Graph extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.graphRef = React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        const scaledwidth =  0.67 * this.props.width\r\n        const scaledheigth = 0.6 * this.props.height\r\n        const nodeName = this.props.nodeName\r\n        const linkName = this.props.linkName\r\n\r\n        const updateNode = (selection) => {\r\n            selection.attr('transform', (d) => 'translate(' + d.x + ',' + d.y + ')')\r\n        }\r\n\r\n        const updateMultiEdge = (selection) => {\r\n            selection.select('path')\r\n                .attr(\"d\", function (d) {\r\n                    let x1 = d.source.x, y1 = d.source.y,\r\n                        x2 = d.target.x, y2 = d.target.y,\r\n                        dx = x2 - x1, dy = y2 - y1, dr = 0\r\n                    if (d.count > 1) {\r\n                        dr = (1 / d.count - 1) * Math.sqrt(dx * dx + dy * dy)\r\n                    }\r\n                    let drx = dr, dry = dr,\r\n                        xRotation = 0, largeArc = 0, sweep = 1\r\n                    if (x1 === x2 && y1 === y2) {\r\n                        xRotation = 45\r\n                        largeArc = 1\r\n                        sweep = 0\r\n                        drx = 60\r\n                        dry = 40\r\n                        x2 = x2 + 1\r\n                        y2 = y2 + 1\r\n                    }\r\n                    return \"M\" + x1 + \",\" + y1 + \"A\" + drx + \",\" + dry + \" \" + xRotation + \",\" + largeArc + \",\" + sweep + \" \" + x2 + \",\" + y2;\r\n                })\r\n\r\n            selection.select(\"text\").attr(\"dy\", -5)\r\n            selection.select(\"textPath\")\r\n                .style(\"text-anchor\", \"middle\")\r\n                .attr(\"startOffset\", \"50%\")\r\n        }\r\n\r\n        const updateMultiGraph = (selection) => {\r\n            selection.selectAll('.' + nodeName)\r\n                .call(updateNode)\r\n            selection.selectAll('.' + linkName)\r\n                .call(updateMultiEdge)\r\n        }\r\n\r\n        this.d3Graph = select(this.graphRef.current)\r\n\r\n        const force = forceSimulation().nodes(this.props.data.nodes)\r\n            .force('charge', forceManyBody().strength(-100))\r\n            .force('link', forceLink(this.props.data.links).distance(200))\r\n            .force('center', forceCenter().x(scaledwidth / 2).y(scaledheigth / 2))\r\n            .force('collide', forceCollide([90]).iterations([30]))\r\n            .force(\"xAxis\", forceX(scaledwidth / 2).strength(0.01))\r\n            .force(\"yAxis\", forceY(scaledheigth / 2).strength(0.01))\r\n\r\n        function dragStarted(d) {\r\n            if (!event.active) force.alphaTarget(0.3).restart()\r\n            d.fx = d.x\r\n            d.fy = d.y\r\n        }\r\n\r\n        function dragging(d) {\r\n            d.fx = event.x\r\n            d.fy = event.y\r\n        }\r\n\r\n        function dragEnded(d) {\r\n            if (!event.active) force.alphaTarget(0)\r\n            d.fx = null\r\n            d.fy = null\r\n        }\r\n\r\n        selectAll('g.' + nodeName)\r\n            .call(drag()\r\n                .on('start', dragStarted)\r\n                .on('drag', dragging)\r\n                .on('end', dragEnded)\r\n            )\r\n\r\n        force.on('tick', () => {\r\n            this.d3Graph.call(updateMultiGraph)\r\n        })\r\n\r\n    }\r\n\r\n    render() {\r\n        const scaledwidth =  0.67 * this.props.width\r\n        const scaledheigth = 0.6 * this.props.height\r\n        const nodes = this.props.data.nodes.map((node, i) => {\r\n            return (\r\n                <Node data={node} name={node.name} key={node.id} nodeName={this.props.nodeName} editableGraph={this.props.editableGraph} />)\r\n        })\r\n        const links = this.props.data.links.map((link, i) => {\r\n            return (\r\n                <Multiedge key={link.id === undefined ? link.name : link.id} edgekey = {link.id} data={link} linkName={this.props.linkName} showEdgeLabels = {this.props.showEdgeLabels} />)\r\n        })\r\n        return (<div>\r\n            <svg key={this.props.nameClass + 'Key'} className={this.props.nameClass} ref={this.graphRef} width={scaledwidth} height={scaledheigth}>\r\n                <defs>\r\n                    <marker id= { \"multitriangle\" + this.props.linkName }\r\n                        refX=\"21\" refY=\"6\"\r\n                        markerWidth=\"100\" markerHeight=\"100\"\r\n                        orient=\"auto\" markerUnits=\"userSpaceOnUse\">\r\n                        <path d=\"M 0 0 12 6 0 12 3 6\" fill=\"grey\" />\r\n                    </marker>\r\n                </defs>\r\n                <g>\r\n                    {links}\r\n                </g>\r\n                <g>\r\n                    {nodes}\r\n                </g>\r\n            </svg>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Graph","import React, { Component } from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\nimport MultiGraph from '../../dataComponents/multiGraphComponents/MultiGraph'\r\nimport morphisms from './morphismsForCategoricalView'\r\n\r\nclass CategoricalViewOfQuery extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            graphData: undefined, morphisms: morphisms.morphisms.simpleDemo.morphisms\r\n        }\r\n        this.splitted = React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.query !== \"\") {\r\n            let graph = this.parseLetBeInBlock(this.props.query)\r\n            let timeStampInMs = window.performance && window.performance.now && window.performance.timing && window.performance.timing.navigationStart ? window.performance.now() + window.performance.timing.navigationStart : Date.now()\r\n            this.setState({ graphData: graph, graphKey: timeStampInMs })\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.query !== this.props.query) {\r\n            if (this.props.query !== \"\") {\r\n                let graph = this.parseLetBeInBlock(this.props.query)\r\n                let timeStampInMs = window.performance && window.performance.now && window.performance.timing && window.performance.timing.navigationStart ? window.performance.now() + window.performance.timing.navigationStart : Date.now()\r\n                this.setState({ graphData: graph, graphKey: timeStampInMs })\r\n            }\r\n        }\r\n\r\n        if (prevProps.dataSet.nameForCategoricalQueryView !== this.props.dataSet.nameForCategoricalQueryView) {\r\n            this.setState({ morphisms: morphisms.morphisms[this.props.dataSet.nameForCategoricalQueryView].morphisms })\r\n        }\r\n    }\r\n\r\n    parseLetBeInBlock = (query) => {\r\n        let newQuery = query.split(\"BE\").join(\"@\").split(\"IN\").join(\"@\").split(\"@\")\r\n        let blocks = []\r\n        newQuery.map(query => {\r\n            if (query.includes(\"QUERY\")) {\r\n                blocks.push(this.parseQueryBlock(query))\r\n            }\r\n            return query\r\n        })\r\n        let newBlocks = blocks.map(element => {\r\n            console.log(element)\r\n            return this.compositionTreeToGraphWithoutDuplicateNodes({ nodes: [], links: [] }, element)\r\n        })\r\n        console.log(newBlocks)\r\n        let totalGraph = { nodes: [], links: [] }\r\n        newBlocks.map(graph => {\r\n            totalGraph = this.compositionGraphsWithDuplicateNodes(totalGraph, graph)\r\n            return graph\r\n        })\r\n        console.log(totalGraph)\r\n        return totalGraph\r\n    }\r\n\r\n\r\n    parseQueryBlock = (query) => {\r\n        this.splitted = false\r\n        let newQuery = query.split(\"QUERY (\").join(\"@\").split(\"QUERY(\").join(\"@\")\r\n            .split(\")\\n\").join(\"@\").split(\") FROM\").join(\"@\")\r\n            .split(\"FROM\").join(\"@\")\r\n            .split(\"AS\").join(\"@\")\r\n            .split(\"TO\").join(\"@\")\r\n            .split(\"RETURN\").join(\"@\").split(\"@\")\r\n        console.log(newQuery)\r\n        return this.parseLambda(newQuery[1], newQuery[4].trim() + \" \" + newQuery[3].trim(), newQuery[5].trim() + \" \" + newQuery[3].trim())\r\n    }\r\n\r\n    parseLambda = (lambda, domain, target) => {\r\n        let lambdaf = lambda\r\n        try {\r\n            if (lambda.includes(\"->\") && !(this.splitted)) {\r\n                const re = /->(.+)/\r\n                let f = lambda.split(re)\r\n                console.log(f)\r\n                lambdaf = f[1].trim()\r\n                this.splitted = true\r\n                return { domain: target, outerFunction: \"-\", innerFunction: this.parseLambda(lambdaf, target.split(\" \")[1], domain) }\r\n            }\r\n            console.log(lambdaf)\r\n            if (lambdaf.startsWith(\"if\")) {\r\n                let answer = this.parseIf(lambdaf, domain, target)\r\n                return answer\r\n            } else if (lambdaf.startsWith(\"case\")) {\r\n                console.log(lambdaf)\r\n                let g = lambdaf.split(/->(.+)/).join(\"@\").split(\";\").join(\"@\").split(\"@\")\r\n                console.log(g)\r\n                this.parseLambda(g[1].trim(), domain, target)\r\n            } else if (lambdaf.includes(\"==\")) {\r\n                let answer = this.parseBooleanFunction(lambdaf, domain, target, \"==\")\r\n                return answer\r\n            } else if (lambdaf.includes(\"<\")) {\r\n                let answer = this.parseBooleanFunction(lambdaf, domain, target, \"<\")\r\n                return answer\r\n            } else if (lambdaf.includes(\">\")) {\r\n                let answer = this.parseBooleanFunction(lambdaf, domain, target, \">\")\r\n                return answer\r\n            } else {\r\n                return { domain: target.split(\" \")[1], outerFunction: lambda.trim(), target: target }\r\n            }\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n\r\n    }\r\n\r\n    parseIf = (lambda, domain, target) => {\r\n        let parsedLambda = lambda.split(\"if\").join(\"@\").split(\"then\").join(\"@\").split(\"else\").join(\"@\").split(\"@\")\r\n        return { domain: \"Boolean\", outerFunction: lambda.trim(), innerFunction: this.parseLambda(parsedLambda[1], domain, target) }\r\n    }\r\n\r\n    parseBooleanFunction = (lambda, domain, target, operator) => {\r\n        let parsedLambda = lambda.split(operator)\r\n        console.log(parsedLambda)\r\n        let foundMorphism, morphismsTarget\r\n        this.state.morphisms.map(morphism => {\r\n            if (parsedLambda[0].trim().includes(morphism.name)) {\r\n                foundMorphism = parsedLambda[0].trim()\r\n                morphismsTarget = morphism.target\r\n            } else if (parsedLambda[1].trim().includes(morphism.name)) {\r\n                foundMorphism = parsedLambda[1].trim()\r\n                morphismsTarget = morphism.target\r\n            }\r\n            return morphism\r\n        })\r\n        console.log(foundMorphism)\r\n        return { domain: morphismsTarget, outerFunction: lambda.trim(), innerFunction: this.parseLambda(foundMorphism, morphismsTarget, target) }\r\n    }\r\n\r\n    compositionGraphsWithDuplicateNodes = (graph1, graph2) => {\r\n        graph2.nodes.map((node, i) => {\r\n            node.id = graph1.nodes.length + 1\r\n            let newIndex = graph1.nodes.push(node) - 1\r\n            graph2.links = graph2.links.map(link => {\r\n                let newLink = link\r\n                if (link.source === i) {\r\n                    newLink.source = newIndex\r\n                }\r\n                if (link.target === i) {\r\n                    newLink.target = newIndex\r\n                }\r\n                return newLink\r\n            })\r\n            return node\r\n        })\r\n        console.log(graph2.links)\r\n        graph1.links = graph1.links.concat(graph2.links.map((link, i) => {\r\n            link.id = graph1.links.length + i\r\n            return link\r\n        }))\r\n        console.log(graph1)\r\n        return graph1\r\n    }\r\n\r\n    compositionTreeToGraphWithoutDuplicateNodes = (graph, composition) => {\r\n        let sourceIndex\r\n        let targetIndex\r\n        let domainElement\r\n        let targetElement = { name: composition.domain, id: graph.nodes.length }\r\n        if (composition.innerFunction !== undefined) {\r\n            domainElement = { name: composition.innerFunction.domain, id: graph.nodes.length + 1 }\r\n        } else {\r\n            domainElement = { name: composition.target, id: graph.nodes.length + 1 }\r\n        }\r\n\r\n        graph.nodes.map((node, i) => {\r\n            if (node.name === domainElement.name) {\r\n                sourceIndex = i\r\n            }\r\n            if (node.name === targetElement.name) {\r\n                targetIndex = i\r\n            }\r\n            return node\r\n        })\r\n        if (sourceIndex === undefined) {\r\n            sourceIndex = graph.nodes.push(domainElement) - 1\r\n        }\r\n        if (targetIndex === undefined) {\r\n            targetIndex = graph.nodes.push(targetElement) - 1\r\n        }\r\n        let functionName\r\n        if (composition.innerFunction !== undefined) {\r\n            functionName = composition.innerFunction.outerFunction.trim()\r\n        } else {\r\n            functionName = \"type constructor \" + domainElement.name\r\n        }\r\n        graph.links.push({ source: sourceIndex, target: targetIndex, name: functionName, count: 1, id: graph.links.length })\r\n        if (composition.innerFunction !== undefined) {\r\n            graph = this.compositionTreeToGraphWithoutDuplicateNodes(graph, composition.innerFunction)\r\n        }\r\n        return graph\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.parseQueryBlock(this.props.query))\r\n        if (this.state.graphData === undefined) {\r\n            return null\r\n        } else {\r\n            return <Container style={{ margin: \"5px\" }} fluid=\"true\">\r\n                <MultiGraph key={this.state.graphKey} data={this.state.graphData} width={this.props.width} height={this.props.height}\r\n                    nodeName={'ViewOfQueryNodes'} linkName={'ViewOfQueryLinks'} nameClass={'ViewOfQueryClassName'} editableGraph={false} showEdgeLabels={false} />\r\n            </Container>\r\n        }\r\n    }\r\n}\r\n\r\nexport default CategoricalViewOfQuery","import React, { Component } from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport RelationalTabs from '../dataComponents/relationalComponents/relationalTabs'\r\nimport Graph from '../dataComponents/graphComponents/Graph'\r\nimport NewTree from '../dataComponents/newTreeComponents/newTree'\r\nimport Col from 'react-bootstrap/Col'\r\nimport style from '../styles'\r\nimport Button from 'react-bootstrap/Button'\r\nimport CategoricalViewOfQuery from './queryComponents/CategoricalViewOfQuery'\r\n\r\nclass ResultComponent extends Component {\r\n\r\n    render() {\r\n        let renderedElement = null\r\n\r\n        if (this.props.resultSet.model === \"relational\" && this.props.resultSet.resultData !== undefined) {\r\n            renderedElement = <Col>\r\n                <RelationalTabs width={this.props.width} height={this.props.height} key={this.props.resultSet.key} tables={this.props.resultSet.resultData} />\r\n            </Col>\r\n        } else if (this.props.resultSet.model === \"graph\" && this.props.resultSet.resultData !== undefined) {\r\n            renderedElement = <Graph key={this.props.resultSet.key} data={this.props.resultSet.resultData} width={this.props.width} height={this.props.height} nodeName={'GraphNodes'} linkName={'GraphLinks'}\r\n                nameClass={'GraphClassName'} editableGraph={false} />\r\n        } else if (this.props.resultSet.model === \"xml\" && this.props.resultSet.resultData !== undefined) {\r\n            renderedElement = <NewTree key={this.props.resultSet.key} treeResult={this.props.resultSet.resultData} width={this.props.width} height={this.props.height} />\r\n        }\r\n        if (renderedElement === null || (this.props.showResult === false && this.props.showCategoricalView === false)) {\r\n            return null\r\n        } else if (this.props.showCategoricalView === true) {\r\n\r\n            return <Row style={style.basicComponentsStyle}>\r\n                <Container style={{ margin: \"5px\" }} fluid=\"true\">\r\n                    <Col style={{ marginBottom: \"5px\", marginLeft: \"5px\", marginRigth: \"5px\" }}>\r\n                        <Row style={{ marginTop: '5px' }}>\r\n                            <h4>Categorical view of the query {this.props.header}</h4>\r\n                        </Row>\r\n                        <Row ref={this.mainContainer} style={{ \"margin\": \"10px\" }}>\r\n                            <CategoricalViewOfQuery dataSet = {this.props.dataSet} query={this.props.query} width={this.props.width} height={this.props.height} />\r\n                        </Row>\r\n                    </Col>\r\n                </Container>\r\n            </Row>\r\n\r\n        } else {\r\n\r\n            return <Row style={style.basicComponentsStyle}>\r\n                <Container style={{ margin: \"5px\" }} fluid=\"true\">\r\n                    <Col style={{ marginBottom: \"5px\", marginLeft: \"5px\", marginRigth: \"5px\" }}>\r\n                        <Row style={{ marginTop: '5px' }}>\r\n                            <h4>Result</h4>\r\n                            <Button style={{ marginLeft: \"15px\", marginTop: \"5px\", height: \"30px\" }} size=\"sm\" variant=\"dark\" onClick={this.props.initializeResult}>Empty</Button>\r\n                        </Row>\r\n                        <Row ref={this.mainContainer} style={{ \"margin\": \"10px\" }}>\r\n                            {renderedElement}\r\n                        </Row>\r\n                    </Col>\r\n                </Container>\r\n            </Row>\r\n        }\r\n    }\r\n}\r\nexport default ResultComponent","import axios from 'axios'\r\n\r\nconst compileRelationalQuery = async (command) => {\r\n    const answer = await axios.post('http://localhost:3002/query', \"wrapListToJSON $ \" + command, {\r\n        headers: {\r\n            'Content-Type': 'text/plain'\r\n        }\r\n    })\r\n    let jsonDataList = parseJSONList(answer.data)\r\n    if (jsonDataList !== undefined) {\r\n        if (jsonDataList.length === 0) {\r\n            return undefined\r\n        }\r\n        return JSONtoRelationalTables(jsonDataList)\r\n    }\r\n}\r\n\r\nconst compileTreeQuery = async (command) => {\r\n    const answer = await axios.post('http://localhost:3002/query', \"wrapListToJSON $ \" + command, {\r\n        headers: {\r\n            'Content-Type': 'text/plain'\r\n        }\r\n    })\r\n    let jsonDataList = parseJSONList(answer.data)\r\n    if (jsonDataList !== undefined) {\r\n        if (jsonDataList.length === 0) {\r\n            return undefined\r\n        }\r\n        return parseJSONtoTree(jsonDataList)\r\n    }\r\n}\r\n\r\nconst compileGraphQuery = async (command) => {\r\n    const answer = await axios.post('http://localhost:3002/query', \"encode $ createD3Graph $ \" + command, {\r\n        headers: {\r\n            'Content-Type': 'text/plain'\r\n        }\r\n    })\r\n    let graphData\r\n    if (answer.data.includes(\"nodes\") && answer.data.includes(\"links\")) {\r\n        graphData = parseJSONStringtoD3js(answer.data)\r\n    }\r\n    return graphData\r\n}\r\n\r\nconst compileRDFGraphQuery = async (command) => {\r\n    const answer = await axios.post('http://localhost:3002/query', \"encode $ rdfTriplesToD3Graph $ triplesOf \" + command, {\r\n        headers: {\r\n            'Content-Type': 'text/plain'\r\n        }\r\n    })\r\n    let graphData\r\n    if (answer.data.includes(\"nodes\") && answer.data.includes(\"links\")) {\r\n        graphData = parseJSONStringtoD3js(answer.data)\r\n    }\r\n    console.log(graphData)\r\n    return graphData\r\n}\r\n\r\nconst compileNimbleGraphQuery = async (command) => {\r\n    const answer = await axios.post('http://localhost:3002/query', \"encode $ createD3NimbleGraph $ \" + command, {\r\n        headers: {\r\n            'Content-Type': 'text/plain'\r\n        }\r\n    })\r\n    let graphData\r\n    if (answer.data.includes(\"nodes\") && answer.data.includes(\"links\")) {\r\n        graphData = parseJSONStringtoD3js(answer.data)\r\n    }\r\n    console.log(graphData)\r\n    return graphData\r\n}\r\n\r\nconst parseJSONList = (listString) => {\r\n    let m = listString.indexOf('{') - 1\r\n    let n = listString.indexOf('*')\r\n    listString = listString.substring(m !== -1 ? m : 0, n !== -1 ? n : listString.length)\r\n    listString = listString.replace(/\\\\/g, \"\\\\\\\\\\\\\\\\\")\r\n        .replace(/\\\\\\\\\\\\\\\\\"/g, \"\\\\\\\"\")\r\n        .replace(/\\//g, \"\\\\\\\\/\")\r\n    console.log([listString])\r\n    try {\r\n        listString = JSON.parse(JSON.parse(listString))\r\n        return listString[\"result\"]\r\n    } catch (err) {\r\n        console.log(\"Error while parsing the JSON in list.\")\r\n    }\r\n}\r\n\r\nconst JSONtoRelationalTables = (jsonDataList) => {\r\n    let data = []\r\n    let subdata = []\r\n    let attributes\r\n    try {\r\n        attributes = Object.keys(jsonDataList[0])\r\n    } catch {\r\n        return undefined\r\n    }\r\n    \r\n    data.push(attributes)\r\n    jsonDataList.map(element => {\r\n        let elements = Object.values(element)\r\n        let acceptedElements = []\r\n        elements.map(element2 => {\r\n            if (typeof element2 === \"object\") {\r\n                subdata = JSONtoRelationalTables(element2)\r\n                acceptedElements.push(\"List\")\r\n            } else {\r\n                acceptedElements.push(element2)\r\n            }\r\n            return element2\r\n        })\r\n        data.push(acceptedElements)\r\n        return element\r\n    })\r\n    let result = {}\r\n    result[\"data\"] = data\r\n    result[\"eventKey\"] = JSON.stringify(data[0])\r\n    result[\"title\"] = \"Title\"\r\n    let returndata = [result]\r\n    subdata.map(e => returndata.push(e))\r\n    return returndata\r\n}\r\n\r\nconst parseJSONStringtoD3js = (jsonString) => {\r\n    let m = jsonString.indexOf('{') - 1\r\n    let n = jsonString.lastIndexOf('}')\r\n    jsonString = jsonString.substring(m !== -1 ? m : 0, n !== -1 ? n : jsonString.length)\r\n    jsonString = jsonString + '}\"'\r\n    console.log(jsonString)\r\n    try {\r\n        let obj = JSON.parse(JSON.parse(jsonString))\r\n        console.log(obj)\r\n        obj[\"nodes\"] = obj[\"nodes\"].map(node => JSON.parse(node))\r\n        return obj\r\n    } catch (err) {\r\n        console.log(\"Error while parsing the JSON in Graph.\")\r\n    }\r\n}\r\n\r\nconst parseChild = (childElement) => {\r\n    let answer = {\r\n        name: \"\",\r\n        attributes: {},\r\n        children: []\r\n    }\r\n    Object.keys(childElement).forEach(function (key) {\r\n        if (Array.isArray(childElement[key])) {\r\n            answer.name = key\r\n            childElement[key].map(child => answer.children.push(parseChild(child)))\r\n        } else if (hasJsonStructure(JSON.stringify(childElement[key]))) {\r\n            answer.name = key\r\n            answer.children.push(parseChild(childElement[key]))\r\n        } else {\r\n            answer.attributes[key] = childElement[key]\r\n        }\r\n    })\r\n    return answer\r\n}\r\n\r\nconst parseJSONtoTree = (jsonDataList) => {\r\n    let answer = {\r\n        name: \"root\",\r\n        attributes: {},\r\n        children: []\r\n    }\r\n    jsonDataList.map(child => answer.children.push(parseChild(child)))\r\n    return [answer]\r\n}\r\n\r\nconst hasJsonStructure = (str) => {\r\n    if (typeof str !== 'string') return false\r\n    try {\r\n        const result = JSON.parse(str)\r\n        const type = Object.prototype.toString.call(result)\r\n        return type === '[object Object]' \r\n            || type === '[object Array]'\r\n    } catch (err) {\r\n        return false\r\n    }\r\n}\r\n\r\nexport default {\r\n    compileRelationalQuery,\r\n    compileGraphQuery,\r\n    compileTreeQuery,\r\n    compileRDFGraphQuery,\r\n    compileNimbleGraphQuery\r\n}","/* eslint-disable array-callback-return */\r\nimport haskellCompiler from '../services/haskellCompilerService'\r\nimport sourceModels from \"./collectionDataTypesForDatasets.json\"\r\n\r\nconst parseLetInQueryBlock = (inputString) => {\r\n    if (inputString.includes(\"LET\")) {\r\n        let subQueries = inputString.split(\"\\n\")\r\n            .join(\"\")\r\n            .split(\"LET\")\r\n            .join(\"@\")\r\n            .split(\"BE\")\r\n            .join(\"@\")\r\n            .split(\"IN\")\r\n            .join(\"@IN@\")\r\n            .split(\"@\")\r\n        subQueries.shift()\r\n        let mainQuery\r\n        let parsedSubQueries = \"\"\r\n        subQueries.map((query, i) => {\r\n            if (query.includes(\"QUERY\") && subQueries[i - 1] !== \"IN\") {\r\n                let parsed = parseMainQueryBlock(query)\r\n                if (parsed[\"model\"] === \"error\") {\r\n                    console.log(\"error\", parsed[\"message\"])\r\n                    return parsed[\"message\"]\r\n                } else {\r\n                    parsedSubQueries += \"let \" + subQueries[i - 1] + \" = \" + parsed[\"query\"] + \" in \"\r\n                }\r\n            } else if (query.includes(\"QUERY\") && subQueries[i - 1] === \"IN\") {\r\n                mainQuery = parseMainQueryBlock(query)\r\n            }\r\n            return query\r\n        })\r\n        if (mainQuery !== undefined && mainQuery !== \"Error!\") {\r\n            mainQuery[\"query\"] = parsedSubQueries + mainQuery[\"query\"]\r\n            return mainQuery\r\n        }\r\n    } else {\r\n        return parseMainQueryBlock(inputString)\r\n    }\r\n}\r\n\r\nconst parseMainQueryBlock = (inputString) => {\r\n    let haskellQuery = []\r\n    let queryElements = inputString.split(\"\\n\")\r\n        .join(\"\")\r\n        .split(\"QUERY\")\r\n        .join(\"@\")\r\n        .split(\"TO\")\r\n        .join(\"@\")\r\n        .split(\"AS\")\r\n        .join(\"@\")\r\n        .split(\"FROM\")\r\n        .join(\"@\")\r\n        .split(\"RETURN\")\r\n        .join(\"@\")\r\n        .split(\"@\")\r\n    queryElements.shift()\r\n    queryElements = queryElements.map(element => element.trim())\r\n    if (5 === queryElements.length === 4) {\r\n        return {\r\n            \"model\": \"error\",\r\n            \"message\": \"Error! Wrong amount of arguments in the query.\"\r\n        }\r\n    }\r\n    if (queryElements[0][0] !== \"(\" || queryElements[0][queryElements[0].length - 1] !== \")\") {\r\n        return {\r\n            \"model\": \"error\",\r\n            \"message\": \"Error! The lambda function (defined in QUERY line) needs to be in paranthesis.\"\r\n        }\r\n    }\r\n    let i = 0\r\n    if(queryElements.length === 5) {\r\n        i = 1\r\n    }\r\n    console.log(queryElements)\r\n    const lambdafunction = queryElements[0]\r\n    const dataset = queryElements[1]\r\n    let sourceModel = sourceModels[dataset]\r\n    if(sourceModel === undefined) {\r\n        sourceModel = queryElements[2]\r\n    }\r\n    console.log(sourceModel)\r\n    switch (sourceModel) {\r\n        case \"relational\":\r\n        case \"xml\":\r\n        case \"json\":\r\n            haskellQuery.push(\"foldr \")\r\n            switch (queryElements[2 + i]) {\r\n                case \"relational\":\r\n                case \"xml\":\r\n                case \"json\":\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" [] \")\r\n                    haskellQuery.push(dataset)\r\n                    break\r\n                case \"graph\":\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" Algebra.Graph.empty \")\r\n                    haskellQuery.push(dataset)\r\n                    break\r\n                case \"rdf\":\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" RDF.empty \")\r\n                    haskellQuery.push(dataset + \" :: RDF TList\")\r\n                    break\r\n                case \"nimblegraph\":\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" emptyNimbleGraph \")\r\n                    haskellQuery.push(dataset)\r\n                    break\r\n                default:\r\n                    return \"Error!\"\r\n            }\r\n            break\r\n        case \"graph\":\r\n            haskellQuery.push(\"foldg \")\r\n            switch (queryElements[2 + i]) {\r\n                case \"relational\":\r\n                case \"xml\":\r\n                case \"json\":\r\n                    haskellQuery.push(\" [] \")\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" (union) \")\r\n                    haskellQuery.push(\"(union) \")\r\n                    haskellQuery.push(dataset)\r\n                    break\r\n                case \"graph\":\r\n                    haskellQuery.push(\"Algebra.Graph.empty \")\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" overlay \")\r\n                    haskellQuery.push(\"connect \")\r\n                    haskellQuery.push(dataset)\r\n                    break\r\n                case \"rdf\":\r\n                    haskellQuery.push(\" RDF.empty \")\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" rdfUnion \")\r\n                    haskellQuery.push(\"rdfUnion \")\r\n                    haskellQuery.push(dataset + \" :: RDF TList\")\r\n                    break\r\n                case \"nimblegraph\":\r\n                    haskellQuery.push(\" emptyNimbleGraph \")\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" nimbleGraphUnion \")\r\n                    haskellQuery.push(\"nimbleGraphUnion \")\r\n                    haskellQuery.push(dataset)\r\n                    break\r\n                default:\r\n                    return \"Error!\"\r\n            }\r\n            break\r\n        case \"rdf\":\r\n            haskellQuery.push(\"(foldrdf \")\r\n            switch (queryElements[2 + i]) {\r\n                case \"relational\":\r\n                case \"xml\":\r\n                case \"json\":\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" [] \")\r\n                    haskellQuery.push(dataset + \")\")\r\n                    break\r\n                case \"graph\":\r\n                    haskellQuery.push(\"Algebra.Graph.empty \")\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" overlay \")\r\n                    haskellQuery.push(\"connect \")\r\n                    haskellQuery.push(dataset + \")\")\r\n                    break\r\n                case \"rdf\":\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" RDF.empty \")\r\n                    haskellQuery.push(dataset + \" :: RDF TList)\")\r\n                    break\r\n                default:\r\n                    return \"Error!\"\r\n            }\r\n            break\r\n        case \"nimblegraph\":\r\n            haskellQuery.push(\"foldNimble \")\r\n            switch (queryElements[2 + i]) {\r\n                case \"relational\":\r\n                case \"xml\":\r\n                case \"json\":\r\n                    haskellQuery.push(\" [] \")\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" (union) \")\r\n                    haskellQuery.push(\"(union) \")\r\n                    haskellQuery.push(dataset)\r\n                    break\r\n                case \"graph\":\r\n                    haskellQuery.push(\"Algebra.Graph.empty \")\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" overlay \")\r\n                    haskellQuery.push(\"connect \")\r\n                    haskellQuery.push(lambdafunction)\r\n                    break\r\n                case \"rdf\":\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" RDF.empty \")\r\n                    haskellQuery.push(dataset + \" :: RDF TList\")\r\n                    break\r\n                case \"nimblegraph\":\r\n                    haskellQuery.push(lambdafunction)\r\n                    haskellQuery.push(\" (\\\\edge newGraph -> case (Map.lookup (vertexId $ NimbleGraph.NimbleGraph.source edge) (NimbleGraph.NimbleGraph.vertices newGraph)) of Nothing -> newGraph; Just(sourceVertex) -> case Map.lookup (vertexId $ NimbleGraph.NimbleGraph.target edge) (NimbleGraph.NimbleGraph.vertices newGraph) of Nothing -> newGraph; Just(targetVertex) -> addEdge edge newGraph) emptyNimbleGraph \")\r\n                    haskellQuery.push(dataset)\r\n                    break\r\n                default:\r\n                    return \"Error! Target model did not match any model.\"\r\n            }\r\n            break\r\n        default:\r\n            return {\r\n                \"model\": \"error\", \"message\": \"Error! Data model (AS line in the query) did not mathc any data model.\"\r\n            }\r\n    }\r\n    return {\r\n        \"model\": queryElements[2 + i],\r\n        \"query\": haskellQuery.join(\"\")\r\n    }\r\n}\r\n\r\nconst executeQuery = async (inputQuery) => {\r\n    const parsedQueryList = parseLetInQueryBlock(inputQuery)\r\n    if (parsedQueryList === undefined) {\r\n        return {\r\n            \"model\": \"error\",\r\n            \"message\": \"The query is not valid.\"\r\n        }\r\n    } else {\r\n        const model = parsedQueryList[\"model\"]\r\n        const query = parsedQueryList[\"query\"]\r\n        console.log(query)\r\n        switch (model) {\r\n            case \"graph\":\r\n                return {\r\n                \"model\": model,\r\n                \"answer\": await haskellCompiler.compileGraphQuery(query),\r\n                \"fold\": query\r\n                }\r\n            case \"relational\":\r\n                return {\r\n                \"model\": model,\r\n                \"answer\": await haskellCompiler.compileRelationalQuery(query),\r\n                \"fold\": query\r\n                }\r\n            case \"xml\":\r\n                return {\r\n                    \"model\": model,\r\n                    \"answer\": await haskellCompiler.compileTreeQuery(query),\r\n                    \"fold\": query\r\n                }\r\n            case \"rdf\":\r\n                return {\r\n                    \"model\": \"graph\",\r\n                    \"answer\": await haskellCompiler.compileRDFGraphQuery(query),\r\n                    \"fold\": query\r\n                }\r\n            case \"json\":\r\n                return {\r\n                    \"model\": \"xml\",\r\n                    \"answer\": await haskellCompiler.compileTreeQuery(query),\r\n                    \"fold\": query\r\n                }\r\n            case \"nimblegraph\":\r\n                return {\r\n                    \"model\": \"graph\",\r\n                    \"answer\": await haskellCompiler.compileNimbleGraphQuery(query),\r\n                    \"fold\": query\r\n                }\r\n            default:\r\n                return {\r\n                    \"model\": \"error\",\r\n                    \"message\": \"Unexpected error happened. No model was found.\",\r\n                    \"fold\": query\r\n                }\r\n        }\r\n    }\r\n}\r\n\r\nexport default {\r\n    executeQuery,\r\n    parseLetInQueryBlock\r\n}","import React from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\nimport style from '../styles'\r\n\r\nclass PopUpComponent extends React.Component {\r\n    render() {\r\n        return (\r\n            <div style={style.popup}>\r\n                <div style={style.popupInner}>\r\n                    <div style={style.infoTextStyle}>\r\n\r\n                        <h1>MultiCategory Demo System</h1>\r\n\r\n                        <p>You can enter a query to the input field. There is a list of example queries behind the \"Select example query\" dropdown menu.\r\n                        Please note the following restrictions when entering a query.</p>\r\n\r\n                        <ul>\r\n                            <li>Each query must contain parts QUERY, FROM, AS, TO and RETURN in this order.</li>\r\n                            <li>Typed collections have names <i>customers</i> (graph data), <i>orders</i> (xml structured data) and <i>locations</i> (relational data).</li>\r\n                            <li>LET BE IN -clause is optional.</li>\r\n                            <li>At the moment queries support three data models: relational, xml and graph. After AS and TO user must write exactly one of these.</li>\r\n                            <li>If user is querying data to graph model, then the function in QUERY line must have exactly one variable (i.e. \\x -> ...)</li>\r\n                            <li>If user is querying any other model, then the function in QUERY line must have exactly two variables (i.e. \\x xs -> ...) where the second variable refers\r\n                            to the structure where the variable x is inserted.</li>\r\n                        </ul>\r\n\r\n                        <p> You can use the schema category to see attributes' names, data model and other information about the data.</p>\r\n\r\n                        <p>You can find more information about the theoretical background of the system <a href=\"https://www.overleaf.com/read/kqvkvrhcnmxv\">here</a>. \r\n                        Have fun and thanks for the interest!</p>\r\n                        <Button variant=\"dark\" onClick={this.props.closePopup}>Close</Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PopUpComponent;","import React, { Component } from 'react'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport MultiGraph from '../dataComponents/multiGraphComponents/MultiGraph'\r\nimport Container from 'react-bootstrap/Container'\r\nimport style from '../styles'\r\n\r\nclass SchemaComponent extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.mainContainer = React.createRef()\r\n    }\r\n    render() {\r\n        if (!this.props.showSchemaCategory) {\r\n            return null\r\n        } else {\r\n            return <Row style={style.basicComponentsStyle}>\r\n                <Container style={{ margin: \"5px\" }} fluid=\"true\">\r\n                    <Col style={{ marginBottom: \"5px\", marginLeft: \"5px\", marginRigth: \"5px\" }}>\r\n                        <Row style={{ marginTop: '5px' }}>\r\n                            <h4>Schema category of {this.props.dataSet.header}</h4>\r\n                        </Row>\r\n                        <Row ref={this.mainContainer} style={{ \"margin\": \"10px\" }}>\r\n                            <MultiGraph key={this.props.dataSet.schemaKey} data={this.props.dataSet.schemaData} width={this.props.width} height={this.props.height} nodeName={\"SchemaCategoryNodes\"} linkName={\"SchemaCategoryEdges\"} nameClass={\"SchemaCategoryClass\"} editableGraph={false} showEdgeLabels = {true} />\r\n                        </Row>\r\n                    </Col>\r\n                </Container>\r\n                {/*<Row style={style.basicComponentsStyle}>\r\n            <Col>\r\n                <h4>Editable Graph Example</h4>\r\n                <Graph key={this.props.schemaKey} id=\"1\" data={this.props.schemaData} width={this.props.width} height={this.props.height} nodeName={\"schemaNodes\"} linkName={\"schemaLinks\"} nameClass={\"schemaGraph\"} editableGraph={true} />\r\n            </Col>\r\n    </Row>*/}\r\n            </Row>\r\n        }\r\n    }\r\n}\r\nexport default SchemaComponent","import React, { Component } from 'react'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport Col from 'react-bootstrap/Col'\r\n\r\nclass ResultNavigationSidePanel extends Component {\r\n\r\n    render() {\r\n        return <Container>\r\n            <Navbar>\r\n                <Col>\r\n                    <Card >\r\n                        <Card.Header style={{ backgroundColor: \"#BDF2FF\" }}>\r\n                            <Row style = {{margin: \"5px\"}}>\r\n                                <h4>Result</h4>\r\n                            </Row>\r\n                        </Card.Header>\r\n                    </Card>\r\n                    <Nav.Item>\r\n                        <Card >\r\n                            <Card.Header>\r\n                                <Button style={{ width: \"192px\" }} type=\"button\" variant=\"dark\" onClick={this.props.toggleResult}>Result</Button>\r\n                            </Card.Header>\r\n                        </Card>\r\n                    </Nav.Item>\r\n                    <Nav.Item >\r\n                        <Card >\r\n                            <Card.Header>\r\n                                <Button type=\"button\" variant=\"dark\" onClick={this.props.toggleCategoricalView}>Categorical view of query </Button>\r\n                            </Card.Header>\r\n                        </Card>\r\n                    </Nav.Item>\r\n                </Col>\r\n            </Navbar>\r\n        </Container>\r\n    }\r\n}\r\n\r\nexport default ResultNavigationSidePanel","import React, { Component } from 'react'\r\nimport style from '../styles'\r\nimport Dropdown from 'react-bootstrap/Dropdown'\r\n\r\nclass ExampleQueryTypeComponent extends Component {\r\n\r\n    render() {\r\n        return <div style={style.queryButtonStyle}>\r\n            <Dropdown>\r\n                <Dropdown.Toggle variant=\"dark\" id=\"dropdown-basic\">\r\n                    {this.props.header}\r\n                </Dropdown.Toggle>\r\n                <Dropdown.Menu>\r\n                    {this.props.examples.map((example, i) => <Dropdown.Item key={`${i}`} eventKey=\"e1\" onClick={() => this.props.handleExampleQuery(example)}>Example {`${i}`}</Dropdown.Item>)}\r\n                </Dropdown.Menu>\r\n            </Dropdown>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default ExampleQueryTypeComponent","import React, { Component } from 'react'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport ExampleQueryTypeComponent from './ExampleQueryTypeComponent'\r\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar'\r\n\r\nclass ExampleQueryComponent extends Component {\r\n\r\n    render() {\r\n        return <Container style={{ margin: \"5px\" }} fluid=\"true\">\r\n            <Row style={{ marginBottom: \"5px\", marginLeft: \"5px\" }}>\r\n                <div>\r\n                    <h4>{this.props.header}</h4>\r\n                </div>\r\n                <Row style={{ \"margin\": \"10px\" }}>\r\n                    <ButtonToolbar>\r\n                        {this.props.examples.examples.map((exampleCase, i) =>\r\n                            <ExampleQueryTypeComponent key={`${i}`} header={exampleCase[\"header\"]} examples={exampleCase[\"examples\"]} handleExampleQuery={this.props.handleExampleQuery} />)}\r\n                    </ButtonToolbar>\r\n                </Row>\r\n            </Row>\r\n        </Container>\r\n    }\r\n}\r\nexport default ExampleQueryComponent","import axios from 'axios'\r\nimport Notification from '../actions/NotificationAction'\r\n\r\nconst sendFiles = async (file, fileName, fileNames, variableName, uploadingFunction, progressFunction) => {\r\n    const reader = new FileReader()\r\n    const headers = {\r\n        'Content-Type': 'text/plain',\r\n        'FileName': fileName,\r\n        'FileNames': fileNames,\r\n        'UploadingFunction': uploadingFunction,\r\n        'VariableName': variableName\r\n    }\r\n\r\n    reader.onprogress = function(evt) {\r\n        if (evt.lengthComputable) {\r\n            let percentLoaded = Math.round((evt.loaded / evt.total) * 100)\r\n            console.log(percentLoaded)\r\n            progressFunction(percentLoaded)\r\n        }\r\n    }\r\n\r\n    reader.onload = async function (evt) {\r\n        //console.log(evt.target.result)\r\n        try {\r\n            let answer = await axios.post('http://localhost:3002/fileUpload', evt.target.result, { headers: headers })\r\n            let variant = \"error\"\r\n            let message = \"Server failed to process the file.\"\r\n            if(answer.status === 200) {\r\n                variant = \"success\"\r\n                message = answer.data\r\n            }\r\n            console.log(message)\r\n            Notification.notify(message, variant)\r\n            return answer\r\n        } catch(error) {\r\n            console.log(error)\r\n            Notification.notify(\"The file failed to load!\", \"danger\")\r\n            return \"Error\"\r\n        }\r\n    }\r\n\r\n    await reader.readAsText(file)\r\n}\r\n\r\nconst sendFileWithoutUsingIt = async (file, fileName, progressFunction) => {\r\n    const reader = new FileReader()\r\n    const headers = {\r\n        'Content-Type': 'text/plain',\r\n        'FileName': fileName\r\n    }\r\n\r\n    reader.onprogress = function(evt) {\r\n        if (evt.lengthComputable) {\r\n            let percentLoaded = Math.round((evt.loaded / evt.total) * 100)\r\n            console.log(percentLoaded)\r\n            progressFunction(percentLoaded)\r\n        }\r\n    }\r\n\r\n    reader.onload = async function (evt) {\r\n        //console.log(evt.target.result)\r\n        try {\r\n            let answer = await axios.post('http://localhost:3002/uploadWithoutUse', evt.target.result, { headers: headers })\r\n            let variant = \"error\"\r\n            let message = \"Server failed to process the file.\"\r\n            if(answer.status === 200) {\r\n                variant = \"success\"\r\n                message = answer.data\r\n            }\r\n            console.log(message)\r\n            Notification.notify(message, variant)\r\n            return answer\r\n        } catch(error) {\r\n            console.log(error)\r\n            Notification.notify(\"The file failed to load!\", \"danger\")\r\n            return \"Error\"\r\n        }\r\n    }\r\n        await reader.readAsText(file)\r\n}\r\n\r\nexport default { sendFiles, sendFileWithoutUsingIt }","import React, { Component } from 'react'\r\nimport style from '../styles'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nclass UploadForm extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.file = React.createRef()\r\n    }\r\n\r\n    handleFormSubmit = (event) => {\r\n        event.preventDefault()\r\n        console.log(this.file.current.files)\r\n        this.props.setFile(this.file)\r\n        this.props.handleFileSubmit()\r\n    }\r\n\r\n    render() {\r\n        return <Form onSubmit={this.handleFormSubmit} style = {{ \"margin\": \"5px\", \"display\": \"inline-block\" }}>\r\n            <h5>{ this.props.header }</h5>\r\n            <label style={style.fileInputLabelStyle} htmlFor = {this.props.id}>{ \"Select file\" }</label>\r\n            <input name={this.props.name} id={this.props.id} style={style.fileInputStyle} as='input' type=\"file\" ref={this.file} multiple />\r\n            <Button type=\"submit\" value=\"Submit\" variant=\"dark\"><i className='fas fa-upload' style={{ 'fontSize': '20px' }}></i></Button>\r\n        </Form>\r\n    }\r\n}\r\n\r\nexport default UploadForm","import React, { Component } from 'react'\r\nimport styles from '../styles'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\n\r\nclass ProgressBar extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Col>\r\n        <Row>\r\n          <div className=\"ProgressBar\" style={styles.progressBar}>\r\n            <div\r\n              className=\"Progress\"\r\n              style={{\r\n                backgroundColor: \"#616161\",\r\n                height: \"100%\",\r\n                margin: \"0\",\r\n                borderRadius: \"5px\",\r\n                width: this.props.progress + '%'\r\n              }}\r\n            />\r\n          </div>\r\n        </Row>\r\n        <Row>\r\n          {this.props.progress + \"%\"}\r\n        </Row>\r\n      </Col>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ProgressBar","import React, { Component } from 'react'\r\nimport FileSender from '../services/sendFiles'\r\nimport Row from 'react-bootstrap/Row'\r\nimport UploadForm from './UploadForm'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\nimport ProgressBar from './ProgressBar'\r\nimport Dropdown from 'react-bootstrap/Dropdown'\r\n\r\nclass DataUploadComponent extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.file = React.createRef()\r\n        this.state = { dataSet: undefined, progress: -1, uploading: false }\r\n    }\r\n\r\n    handleDatasetChange = (datasetIndex) => {\r\n        this.setState({ dataSet: this.props.uploadInfo[datasetIndex] })\r\n    }\r\n\r\n    setFile = (file) => {\r\n        this.file = file\r\n    }\r\n\r\n    handleFileSubmit = async () => {\r\n        let files = this.file.current.files\r\n        console.log(files)\r\n        let fileNames = \"\"\r\n        let i\r\n        console.log(files.length)\r\n        for (i = 0; i < files.length; i++) {\r\n            if (i === 0) {\r\n                fileNames = files[i].name\r\n            } else {\r\n                fileNames = files[i].name + \";\" + fileNames\r\n            }\r\n        }\r\n        console.log(fileNames)\r\n        const variableName = this.state.dataSet.name\r\n        await this.processFiles(files)\r\n        await FileSender.sendFiles(files[files.length - 1], files[files.length - 1].name, fileNames, variableName, this.state.dataSet[\"loadingFunction\"], this.handleUploadProgressChange)\r\n        setTimeout(() => this.setState({ progress: -1 }), 3000)\r\n    }\r\n\r\n    processFiles = async (files) => {\r\n        let i = 0\r\n        for (const file of files) {\r\n            if (i < files.length - 1) {\r\n                i++\r\n                await FileSender.sendFileWithoutUsingIt(file, file.name, this.handleUploadProgressChange)\r\n            }\r\n        }\r\n    }\r\n\r\n    handleUploadProgressChange = (progress) => {\r\n        this.setState({ progress: progress })\r\n    }\r\n\r\n    render() {\r\n        return <Container style={{ margin: \"5px\" }} fluid=\"true\">\r\n            <Col style={{ marginLeft: \"5px\", marginRigth: \"5px\" }}>\r\n                <Row>\r\n                    <Col>\r\n                        <h4>Upload data</h4>\r\n                    </Col>\r\n                    <Col>\r\n                        <Dropdown>\r\n                            <Dropdown.Toggle variant=\"dark\" id=\"dropdown-collection\">\r\n                                Select collection\r\n                    </Dropdown.Toggle>\r\n                            <Dropdown.Menu>\r\n                                {\r\n                                    this.props.uploadInfo.map((element, i) => <Dropdown.Item eventKey=\"e0\" key={i} onClick={this.handleDatasetChange.bind(this, i)}>{element.name}</Dropdown.Item>)\r\n                                }\r\n                            </Dropdown.Menu>\r\n                        </Dropdown>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    {this.state.dataSet === undefined ? null : <Col>\r\n                        <UploadForm setFile={this.setFile} id={\"fileupload\"} name={\"fileInput\"} handleFileSubmit={this.handleFileSubmit} header={\"Select file for \" + this.state.dataSet[\"name\"]} />\r\n                        {\r\n                            this.state.progress > -1 ? <Row>\r\n                                <ProgressBar progress={this.state.progress} />\r\n                            </Row> : null\r\n                        }\r\n                    </Col>}\r\n                </Row>\r\n            </Col>\r\n        </Container>\r\n    }\r\n}\r\n\r\nexport default DataUploadComponent","import React, { Component } from 'react'\r\nimport Row from 'react-bootstrap/Row'\r\nimport style from '../styles'\r\nimport Container from 'react-bootstrap/Container'\r\nimport ExampleQueryComponent from './ExampleQueryComponent'\r\nimport DataUploadComponent from './DataUploadComponent'\r\nimport Accordion from 'react-bootstrap/Accordion'\r\nimport { useAccordionToggle } from 'react-bootstrap/AccordionToggle'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport Col from 'react-bootstrap/Col'\r\n\r\nfunction CustomToggle({ children, eventKey }) {\r\n    const decoratedOnClick = useAccordionToggle(eventKey)\r\n    return (\r\n        <Button  style = {{ width: \"138px\" }} type=\"button\" variant=\"dark\" onClick={decoratedOnClick}>\r\n            {children}\r\n        </Button>\r\n    )\r\n}\r\n\r\nclass DataSetSidePanel extends Component {\r\n\r\n    render() {\r\n        return <Container>\r\n            <Navbar>\r\n                <Col>\r\n                    <Card >\r\n                        <Card.Header style={{ backgroundColor: \"#BDF2FF\" }}>\r\n                            <Row style = {{margin: \"5px\"}}>\r\n                                <h4>Selected dataset: {this.props.dataSet.header}</h4>\r\n                            </Row>\r\n                        </Card.Header>\r\n                    </Card>\r\n                    <Accordion>\r\n                        <Card >\r\n                            <Card.Header>\r\n                                <CustomToggle eventKey=\"e0\">Upload data</CustomToggle>\r\n                            </Card.Header>\r\n                        </Card>\r\n                        <Accordion.Collapse eventKey=\"e0\">\r\n                            <Row style={style.basicComponentsStyle}>\r\n                                <DataUploadComponent uploadInfo = {this.props.dataSet.metaData} />\r\n                            </Row>\r\n                        </Accordion.Collapse>\r\n                        <Card >\r\n                            <Card.Header>\r\n                                <CustomToggle eventKey=\"e1\">Examples</CustomToggle>\r\n                            </Card.Header>\r\n                        </Card>\r\n                        <Accordion.Collapse eventKey=\"e1\">\r\n                            <Row style={style.basicComponentsStyle}>\r\n                                <ExampleQueryComponent header={this.props.dataSet.header} examples={this.props.dataSet.examples} handleExampleQuery={this.props.handleExampleQuery} />\r\n                            </Row>\r\n                        </Accordion.Collapse>\r\n                    </Accordion>\r\n                    <Nav.Item>\r\n                        <Card >\r\n                            <Card.Header>\r\n                                <Button type=\"button\" variant=\"dark\" onClick={this.props.toggleSchemaCategory}>Schema category </Button>\r\n                            </Card.Header>\r\n                        </Card>\r\n                    </Nav.Item>\r\n                </Col>\r\n            </Navbar>\r\n        </Container>\r\n    }\r\n}\r\n\r\nexport default DataSetSidePanel","import React, { Component } from 'react'\r\nimport style from '../styles'\r\nimport Row from 'react-bootstrap/Row'\r\n\r\nclass FoldViewBox extends Component {\r\n    render() {\r\n        return <Row style={style.basicComponentsStyle}> <div className= \"col\">\r\n            <h4> Query corresponds fold</h4>\r\n            <div>\r\n                {this.props.fold}\r\n            </div>\r\n        </div>\r\n        </Row>\r\n    }\r\n}\r\n\r\nexport default FoldViewBox","import React, { Component } from 'react'\r\nimport Row from 'react-bootstrap/Row'\r\nimport style from '../styles'\r\n\r\nclass ErrorBoundary extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = { hasError: false }\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    // Update state so the next render will show the fallback UI.\r\n    return { hasError: true }\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    // You can also log the error to an error reporting service\r\n    //logErrorToMyService(error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <Row style={style.basicComponentsStyle}> <div className=\"col\">\r\n        <h4> Contents </h4>\r\n        <div>\r\n          <p><b>value:</b> error to express the data </p>\r\n        </div>\r\n      </div>\r\n      </Row>\r\n    }\r\n\r\n    return this.props.children\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary","import React, { Component } from 'react'\r\nimport './App.css'\r\nimport style from './styles'\r\nimport store from './store'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport StatBox from './components/StatBox'\r\nimport FreeTextInputQueryComponent from './components/queryComponents/FreeTextInputQueryComponent'\r\nimport NavigationBarComponent from './components/NavigationBarComponent'\r\nimport NotificationComponent from './components/NotificationComponent'\r\nimport Notification from './actions/NotificationAction'\r\nimport ResultComponent from './components/ResultComponent'\r\nimport foldQuery from './services/foldHaskellBasedQueryParser'\r\nimport PopUpComponent from './components/PopUpComponent'\r\nimport simpleExamples from './queryExamples/simpleDemoDataExamples.json'\r\nimport SchemaComponent from './components/SchemaComponent'\r\nimport initialSchemaData from './schemasForD3/simpleSchema.json'\r\nimport Col from 'react-bootstrap/Col'\r\nimport ResultNavigationSidePanel from './components/ResultNavigationSidePanel'\r\nimport DataSetSidePanel from './components/DataSetSidePanel'\r\nimport uploadInfo from './dataUploadInfo/uploadInfo.json'\r\nimport FoldViewBox from './components/FoldViewBox'\r\nimport ErrorBoundary from './errorBoundary/ErrorBoundary'\r\n\r\nclass App extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tquery: \"\", showedStat: { data: [{ \"header\": undefined, \"key\": undefined, \"value\": undefined }] },\r\n\t\t\twidth: window.innerWidth, height: window.innerHeight, notification: \"\", showPopup: false, fold: undefined,\r\n\t\t\tresultSet: { key: undefined, resultData: undefined, model: undefined },\r\n\t\t\tdataSet: { header: \"Customer-Orders-Locations Dataset\", examples: simpleExamples, \r\n\t\t\tschemaData: initialSchemaData, schemaKey: \"initialKey\", metaData: uploadInfo[\"simpleDemoData\"] }, \r\n\t\t\tshowSchemaCategory: false, showCategoricalView: false, showResult: false, nameForCategoricalQueryView: \"simpleDemo\"\r\n\t\t}\r\n\t\tthis.updateWindowDimensions = this.updateWindowDimensions.bind(this)\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.updateWindowDimensions()\r\n\t\twindow.addEventListener('resize', this.updateWindowDimensions)\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('resize', this.updateWindowDimensions)\r\n\t}\r\n\r\n\tupdateWindowDimensions() {\r\n\t\tthis.setState({ width: window.innerWidth, height: window.innerHeight })\r\n\t}\r\n\r\n\thandleQueryChange = (event) => {\r\n\t\tthis.setState({ query: event.target.value })\r\n\t}\r\n\r\n\ttogglePopup() {\r\n\t\tthis.setState((prevState) => { return { showPopup: !prevState.showPopup } })\r\n\t}\r\n\r\n\ttoggleSchemaCategory(event) {\r\n\t\tevent.preventDefault()\r\n\t\tthis.setState((prevState) => { return { showSchemaCategory: !prevState.showSchemaCategory, showResult: false, showCategoricalView: false } })\r\n\t}\r\n\r\n\ttoggleResult(event) {\r\n\t\tevent.preventDefault()\r\n\t\tthis.setState({ showSchemaCategory: false, showResult: true, showCategoricalView: false })\r\n\t}\r\n\r\n\ttoggleCategoricalView(event) {\r\n\t\tevent.preventDefault()\r\n\t\tthis.setState({ showSchemaCategory: false, showResult: false, showCategoricalView: true })\r\n\t}\r\n\r\n\thandleStoreChange = () => {\r\n\t\tif (this.state.showedStat !== store.getState().nodeData) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowedStat: store.getState().nodeData\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleDataSetChange = (obj) => {\r\n\t\tlet timeStampInMs = window.performance && window.performance.now && window.performance.timing && window.performance.timing.navigationStart ? window.performance.now() + window.performance.timing.navigationStart : Date.now()\r\n\t\tthis.setState({ dataSet: { header: obj.header, examples: obj.examples, schemaData: obj.schemaData, schemaKey: timeStampInMs, metaData: obj.metaData, nameForCategoricalQueryView: obj.nameForCategoricalQueryView }})\r\n\t}\r\n\r\n\thandleExampleQuery = (exampleQuery) => {\r\n\t\tthis.setState({ query: exampleQuery })\r\n\t}\r\n\r\n\tinitializeQueryResult = () => {\r\n\t\tthis.setState({ resultSet: { key: undefined, resultData: undefined, model: undefined } })\r\n\t}\r\n\r\n\thandleQuery = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tfoldQuery.parseLetInQueryBlock(this.state.query)\r\n\t\tlet timeStampInMs = window.performance && window.performance.now && window.performance.timing && window.performance.timing.navigationStart ? window.performance.now() + window.performance.timing.navigationStart : Date.now()\r\n\t\tconst answer = await foldQuery.executeQuery(this.state.query)\r\n\t\tswitch (answer[\"model\"]) {\r\n\t\t\tcase \"error\":\r\n\t\t\t\tNotification.notify(answer[\"message\"], \"warning\")\r\n\t\t\t\tbreak\r\n\t\t\tcase \"relational\":\r\n\t\t\t\tif (answer[\"answer\"] === undefined) {\r\n\t\t\t\t\tNotification.notify(\"Error in expressing the relational result.\", \"warning\")\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ resultSet: { key: timeStampInMs, resultData: answer[\"answer\"], model: \"relational\" }, showResult: true, fold: answer[\"fold\"] })\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t\tcase \"graph\":\r\n\t\t\t\tif (answer[\"answer\"] === undefined) {\r\n\t\t\t\t\tNotification.notify(\"Error in expressing the graph result.\", \"warning\")\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ resultSet: { key: timeStampInMs, resultData: answer[\"answer\"], model: \"graph\" }, showResult: true, fold: answer[\"fold\"] })\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t\tcase \"xml\":\r\n\t\t\t\tif (answer[\"answer\"] === undefined) {\r\n\t\t\t\t\tNotification.notify(\"Error in expressing the XML result.\", \"warning\")\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ resultSet: { key: timeStampInMs, resultData: answer[\"answer\"], model: \"xml\" }, showResult: true, fold: answer[\"fold\"] })\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t\tcase \"json\":\r\n\t\t\t\tif (answer[\"answer\"] === undefined) {\r\n\t\t\t\t\tNotification.notify(\"Error in expressing the json result.\", \"warning\")\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ resultSet: { key: timeStampInMs, resultData: answer[\"answer\"], model: \"json\" }, showResult: true, fold: answer[\"fold\"] })\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t\tcase \"rdf\":\r\n\t\t\t\tif (answer[\"answer\"] === undefined) {\r\n\t\t\t\t\tNotification.notify(\"Error in expressing the rdf result.\", \"warning\")\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ resultSet: { key: timeStampInMs, resultData: answer[\"answer\"], model: \"rdf\" }, showResult: true, fold: answer[\"fold\"] })\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tNotification.notify(\"Unknown error! An answer to the query did not follow any model.\", \"warning\")\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tstore.subscribe(this.handleStoreChange)\r\n\r\n\t\treturn (\r\n\t\t\t<Container style={{ backgroundColor: \"#f1f1f2\", minHeight: this.state.height }} fluid='true'>\r\n\t\t\t\t<NavigationBarComponent />\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col xl={3} style={style.navPanelStyle} >\r\n\t\t\t\t\t\t<DataSetSidePanel dataSet={this.state.dataSet} handleExampleQuery={this.handleExampleQuery} toggleSchemaCategory={this.toggleSchemaCategory.bind(this)} />\r\n\t\t\t\t\t\t<ResultNavigationSidePanel toggleResult={this.toggleResult.bind(this)} toggleCategoricalView={this.toggleCategoricalView.bind(this)} />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col xl={9}>\r\n\t\t\t\t\t\t<Container fluid='true'>\r\n\t\t\t\t\t\t\t<FreeTextInputQueryComponent togglePopup={this.togglePopup.bind(this)} handleQueryChange={this.handleQueryChange} handleQuery={this.handleQuery} query={this.state.query} handleDataSetChange={this.handleDataSetChange} />\r\n\t\t\t\t\t\t\t<NotificationComponent />\r\n\t\t\t\t\t\t\t<SchemaComponent dataSet={this.state.dataSet} width={this.state.width} height={this.state.height} showSchemaCategory={this.state.showSchemaCategory} />\r\n\t\t\t\t\t\t\t<ResultComponent dataSet = {this.state.dataSet} resultSet={this.state.resultSet} width={this.state.width} height={this.state.height} query={this.state.query}\r\n\t\t\t\t\t\t\t\tinitializeResult={this.initializeQueryResult.bind(this)} showCategoricalView={this.state.showCategoricalView} showResult={this.state.showResult} />\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<ErrorBoundary>\r\n\t\t\t\t\t\t\t\t\t<StatBox data={this.state.showedStat} />\r\n\t\t\t\t\t\t\t\t\t</ErrorBoundary>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<FoldViewBox fold = {this.state.fold} />\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t{this.state.showPopup ? <PopUpComponent closePopup={this.togglePopup.bind(this)} /> : null}\r\n\t\t\t</Container>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport store from './store'\r\nimport { Provider } from 'react-redux'\r\n\r\nconst renderApp = () => {\r\n\tReactDOM.render(\r\n\t\t<Provider store = {store}>\r\n\t\t\t<App store = {store}/>\r\n\t\t</Provider>,\r\n\t\tdocument.getElementById('root'))\r\n}\r\n\r\nrenderApp()\r\nstore.subscribe(renderApp)"],"sourceRoot":""}